import{j as a,u as Le,a as Fs,b as st,Q as Vo,c as zo}from"./query-DNaJ3NAU.js";import{a as qo,r as E,g as Bo,c as qe}from"./vendor-BD2DzXP7.js";import{u as Wo,L as _r,a as kr,b as oi,R as Ho,c as Ie,N as Ts,B as Zo}from"./router-D8Av8_QF.js";import{S as Ko,O as li,P as Yo,C as ci,a as Jo,T as di,D as ui,R as Qo}from"./ui-CbClVvcZ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var sn={},Un=qo;sn.createRoot=Un.createRoot,sn.hydrateRoot=Un.hydrateRoot;const Go={},Vn=t=>{let e;const s=new Set,r=(u,f)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const m=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),s.forEach(g=>g(e,m))}},n=()=>e,d={setState:r,getState:n,getInitialState:()=>c,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(Go?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},c=e=t(r,n,d);return d},Xo=t=>t?Vn(t):Vn;var fi={exports:{}},hi={},mi={exports:{}},pi={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=E;function el(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tl=typeof Object.is=="function"?Object.is:el,sl=os.useState,rl=os.useEffect,nl=os.useLayoutEffect,al=os.useDebugValue;function il(t,e){var s=e(),r=sl({inst:{value:s,getSnapshot:e}}),n=r[0].inst,i=r[1];return nl(function(){n.value=s,n.getSnapshot=e,Vr(n)&&i({inst:n})},[t,s,e]),rl(function(){return Vr(n)&&i({inst:n}),t(function(){Vr(n)&&i({inst:n})})},[t]),al(s),s}function Vr(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!tl(t,s)}catch{return!0}}function ol(t,e){return e()}var ll=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ol:il;pi.useSyncExternalStore=os.useSyncExternalStore!==void 0?os.useSyncExternalStore:ll;mi.exports=pi;var cl=mi.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=E,dl=cl;function ul(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fl=typeof Object.is=="function"?Object.is:ul,hl=dl.useSyncExternalStore,ml=Sr.useRef,pl=Sr.useEffect,gl=Sr.useMemo,xl=Sr.useDebugValue;hi.useSyncExternalStoreWithSelector=function(t,e,s,r,n){var i=ml(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=gl(function(){function d(m){if(!c){if(c=!0,u=m,m=r(m),n!==void 0&&o.hasValue){var g=o.value;if(n(g,m))return f=g}return f=m}if(g=f,fl(u,m))return g;var y=r(m);return n!==void 0&&n(g,y)?(u=m,g):(u=m,f=y)}var c=!1,u,f,h=s===void 0?null:s;return[function(){return d(e())},h===null?void 0:function(){return d(h())}]},[e,s,r,n]);var l=hl(t,i[0],i[1]);return pl(function(){o.hasValue=!0,o.value=l},[l]),xl(l),l};fi.exports=hi;var yl=fi.exports;const vl=Bo(yl),gi={},{useDebugValue:bl}=qe,{useSyncExternalStoreWithSelector:wl}=vl;let zn=!1;const jl=t=>t;function Nl(t,e=jl,s){(gi?"production":void 0)!=="production"&&s&&!zn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),zn=!0);const r=wl(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,s);return bl(r),r}const _l=t=>{(gi?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Xo(t):t,s=(r,n)=>Nl(e,r,n);return Object.assign(s,e),s},xi=t=>_l,kl={};function Sl(t,e){let s;try{s=t()}catch{return}return{getItem:n=>{var i;const o=d=>d===null?null:JSON.parse(d,void 0),l=(i=s.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>s.removeItem(n)}}const As=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(r){return As(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return As(r)(s)}}}},Cl=(t,e)=>(s,r,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,j)=>({...j,...p}),...e},o=!1;const l=new Set,d=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...p)},r,n);const u=As(i.serialize),f=()=>{const p=i.partialize({...r()});let j;const b=u({state:p,version:i.version}).then(P=>c.setItem(i.name,P)).catch(P=>{j=P});if(j)throw j;return b},h=n.setState;n.setState=(p,j)=>{h(p,j),f()};const m=t((...p)=>{s(...p),f()},r,n);let g;const y=()=>{var p;if(!c)return;o=!1,l.forEach(b=>b(r()));const j=((p=i.onRehydrateStorage)==null?void 0:p.call(i,r()))||void 0;return As(c.getItem.bind(c))(i.name).then(b=>{if(b)return i.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return i.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var P;return g=i.merge(b,(P=r())!=null?P:m),s(g,!0),f()}).then(()=>{j==null||j(g,void 0),o=!0,d.forEach(b=>b(g))}).catch(b=>{j==null||j(void 0,b)})};return n.persist={setOptions:p=>{i={...i,...p},p.getStorage&&(c=p.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(d.add(p),()=>{d.delete(p)})},y(),g||m},El=(t,e)=>(s,r,n)=>{let i={storage:Sl(()=>localStorage),partialize:y=>y,version:0,merge:(y,p)=>({...p,...y}),...e},o=!1;const l=new Set,d=new Set;let c=i.storage;if(!c)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...y)},r,n);const u=()=>{const y=i.partialize({...r()});return c.setItem(i.name,{state:y,version:i.version})},f=n.setState;n.setState=(y,p)=>{f(y,p),u()};const h=t((...y)=>{s(...y),u()},r,n);n.getInitialState=()=>h;let m;const g=()=>{var y,p;if(!c)return;o=!1,l.forEach(b=>{var P;return b((P=r())!=null?P:h)});const j=((p=i.onRehydrateStorage)==null?void 0:p.call(i,(y=r())!=null?y:h))||void 0;return As(c.getItem.bind(c))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var P;const[T,C]=b;if(m=i.merge(C,(P=r())!=null?P:h),s(m,!0),T)return u()}).then(()=>{j==null||j(m,void 0),m=r(),o=!0,d.forEach(b=>b(m))}).catch(b=>{j==null||j(void 0,b)})};return n.persist={setOptions:y=>{i={...i,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(d.add(y),()=>{d.delete(y)})},i.skipHydration||g(),m||h},Ol=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((kl?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Cl(t,e)):El(t,e),yi=Ol;function vi(t,e){return function(){return t.apply(e,arguments)}}const{toString:Tl}=Object.prototype,{getPrototypeOf:jn}=Object,{iterator:Cr,toStringTag:bi}=Symbol,Er=(t=>e=>{const s=Tl.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ot=t=>(t=t.toLowerCase(),e=>Er(e)===t),Or=t=>e=>typeof e===t,{isArray:gs}=Array,ls=Or("undefined");function Ds(t){return t!==null&&!ls(t)&&t.constructor!==null&&!ls(t.constructor)&&Ze(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const wi=ot("ArrayBuffer");function Al(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&wi(t.buffer),e}const Rl=Or("string"),Ze=Or("function"),ji=Or("number"),$s=t=>t!==null&&typeof t=="object",Pl=t=>t===!0||t===!1,ar=t=>{if(Er(t)!=="object")return!1;const e=jn(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(bi in t)&&!(Cr in t)},Ml=t=>{if(!$s(t)||Ds(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ll=ot("Date"),Fl=ot("File"),Dl=ot("Blob"),$l=ot("FileList"),Il=t=>$s(t)&&Ze(t.pipe),Ul=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ze(t.append)&&((e=Er(t))==="formdata"||e==="object"&&Ze(t.toString)&&t.toString()==="[object FormData]"))},Vl=ot("URLSearchParams"),[zl,ql,Bl,Wl]=["ReadableStream","Request","Response","Headers"].map(ot),Hl=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Is(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),gs(t))for(r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else{if(Ds(t))return;const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(r=0;r<o;r++)l=i[r],e.call(null,t[l],l,t)}}function Ni(t,e){if(Ds(t))return null;e=e.toLowerCase();const s=Object.keys(t);let r=s.length,n;for(;r-- >0;)if(n=s[r],e===n.toLowerCase())return n;return null}const Bt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_i=t=>!ls(t)&&t!==Bt;function rn(){const{caseless:t,skipUndefined:e}=_i(this)&&this||{},s={},r=(n,i)=>{const o=t&&Ni(s,i)||i;ar(s[o])&&ar(n)?s[o]=rn(s[o],n):ar(n)?s[o]=rn({},n):gs(n)?s[o]=n.slice():(!e||!ls(n))&&(s[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Is(arguments[n],r);return s}const Zl=(t,e,s,{allOwnKeys:r}={})=>(Is(e,(n,i)=>{s&&Ze(n)?t[i]=vi(n,s):t[i]=n},{allOwnKeys:r}),t),Kl=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Yl=(t,e,s,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Jl=(t,e,s,r)=>{let n,i,o;const l={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=s!==!1&&jn(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Ql=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const r=t.indexOf(e,s);return r!==-1&&r===s},Gl=t=>{if(!t)return null;if(gs(t))return t;let e=t.length;if(!ji(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Xl=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&jn(Uint8Array)),ec=(t,e)=>{const r=(t&&t[Cr]).call(t);let n;for(;(n=r.next())&&!n.done;){const i=n.value;e.call(t,i[0],i[1])}},tc=(t,e)=>{let s;const r=[];for(;(s=t.exec(e))!==null;)r.push(s);return r},sc=ot("HTMLFormElement"),rc=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),qn=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),nc=ot("RegExp"),ki=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),r={};Is(s,(n,i)=>{let o;(o=e(n,i,t))!==!1&&(r[i]=o||n)}),Object.defineProperties(t,r)},ac=t=>{ki(t,(e,s)=>{if(Ze(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(Ze(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},ic=(t,e)=>{const s={},r=n=>{n.forEach(i=>{s[i]=!0})};return gs(t)?r(t):r(String(t).split(e)),s},oc=()=>{},lc=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function cc(t){return!!(t&&Ze(t.append)&&t[bi]==="FormData"&&t[Cr])}const dc=t=>{const e=new Array(10),s=(r,n)=>{if($s(r)){if(e.indexOf(r)>=0)return;if(Ds(r))return r;if(!("toJSON"in r)){e[n]=r;const i=gs(r)?[]:{};return Is(r,(o,l)=>{const d=s(o,n+1);!ls(d)&&(i[l]=d)}),e[n]=void 0,i}}return r};return s(t,0)},uc=ot("AsyncFunction"),fc=t=>t&&($s(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),Si=((t,e)=>t?setImmediate:e?((s,r)=>(Bt.addEventListener("message",({source:n,data:i})=>{n===Bt&&i===s&&r.length&&r.shift()()},!1),n=>{r.push(n),Bt.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ze(Bt.postMessage)),hc=typeof queueMicrotask<"u"?queueMicrotask.bind(Bt):typeof process<"u"&&process.nextTick||Si,mc=t=>t!=null&&Ze(t[Cr]),w={isArray:gs,isArrayBuffer:wi,isBuffer:Ds,isFormData:Ul,isArrayBufferView:Al,isString:Rl,isNumber:ji,isBoolean:Pl,isObject:$s,isPlainObject:ar,isEmptyObject:Ml,isReadableStream:zl,isRequest:ql,isResponse:Bl,isHeaders:Wl,isUndefined:ls,isDate:Ll,isFile:Fl,isBlob:Dl,isRegExp:nc,isFunction:Ze,isStream:Il,isURLSearchParams:Vl,isTypedArray:Xl,isFileList:$l,forEach:Is,merge:rn,extend:Zl,trim:Hl,stripBOM:Kl,inherits:Yl,toFlatObject:Jl,kindOf:Er,kindOfTest:ot,endsWith:Ql,toArray:Gl,forEachEntry:ec,matchAll:tc,isHTMLForm:sc,hasOwnProperty:qn,hasOwnProp:qn,reduceDescriptors:ki,freezeMethods:ac,toObjectSet:ic,toCamelCase:rc,noop:oc,toFiniteNumber:lc,findKey:Ni,global:Bt,isContextDefined:_i,isSpecCompliantForm:cc,toJSONObject:dc,isAsyncFn:uc,isThenable:fc,setImmediate:Si,asap:hc,isIterable:mc};function re(t,e,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}w.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}});const Ci=re.prototype,Ei={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ei[t]={value:t}});Object.defineProperties(re,Ei);Object.defineProperty(Ci,"isAxiosError",{value:!0});re.from=(t,e,s,r,n,i)=>{const o=Object.create(Ci);w.toFlatObject(t,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return re.call(o,l,d,s,r,n),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const pc=null;function nn(t){return w.isPlainObject(t)||w.isArray(t)}function Oi(t){return w.endsWith(t,"[]")?t.slice(0,-2):t}function Bn(t,e,s){return t?t.concat(e).map(function(n,i){return n=Oi(n),!s&&i?"["+n+"]":n}).join(s?".":""):e}function gc(t){return w.isArray(t)&&!t.some(nn)}const xc=w.toFlatObject(w,{},null,function(e){return/^is[A-Z]/.test(e)});function Tr(t,e,s){if(!w.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=w.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,p){return!w.isUndefined(p[y])});const r=s.metaTokens,n=s.visitor||u,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(e);if(!w.isFunction(n))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(w.isDate(g))return g.toISOString();if(w.isBoolean(g))return g.toString();if(!d&&w.isBlob(g))throw new re("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(g)||w.isTypedArray(g)?d&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,p){let j=g;if(g&&!p&&typeof g=="object"){if(w.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(w.isArray(g)&&gc(g)||(w.isFileList(g)||w.endsWith(y,"[]"))&&(j=w.toArray(g)))return y=Oi(y),j.forEach(function(P,T){!(w.isUndefined(P)||P===null)&&e.append(o===!0?Bn([y],T,i):o===null?y:y+"[]",c(P))}),!1}return nn(g)?!0:(e.append(Bn(p,y,i),c(g)),!1)}const f=[],h=Object.assign(xc,{defaultVisitor:u,convertValue:c,isVisitable:nn});function m(g,y){if(!w.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),w.forEach(g,function(j,b){(!(w.isUndefined(j)||j===null)&&n.call(e,j,w.isString(b)?b.trim():b,y,h))===!0&&m(j,y?y.concat(b):[b])}),f.pop()}}if(!w.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Wn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Nn(t,e){this._pairs=[],t&&Tr(t,this,e)}const Ti=Nn.prototype;Ti.append=function(e,s){this._pairs.push([e,s])};Ti.toString=function(e){const s=e?function(r){return e.call(this,r,Wn)}:Wn;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function yc(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ai(t,e,s){if(!e)return t;const r=s&&s.encode||yc;w.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(e,s):i=w.isURLSearchParams(e)?e.toString():new Nn(e,s).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Hn{constructor(){this.handlers=[]}use(e,s,r){return this.handlers.push({fulfilled:e,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){w.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Ri={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vc=typeof URLSearchParams<"u"?URLSearchParams:Nn,bc=typeof FormData<"u"?FormData:null,wc=typeof Blob<"u"?Blob:null,jc={isBrowser:!0,classes:{URLSearchParams:vc,FormData:bc,Blob:wc},protocols:["http","https","file","blob","url","data"]},_n=typeof window<"u"&&typeof document<"u",an=typeof navigator=="object"&&navigator||void 0,Nc=_n&&(!an||["ReactNative","NativeScript","NS"].indexOf(an.product)<0),_c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kc=_n&&window.location.href||"http://localhost",Sc=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_n,hasStandardBrowserEnv:Nc,hasStandardBrowserWebWorkerEnv:_c,navigator:an,origin:kc},Symbol.toStringTag,{value:"Module"})),Ue={...Sc,...jc};function Cc(t,e){return Tr(t,new Ue.classes.URLSearchParams,{visitor:function(s,r,n,i){return Ue.isNode&&w.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Ec(t){return w.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Oc(t){const e={},s=Object.keys(t);let r;const n=s.length;let i;for(r=0;r<n;r++)i=s[r],e[i]=t[i];return e}function Pi(t){function e(s,r,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&w.isArray(n)?n.length:o,d?(w.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!l):((!n[o]||!w.isObject(n[o]))&&(n[o]=[]),e(s,r,n[o],i)&&w.isArray(n[o])&&(n[o]=Oc(n[o])),!l)}if(w.isFormData(t)&&w.isFunction(t.entries)){const s={};return w.forEachEntry(t,(r,n)=>{e(Ec(r),n,s,0)}),s}return null}function Tc(t,e,s){if(w.isString(t))try{return(e||JSON.parse)(t),w.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const Us={transitional:Ri,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,i=w.isObject(e);if(i&&w.isHTMLForm(e)&&(e=new FormData(e)),w.isFormData(e))return n?JSON.stringify(Pi(e)):e;if(w.isArrayBuffer(e)||w.isBuffer(e)||w.isStream(e)||w.isFile(e)||w.isBlob(e)||w.isReadableStream(e))return e;if(w.isArrayBufferView(e))return e.buffer;if(w.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Cc(e,this.formSerializer).toString();if((l=w.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Tr(l?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),Tc(e)):e}],transformResponse:[function(e){const s=this.transitional||Us.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(w.isResponse(e)||w.isReadableStream(e))return e;if(e&&w.isString(e)&&(r&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?re.from(l,re.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ue.classes.FormData,Blob:Ue.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],t=>{Us.headers[t]={}});const Ac=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rc=t=>{const e={};let s,r,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!s||e[s]&&Ac[s])&&(s==="set-cookie"?e[s]?e[s].push(r):e[s]=[r]:e[s]=e[s]?e[s]+", "+r:r)}),e},Zn=Symbol("internals");function bs(t){return t&&String(t).trim().toLowerCase()}function ir(t){return t===!1||t==null?t:w.isArray(t)?t.map(ir):String(t)}function Pc(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)e[r[1]]=r[2];return e}const Mc=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zr(t,e,s,r,n){if(w.isFunction(r))return r.call(this,e,s);if(n&&(e=s),!!w.isString(e)){if(w.isString(r))return e.indexOf(r)!==-1;if(w.isRegExp(r))return r.test(e)}}function Lc(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,r)=>s.toUpperCase()+r)}function Fc(t,e){const s=w.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(n,i,o){return this[r].call(this,e,n,i,o)},configurable:!0})})}let Ke=class{constructor(e){e&&this.set(e)}set(e,s,r){const n=this;function i(l,d,c){const u=bs(d);if(!u)throw new Error("header name must be a non-empty string");const f=w.findKey(n,u);(!f||n[f]===void 0||c===!0||c===void 0&&n[f]!==!1)&&(n[f||d]=ir(l))}const o=(l,d)=>w.forEach(l,(c,u)=>i(c,u,d));if(w.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(w.isString(e)&&(e=e.trim())&&!Mc(e))o(Rc(e),s);else if(w.isObject(e)&&w.isIterable(e)){let l={},d,c;for(const u of e){if(!w.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?w.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}o(l,s)}else e!=null&&i(s,e,r);return this}get(e,s){if(e=bs(e),e){const r=w.findKey(this,e);if(r){const n=this[r];if(!s)return n;if(s===!0)return Pc(n);if(w.isFunction(s))return s.call(this,n,r);if(w.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=bs(e),e){const r=w.findKey(this,e);return!!(r&&this[r]!==void 0&&(!s||zr(this,this[r],r,s)))}return!1}delete(e,s){const r=this;let n=!1;function i(o){if(o=bs(o),o){const l=w.findKey(r,o);l&&(!s||zr(r,r[l],l,s))&&(delete r[l],n=!0)}}return w.isArray(e)?e.forEach(i):i(e),n}clear(e){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const i=s[r];(!e||zr(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const s=this,r={};return w.forEach(this,(n,i)=>{const o=w.findKey(r,i);if(o){s[o]=ir(n),delete s[i];return}const l=e?Lc(i):String(i).trim();l!==i&&delete s[i],s[l]=ir(n),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return w.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=e&&w.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const r=new this(e);return s.forEach(n=>r.set(n)),r}static accessor(e){const r=(this[Zn]=this[Zn]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=bs(o);r[l]||(Fc(n,o),r[l]=!0)}return w.isArray(e)?e.forEach(i):i(e),this}};Ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(Ke.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[s]=r}}});w.freezeMethods(Ke);function qr(t,e){const s=this||Us,r=e||s,n=Ke.from(r.headers);let i=r.data;return w.forEach(t,function(l){i=l.call(s,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function Mi(t){return!!(t&&t.__CANCEL__)}function xs(t,e,s){re.call(this,t??"canceled",re.ERR_CANCELED,e,s),this.name="CanceledError"}w.inherits(xs,re,{__CANCEL__:!0});function Li(t,e,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):e(new re("Request failed with status code "+s.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Dc(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function $c(t,e){t=t||10;const s=new Array(t),r=new Array(t);let n=0,i=0,o;return e=e!==void 0?e:1e3,function(d){const c=Date.now(),u=r[i];o||(o=c),s[n]=d,r[n]=c;let f=i,h=0;for(;f!==n;)h+=s[f++],f=f%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),c-o<e)return;const m=u&&c-u;return m?Math.round(h*1e3/m):void 0}}function Ic(t,e){let s=0,r=1e3/e,n,i;const o=(c,u=Date.now())=>{s=u,n=null,i&&(clearTimeout(i),i=null),t(...c)};return[(...c)=>{const u=Date.now(),f=u-s;f>=r?o(c,u):(n=c,i||(i=setTimeout(()=>{i=null,o(n)},r-f)))},()=>n&&o(n)]}const lr=(t,e,s=3)=>{let r=0;const n=$c(50,250);return Ic(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-r,c=n(d),u=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},s)},Kn=(t,e)=>{const s=t!=null;return[r=>e[0]({lengthComputable:s,total:t,loaded:r}),e[1]]},Yn=t=>(...e)=>w.asap(()=>t(...e)),Uc=Ue.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,Ue.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(Ue.origin),Ue.navigator&&/(msie|trident)/i.test(Ue.navigator.userAgent)):()=>!0,Vc=Ue.hasStandardBrowserEnv?{write(t,e,s,r,n,i){const o=[t+"="+encodeURIComponent(e)];w.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),w.isString(r)&&o.push("path="+r),w.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zc(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function qc(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Fi(t,e,s){let r=!zc(e);return t&&(r||s==!1)?qc(t,e):e}const Jn=t=>t instanceof Ke?{...t}:t;function Zt(t,e){e=e||{};const s={};function r(c,u,f,h){return w.isPlainObject(c)&&w.isPlainObject(u)?w.merge.call({caseless:h},c,u):w.isPlainObject(u)?w.merge({},u):w.isArray(u)?u.slice():u}function n(c,u,f,h){if(w.isUndefined(u)){if(!w.isUndefined(c))return r(void 0,c,f,h)}else return r(c,u,f,h)}function i(c,u){if(!w.isUndefined(u))return r(void 0,u)}function o(c,u){if(w.isUndefined(u)){if(!w.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u,f)=>n(Jn(c),Jn(u),f,!0)};return w.forEach(Object.keys({...t,...e}),function(u){const f=d[u]||n,h=f(t[u],e[u],u);w.isUndefined(h)&&f!==l||(s[u]=h)}),s}const Di=t=>{const e=Zt({},t);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=e;if(e.headers=o=Ke.from(o),e.url=Ai(Fi(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),w.isFormData(s)){if(Ue.hasStandardBrowserEnv||Ue.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(w.isFunction(s.getHeaders)){const d=s.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,f])=>{c.includes(u.toLowerCase())&&o.set(u,f)})}}if(Ue.hasStandardBrowserEnv&&(r&&w.isFunction(r)&&(r=r(e)),r||r!==!1&&Uc(e.url))){const d=n&&i&&Vc.read(i);d&&o.set(n,d)}return e},Bc=typeof XMLHttpRequest<"u",Wc=Bc&&function(t){return new Promise(function(s,r){const n=Di(t);let i=n.data;const o=Ke.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=n,u,f,h,m,g;function y(){m&&m(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout;function j(){if(!p)return;const P=Ke.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:P,config:t,request:p};Li(function(F){s(F),y()},function(F){r(F),y()},C),p=null}"onloadend"in p?p.onloadend=j:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(j)},p.onabort=function(){p&&(r(new re("Request aborted",re.ECONNABORTED,t,p)),p=null)},p.onerror=function(T){const C=T&&T.message?T.message:"Network Error",K=new re(C,re.ERR_NETWORK,t,p);K.event=T||null,r(K),p=null},p.ontimeout=function(){let T=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||Ri;n.timeoutErrorMessage&&(T=n.timeoutErrorMessage),r(new re(T,C.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,t,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&w.forEach(o.toJSON(),function(T,C){p.setRequestHeader(C,T)}),w.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),l&&l!=="json"&&(p.responseType=n.responseType),c&&([h,g]=lr(c,!0),p.addEventListener("progress",h)),d&&p.upload&&([f,m]=lr(d),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",m)),(n.cancelToken||n.signal)&&(u=P=>{p&&(r(!P||P.type?new xs(null,t,p):P),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const b=Dc(n.url);if(b&&Ue.protocols.indexOf(b)===-1){r(new re("Unsupported protocol "+b+":",re.ERR_BAD_REQUEST,t));return}p.send(i||null)})},Hc=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let r=new AbortController,n;const i=function(c){if(!n){n=!0,l();const u=c instanceof Error?c:this.reason;r.abort(u instanceof re?u:new xs(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new re(`timeout ${e} of ms exceeded`,re.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>w.asap(l),d}},Zc=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let r=0,n;for(;r<s;)n=r+e,yield t.slice(r,n),r=n},Kc=async function*(t,e){for await(const s of Yc(t))yield*Zc(s,e)},Yc=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:r}=await e.read();if(s)break;yield r}}finally{await e.cancel()}},Qn=(t,e,s,r)=>{const n=Kc(t,e);let i=0,o,l=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await n.next();if(c){l(),d.close();return}let f=u.byteLength;if(s){let h=i+=f;s(h)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},Gn=64*1024,{isFunction:Gs}=w,Jc=(({Request:t,Response:e})=>({Request:t,Response:e}))(w.global),{ReadableStream:Xn,TextEncoder:ea}=w.global,ta=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Qc=t=>{t=w.merge.call({skipUndefined:!0},Jc,t);const{fetch:e,Request:s,Response:r}=t,n=e?Gs(e):typeof fetch=="function",i=Gs(s),o=Gs(r);if(!n)return!1;const l=n&&Gs(Xn),d=n&&(typeof ea=="function"?(g=>y=>g.encode(y))(new ea):async g=>new Uint8Array(await new s(g).arrayBuffer())),c=i&&l&&ta(()=>{let g=!1;const y=new s(Ue.origin,{body:new Xn,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),u=o&&l&&ta(()=>w.isReadableStream(new r("").body)),f={stream:u&&(g=>g.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(y,p)=>{let j=y&&y[g];if(j)return j.call(y);throw new re(`Response type '${g}' is not supported`,re.ERR_NOT_SUPPORT,p)})});const h=async g=>{if(g==null)return 0;if(w.isBlob(g))return g.size;if(w.isSpecCompliantForm(g))return(await new s(Ue.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(w.isArrayBufferView(g)||w.isArrayBuffer(g))return g.byteLength;if(w.isURLSearchParams(g)&&(g=g+""),w.isString(g))return(await d(g)).byteLength},m=async(g,y)=>{const p=w.toFiniteNumber(g.getContentLength());return p??h(y)};return async g=>{let{url:y,method:p,data:j,signal:b,cancelToken:P,timeout:T,onDownloadProgress:C,onUploadProgress:K,responseType:F,headers:I,withCredentials:Q="same-origin",fetchOptions:X}=Di(g),ne=e||fetch;F=F?(F+"").toLowerCase():"text";let _=Hc([b,P&&P.toAbortSignal()],T),z=null;const k=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let M;try{if(K&&c&&p!=="get"&&p!=="head"&&(M=await m(I,j))!==0){let V=new s(y,{method:"POST",body:j,duplex:"half"}),ve;if(w.isFormData(j)&&(ve=V.headers.get("content-type"))&&I.setContentType(ve),V.body){const[Se,De]=Kn(M,lr(Yn(K)));j=Qn(V.body,Gn,Se,De)}}w.isString(Q)||(Q=Q?"include":"omit");const Y=i&&"credentials"in s.prototype,me={...X,signal:_,method:p.toUpperCase(),headers:I.normalize().toJSON(),body:j,duplex:"half",credentials:Y?Q:void 0};z=i&&new s(y,me);let se=await(i?ne(z,X):ne(y,me));const ye=u&&(F==="stream"||F==="response");if(u&&(C||ye&&k)){const V={};["status","statusText","headers"].forEach(tt=>{V[tt]=se[tt]});const ve=w.toFiniteNumber(se.headers.get("content-length")),[Se,De]=C&&Kn(ve,lr(Yn(C),!0))||[];se=new r(Qn(se.body,Gn,Se,()=>{De&&De(),k&&k()}),V)}F=F||"text";let A=await f[w.findKey(f,F)||"text"](se,g);return!ye&&k&&k(),await new Promise((V,ve)=>{Li(V,ve,{data:A,headers:Ke.from(se.headers),status:se.status,statusText:se.statusText,config:g,request:z})})}catch(Y){throw k&&k(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,g,z),{cause:Y.cause||Y}):re.from(Y,Y&&Y.code,g,z)}}},Gc=new Map,$i=t=>{let e=t?t.env:{};const{fetch:s,Request:r,Response:n}=e,i=[r,n,s];let o=i.length,l=o,d,c,u=Gc;for(;l--;)d=i[l],c=u.get(d),c===void 0&&u.set(d,c=l?new Map:Qc(e)),u=c;return c};$i();const on={http:pc,xhr:Wc,fetch:{get:$i}};w.forEach(on,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sa=t=>`- ${t}`,Xc=t=>w.isFunction(t)||t===null||t===!1,Ii={getAdapter:(t,e)=>{t=w.isArray(t)?t:[t];const{length:s}=t;let r,n;const i={};for(let o=0;o<s;o++){r=t[o];let l;if(n=r,!Xc(r)&&(n=on[(l=String(r)).toLowerCase()],n===void 0))throw new re(`Unknown adapter '${l}'`);if(n&&(w.isFunction(n)||(n=n.get(e))))break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=s?o.length>1?`since :
`+o.map(sa).join(`
`):" "+sa(o[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:on};function Br(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xs(null,t)}function ra(t){return Br(t),t.headers=Ke.from(t.headers),t.data=qr.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ii.getAdapter(t.adapter||Us.adapter,t)(t).then(function(r){return Br(t),r.data=qr.call(t,t.transformResponse,r),r.headers=Ke.from(r.headers),r},function(r){return Mi(r)||(Br(t),r&&r.response&&(r.response.data=qr.call(t,t.transformResponse,r.response),r.response.headers=Ke.from(r.response.headers))),Promise.reject(r)})}const Ui="1.12.2",Ar={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ar[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const na={};Ar.transitional=function(e,s,r){function n(i,o){return"[Axios v"+Ui+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(e===!1)throw new re(n(o," has been removed"+(s?" in "+s:"")),re.ERR_DEPRECATED);return s&&!na[o]&&(na[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(i,o,l):!0}};Ar.spelling=function(e){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function ed(t,e,s){if(typeof t!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const i=r[n],o=e[i];if(o){const l=t[i],d=l===void 0||o(l,i,t);if(d!==!0)throw new re("option "+i+" must be "+d,re.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new re("Unknown option "+i,re.ERR_BAD_OPTION)}}const or={assertOptions:ed,validators:Ar},lt=or.validators;let Ht=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Hn,response:new Hn}}async request(e,s){try{return await this._request(e,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Zt(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:i}=s;r!==void 0&&or.assertOptions(r,{silentJSONParsing:lt.transitional(lt.boolean),forcedJSONParsing:lt.transitional(lt.boolean),clarifyTimeoutError:lt.transitional(lt.boolean)},!1),n!=null&&(w.isFunction(n)?s.paramsSerializer={serialize:n}:or.assertOptions(n,{encode:lt.function,serialize:lt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),or.assertOptions(s,{baseUrl:lt.spelling("baseURL"),withXsrfToken:lt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&w.merge(i.common,i[s.method]);i&&w.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),s.headers=Ke.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(d=d&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,f=0,h;if(!d){const g=[ra.bind(this),void 0];for(g.unshift(...l),g.push(...c),h=g.length,u=Promise.resolve(s);f<h;)u=u.then(g[f++],g[f++]);return u}h=l.length;let m=s;for(;f<h;){const g=l[f++],y=l[f++];try{m=g(m)}catch(p){y.call(this,p);break}}try{u=ra.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=Zt(this.defaults,e);const s=Fi(e.baseURL,e.url,e.allowAbsoluteUrls);return Ai(s,e.params,e.paramsSerializer)}};w.forEach(["delete","get","head","options"],function(e){Ht.prototype[e]=function(s,r){return this.request(Zt(r||{},{method:e,url:s,data:(r||{}).data}))}});w.forEach(["post","put","patch"],function(e){function s(r){return function(i,o,l){return this.request(Zt(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ht.prototype[e]=s(),Ht.prototype[e+"Form"]=s(!0)});let td=class Vi{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,l){r.reason||(r.reason=new xs(i,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=r=>{e.abort(r)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new Vi(function(n){e=n}),cancel:e}}};function sd(t){return function(s){return t.apply(null,s)}}function rd(t){return w.isObject(t)&&t.isAxiosError===!0}const ln={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ln).forEach(([t,e])=>{ln[e]=t});function zi(t){const e=new Ht(t),s=vi(Ht.prototype.request,e);return w.extend(s,Ht.prototype,e,{allOwnKeys:!0}),w.extend(s,e,null,{allOwnKeys:!0}),s.create=function(n){return zi(Zt(t,n))},s}const Re=zi(Us);Re.Axios=Ht;Re.CanceledError=xs;Re.CancelToken=td;Re.isCancel=Mi;Re.VERSION=Ui;Re.toFormData=Tr;Re.AxiosError=re;Re.Cancel=Re.CanceledError;Re.all=function(e){return Promise.all(e)};Re.spread=sd;Re.isAxiosError=rd;Re.mergeConfig=Zt;Re.AxiosHeaders=Ke;Re.formToJSON=t=>Pi(w.isHTMLForm(t)?new FormData(t):t);Re.getAdapter=Ii.getAdapter;Re.HttpStatusCode=ln;Re.default=Re;const{Axios:ug,AxiosError:fg,CanceledError:hg,isCancel:mg,CancelToken:pg,VERSION:gg,all:xg,Cancel:yg,isAxiosError:vg,spread:bg,toFormData:wg,AxiosHeaders:jg,HttpStatusCode:Ng,formToJSON:_g,getAdapter:kg,mergeConfig:Sg}=Re,nd="https://maximum.stoor.ir/wp-json/user-cards-bridge/v1",qt=Re.create({baseURL:nd,timeout:3e4,headers:{"Content-Type":"application/json"}});qt.interceptors.request.use(t=>{const s=(()=>{var o;const r=localStorage.getItem("token"),n=l=>{if(typeof l=="string"&&l.trim()!=="")return l;if(l&&typeof l=="object"){const d=l.token??l.access_token??l.jwt;if(typeof d=="string"&&d.trim()!=="")return d}return null};if(r)try{return n(JSON.parse(r))}catch{return n(r)}const i=localStorage.getItem("auth-storage");if(i)try{const l=JSON.parse(i);return n(((o=l==null?void 0:l.state)==null?void 0:o.token)??null)}catch{return null}return null})();return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));qt.interceptors.response.use(t=>t,t=>{var s,r,n,i,o,l,d,c;if(((s=t.response)==null?void 0:s.status)===401)return localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",Promise.reject(t);const e={success:!1,data:null,error:{code:((i=(n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)==null?void 0:i.code)||"UNKNOWN_ERROR",message:((d=(l=(o=t.response)==null?void 0:o.data)==null?void 0:l.error)==null?void 0:d.message)||t.message||"خطای نامشخص",status:((c=t.response)==null?void 0:c.status)||500}};return Promise.reject(e)});const de={get:(t,e)=>qt.get(t,e).then(s=>s.data),post:(t,e,s)=>qt.post(t,e,s).then(r=>r.data),put:(t,e,s)=>qt.put(t,e,s).then(r=>r.data),patch:(t,e,s)=>qt.patch(t,e,s).then(r=>r.data),delete:(t,e)=>qt.delete(t,e).then(s=>s.data)},aa={login:t=>de.post("/auth/login",t),register:t=>de.post("/auth/register",t),logout:()=>de.post("/auth/logout")},Pt={getManagers:()=>de.get("/managers"),getSupervisors:t=>de.get("/supervisors",{params:t}),getSupervisor:t=>de.get(`/supervisors/${t}`),getSupervisorCards:t=>de.get(`/supervisors/${t}/cards`),assignSupervisorCards:(t,e,s=!1)=>de.post(`/supervisors/${t}/cards`,{cards:e,set_default:s?1:0}),getAgents:t=>de.get("/agents",{params:t}),getAgent:t=>de.get(`/agents/${t}`),createAgent:t=>de.post("/agents",t),updateAgentSupervisor:(t,e)=>de.patch(`/agents/${t}/supervisor`,{supervisor_id:e})},ct={getCustomers:t=>de.get("/customers",{params:t}),getCustomerTabs:()=>de.get("/customers/tabs"),getCustomer:t=>de.get(`/customers/${t}`),updateCustomerStatus:(t,e,s)=>de.patch(`/customers/${t}/status`,{status:e,reason:s}),addCustomerNote:(t,e)=>de.post(`/customers/${t}/notes`,{note:e}),assignSupervisor:(t,e)=>de.post(`/customers/${t}/assign-supervisor`,{supervisor_id:e}),assignAgent:(t,e)=>de.post(`/customers/${t}/assign-agent`,{agent_id:e}),sendNormalCode:t=>de.post(`/customers/${t}/normal/send-code`),initUpsell:(t,e,s)=>de.post(`/customers/${t}/upsell/init`,{card_id:e,field_key:s})},Vs={getCards:t=>de.get("/cards",{params:t}),getCard:t=>de.get(`/cards/${t}`),getCardFields:t=>de.get(`/cards/${t}/fields`),getSupervisorCards:t=>de.get(`/supervisors/${t}/cards`)},ad={getForms:t=>de.get("/forms",{params:t}),getForm:t=>de.get(`/forms/${t}`)},Wr={getSchedule:(t,e)=>de.get(`/schedule/${t}/${e}`),updateSchedule:(t,e,s)=>de.put(`/schedule/${t}/${e}`,{matrix:s}),getAvailability:(t,e)=>de.get(`/availability/${t}`,{params:{supervisor_id:e}})},id={getReservations:t=>de.get("/reservations",{params:t}),getReservation:t=>de.get(`/reservations/${t}`),createReservation:t=>de.post("/reservations",t),cancelReservation:t=>de.delete(`/reservations/${t}`)},Xs={sendSMS:t=>de.post("/sms/send",t),getSMSLogs:t=>de.get("/sms/logs",{params:t}),getSMSStatistics:t=>de.get("/sms/statistics",{params:t}),testSMS:()=>de.post("/sms/test")},od={getSummary:t=>de.get("/dashboard/summary",{params:t})};function qi(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(s=qi(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function Bi(){for(var t,e,s=0,r="",n=arguments.length;s<n;s++)(t=arguments[s])&&(e=qi(t))&&(r&&(r+=" "),r+=e);return r}const kn="-",ld=t=>{const e=dd(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(kn);return l[0]===""&&l.length!==1&&l.shift(),Wi(l,e)||cd(o)},getConflictingClassGroupIds:(o,l)=>{const d=s[o]||[];return l&&r[o]?[...d,...r[o]]:d}}},Wi=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],r=e.nextPart.get(s),n=r?Wi(t.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const i=t.join(kn);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},ia=/^\[(.+)\]$/,cd=t=>{if(ia.test(t)){const e=ia.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},dd=t=>{const{theme:e,prefix:s}=t,r={nextPart:new Map,validators:[]};return fd(Object.entries(t.classGroups),s).forEach(([i,o])=>{cn(o,r,i,e)}),r},cn=(t,e,s,r)=>{t.forEach(n=>{if(typeof n=="string"){const i=n===""?e:oa(e,n);i.classGroupId=s;return}if(typeof n=="function"){if(ud(n)){cn(n(r),e,s,r);return}e.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{cn(o,oa(e,i),s,r)})})},oa=(t,e)=>{let s=t;return e.split(kn).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},ud=t=>t.isThemeGetter,fd=(t,e)=>e?t.map(([s,r])=>{const n=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[s,n]}):t,hd=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const n=(i,o)=>{s.set(i,o),e++,e>t&&(e=0,r=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},Hi="!",md=t=>{const{separator:e,experimentalParseClassName:s}=t,r=e.length===1,n=e[0],i=e.length,o=l=>{const d=[];let c=0,u=0,f;for(let p=0;p<l.length;p++){let j=l[p];if(c===0){if(j===n&&(r||l.slice(p,p+i)===e)){d.push(l.slice(u,p)),u=p+i;continue}if(j==="/"){f=p;continue}}j==="["?c++:j==="]"&&c--}const h=d.length===0?l:l.substring(u),m=h.startsWith(Hi),g=m?h.substring(1):h,y=f&&f>u?f-u:void 0;return{modifiers:d,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}};return s?l=>s({className:l,parseClassName:o}):o},pd=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},gd=t=>({cache:hd(t.cacheSize),parseClassName:md(t),...ld(t)}),xd=/\s+/,yd=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=e,i=[],o=t.trim().split(xd);let l="";for(let d=o.length-1;d>=0;d-=1){const c=o[d],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=s(c);let g=!!m,y=r(g?h.substring(0,m):h);if(!y){if(!g){l=c+(l.length>0?" "+l:l);continue}if(y=r(h),!y){l=c+(l.length>0?" "+l:l);continue}g=!1}const p=pd(u).join(":"),j=f?p+Hi:p,b=j+y;if(i.includes(b))continue;i.push(b);const P=n(y,g);for(let T=0;T<P.length;++T){const C=P[T];i.push(j+C)}l=c+(l.length>0?" "+l:l)}return l};function vd(){let t=0,e,s,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=Zi(e))&&(r&&(r+=" "),r+=s);return r}const Zi=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=Zi(t[r]))&&(s&&(s+=" "),s+=e);return s};function bd(t,...e){let s,r,n,i=o;function o(d){const c=e.reduce((u,f)=>f(u),t());return s=gd(c),r=s.cache.get,n=s.cache.set,i=l,l(d)}function l(d){const c=r(d);if(c)return c;const u=yd(d,s);return n(d,u),u}return function(){return i(vd.apply(null,arguments))}}const Ee=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},Ki=/^\[(?:([a-z-]+):)?(.+)\]$/i,wd=/^\d+\/\d+$/,jd=new Set(["px","full","screen"]),Nd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_d=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sd=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gt=t=>as(t)||jd.has(t)||wd.test(t),Nt=t=>ys(t,"length",Ld),as=t=>!!t&&!Number.isNaN(Number(t)),Hr=t=>ys(t,"number",as),ws=t=>!!t&&Number.isInteger(Number(t)),Ed=t=>t.endsWith("%")&&as(t.slice(0,-1)),ae=t=>Ki.test(t),_t=t=>Nd.test(t),Od=new Set(["length","size","percentage"]),Td=t=>ys(t,Od,Yi),Ad=t=>ys(t,"position",Yi),Rd=new Set(["image","url"]),Pd=t=>ys(t,Rd,Dd),Md=t=>ys(t,"",Fd),js=()=>!0,ys=(t,e,s)=>{const r=Ki.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},Ld=t=>_d.test(t)&&!kd.test(t),Yi=()=>!1,Fd=t=>Sd.test(t),Dd=t=>Cd.test(t),$d=()=>{const t=Ee("colors"),e=Ee("spacing"),s=Ee("blur"),r=Ee("brightness"),n=Ee("borderColor"),i=Ee("borderRadius"),o=Ee("borderSpacing"),l=Ee("borderWidth"),d=Ee("contrast"),c=Ee("grayscale"),u=Ee("hueRotate"),f=Ee("invert"),h=Ee("gap"),m=Ee("gradientColorStops"),g=Ee("gradientColorStopPositions"),y=Ee("inset"),p=Ee("margin"),j=Ee("opacity"),b=Ee("padding"),P=Ee("saturate"),T=Ee("scale"),C=Ee("sepia"),K=Ee("skew"),F=Ee("space"),I=Ee("translate"),Q=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto",ae,e],_=()=>[ae,e],z=()=>["",gt,Nt],k=()=>["auto",as,ae],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],ye=()=>["","0",ae],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[as,ae];return{cacheSize:500,separator:":",theme:{colors:[js],spacing:[gt,Nt],blur:["none","",_t,ae],brightness:V(),borderColor:[t],borderRadius:["none","","full",_t,ae],borderSpacing:_(),borderWidth:z(),contrast:V(),grayscale:ye(),hueRotate:V(),invert:ye(),gap:_(),gradientColorStops:[t],gradientColorStopPositions:[Ed,Nt],inset:ne(),margin:ne(),opacity:V(),padding:_(),saturate:V(),scale:V(),sepia:ye(),skew:V(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[_t]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),ae]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ws,ae]}],basis:[{basis:ne()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:ye()}],shrink:[{shrink:ye()}],order:[{order:["first","last","none",ws,ae]}],"grid-cols":[{"grid-cols":[js]}],"col-start-end":[{col:["auto",{span:["full",ws,ae]},ae]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[js]}],"row-start-end":[{row:["auto",{span:[ws,ae]},ae]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,e]}],"min-w":[{"min-w":[ae,e,"min","max","fit"]}],"max-w":[{"max-w":[ae,e,"none","full","min","max","fit","prose",{screen:[_t]},_t]}],h:[{h:[ae,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_t,Nt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hr]}],"font-family":[{font:[js]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",as,Hr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gt,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gt,Nt]}],"underline-offset":[{"underline-offset":["auto",gt,ae]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),Ad]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Td]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pd]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:Y()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[gt,ae]}],"outline-w":[{outline:[gt,Nt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[gt,Nt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_t,Md]}],"shadow-color":[{shadow:[js]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",_t,ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[P]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[ws,ae]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[K]}],"skew-y":[{"skew-y":[K]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gt,Nt,Hr]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Id=bd($d);function cr(t){"@babel/helpers - typeof";return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(t)}function Mt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ve(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function pt(t){Ve(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||cr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ud(t,e){Ve(2,arguments);var s=pt(t).getTime(),r=Mt(e);return new Date(s+r)}var Vd={};function Rr(){return Vd}function zd(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var Ji=6e4,Qi=36e5;function qd(t){return Ve(1,arguments),t instanceof Date||cr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Gi(t){if(Ve(1,arguments),!qd(t)&&typeof t!="number")return!1;var e=pt(t);return!isNaN(Number(e))}function Bd(t,e){Ve(2,arguments);var s=Mt(e);return Ud(t,-s)}var Wd=864e5;function Hd(t){Ve(1,arguments);var e=pt(t),s=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),n=s-r;return Math.floor(n/Wd)+1}function dr(t){Ve(1,arguments);var e=1,s=pt(t),r=s.getUTCDay(),n=(r<e?7:0)+r-e;return s.setUTCDate(s.getUTCDate()-n),s.setUTCHours(0,0,0,0),s}function Xi(t){Ve(1,arguments);var e=pt(t),s=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(s+1,0,4),r.setUTCHours(0,0,0,0);var n=dr(r),i=new Date(0);i.setUTCFullYear(s,0,4),i.setUTCHours(0,0,0,0);var o=dr(i);return e.getTime()>=n.getTime()?s+1:e.getTime()>=o.getTime()?s:s-1}function Zd(t){Ve(1,arguments);var e=Xi(t),s=new Date(0);s.setUTCFullYear(e,0,4),s.setUTCHours(0,0,0,0);var r=dr(s);return r}var Kd=6048e5;function Yd(t){Ve(1,arguments);var e=pt(t),s=dr(e).getTime()-Zd(e).getTime();return Math.round(s/Kd)+1}function ur(t,e){var s,r,n,i,o,l,d,c;Ve(1,arguments);var u=Rr(),f=Mt((s=(r=(n=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:u.weekStartsOn)!==null&&r!==void 0?r:(d=u.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&s!==void 0?s:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=pt(t),m=h.getUTCDay(),g=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function eo(t,e){var s,r,n,i,o,l,d,c;Ve(1,arguments);var u=pt(t),f=u.getUTCFullYear(),h=Rr(),m=Mt((s=(r=(n=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:h.firstWeekContainsDate)!==null&&r!==void 0?r:(d=h.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,m),g.setUTCHours(0,0,0,0);var y=ur(g,e),p=new Date(0);p.setUTCFullYear(f,0,m),p.setUTCHours(0,0,0,0);var j=ur(p,e);return u.getTime()>=y.getTime()?f+1:u.getTime()>=j.getTime()?f:f-1}function Jd(t,e){var s,r,n,i,o,l,d,c;Ve(1,arguments);var u=Rr(),f=Mt((s=(r=(n=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:u.firstWeekContainsDate)!==null&&r!==void 0?r:(d=u.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:1),h=eo(t,e),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var g=ur(m,e);return g}var Qd=6048e5;function Gd(t,e){Ve(1,arguments);var s=pt(t),r=ur(s,e).getTime()-Jd(s,e).getTime();return Math.round(r/Qd)+1}function we(t,e){for(var s=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return s+r}var kt={y:function(e,s){var r=e.getUTCFullYear(),n=r>0?r:1-r;return we(s==="yy"?n%100:n,s.length)},M:function(e,s){var r=e.getUTCMonth();return s==="M"?String(r+1):we(r+1,2)},d:function(e,s){return we(e.getUTCDate(),s.length)},a:function(e,s){var r=e.getUTCHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,s){return we(e.getUTCHours()%12||12,s.length)},H:function(e,s){return we(e.getUTCHours(),s.length)},m:function(e,s){return we(e.getUTCMinutes(),s.length)},s:function(e,s){return we(e.getUTCSeconds(),s.length)},S:function(e,s){var r=s.length,n=e.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return we(i,s.length)}},Qt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xd={G:function(e,s,r){var n=e.getUTCFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,s,r){if(s==="yo"){var n=e.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return kt.y(e,s)},Y:function(e,s,r,n){var i=eo(e,n),o=i>0?i:1-i;if(s==="YY"){var l=o%100;return we(l,2)}return s==="Yo"?r.ordinalNumber(o,{unit:"year"}):we(o,s.length)},R:function(e,s){var r=Xi(e);return we(r,s.length)},u:function(e,s){var r=e.getUTCFullYear();return we(r,s.length)},Q:function(e,s,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return we(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,s,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return we(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,s,r){var n=e.getUTCMonth();switch(s){case"M":case"MM":return kt.M(e,s);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,s,r){var n=e.getUTCMonth();switch(s){case"L":return String(n+1);case"LL":return we(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,s,r,n){var i=Gd(e,n);return s==="wo"?r.ordinalNumber(i,{unit:"week"}):we(i,s.length)},I:function(e,s,r){var n=Yd(e);return s==="Io"?r.ordinalNumber(n,{unit:"week"}):we(n,s.length)},d:function(e,s,r){return s==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):kt.d(e,s)},D:function(e,s,r){var n=Hd(e);return s==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):we(n,s.length)},E:function(e,s,r){var n=e.getUTCDay();switch(s){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,s,r,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return we(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,s,r,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return we(o,s.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,s,r){var n=e.getUTCDay(),i=n===0?7:n;switch(s){case"i":return String(i);case"ii":return we(i,s.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,s,r){var n=e.getUTCHours(),i=n/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,s,r){var n=e.getUTCHours(),i;switch(n===12?i=Qt.noon:n===0?i=Qt.midnight:i=n/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,s,r){var n=e.getUTCHours(),i;switch(n>=17?i=Qt.evening:n>=12?i=Qt.afternoon:n>=4?i=Qt.morning:i=Qt.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,s,r){if(s==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return kt.h(e,s)},H:function(e,s,r){return s==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):kt.H(e,s)},K:function(e,s,r){var n=e.getUTCHours()%12;return s==="Ko"?r.ordinalNumber(n,{unit:"hour"}):we(n,s.length)},k:function(e,s,r){var n=e.getUTCHours();return n===0&&(n=24),s==="ko"?r.ordinalNumber(n,{unit:"hour"}):we(n,s.length)},m:function(e,s,r){return s==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):kt.m(e,s)},s:function(e,s,r){return s==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):kt.s(e,s)},S:function(e,s){return kt.S(e,s)},X:function(e,s,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(s){case"X":return ca(o);case"XXXX":case"XX":return zt(o);case"XXXXX":case"XXX":default:return zt(o,":")}},x:function(e,s,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(s){case"x":return ca(o);case"xxxx":case"xx":return zt(o);case"xxxxx":case"xxx":default:return zt(o,":")}},O:function(e,s,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+la(o,":");case"OOOO":default:return"GMT"+zt(o,":")}},z:function(e,s,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+la(o,":");case"zzzz":default:return"GMT"+zt(o,":")}},t:function(e,s,r,n){var i=n._originalDate||e,o=Math.floor(i.getTime()/1e3);return we(o,s.length)},T:function(e,s,r,n){var i=n._originalDate||e,o=i.getTime();return we(o,s.length)}};function la(t,e){var s=t>0?"-":"+",r=Math.abs(t),n=Math.floor(r/60),i=r%60;if(i===0)return s+String(n);var o=e;return s+String(n)+o+we(i,2)}function ca(t,e){if(t%60===0){var s=t>0?"-":"+";return s+we(Math.abs(t)/60,2)}return zt(t,e)}function zt(t,e){var s=e||"",r=t>0?"-":"+",n=Math.abs(t),i=we(Math.floor(n/60),2),o=we(n%60,2);return r+i+s+o}var da=function(e,s){switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},to=function(e,s){switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},eu=function(e,s){var r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return da(e,s);var o;switch(n){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",da(n,s)).replace("{{time}}",to(i,s))},tu={p:to,P:eu},su=["D","DD"],ru=["YY","YYYY"];function nu(t){return su.indexOf(t)!==-1}function au(t){return ru.indexOf(t)!==-1}function ua(t,e,s){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var iu={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ou=function(e,s,r){var n,i=iu[e];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function is(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=e.width?String(e.width):t.defaultWidth,r=t.formats[s]||t.formats[t.defaultWidth];return r}}var lu={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cu={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},du={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uu={date:is({formats:lu,defaultWidth:"full"}),time:is({formats:cu,defaultWidth:"full"}),dateTime:is({formats:du,defaultWidth:"full"})},fu={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hu=function(e,s,r,n){return fu[e]};function ut(t){return function(e,s){var r=s!=null&&s.context?String(s.context):"standalone",n;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=s!=null&&s.width?String(s.width):i;n=t.formattingValues[o]||t.formattingValues[i]}else{var l=t.defaultWidth,d=s!=null&&s.width?String(s.width):t.defaultWidth;n=t.values[d]||t.values[l]}var c=t.argumentCallback?t.argumentCallback(e):e;return n[c]}}var mu={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pu={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gu={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xu={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yu={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vu={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bu=function(e,s){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wu={ordinalNumber:bu,era:ut({values:mu,defaultWidth:"wide"}),quarter:ut({values:pu,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ut({values:gu,defaultWidth:"wide"}),day:ut({values:xu,defaultWidth:"wide"}),dayPeriod:ut({values:yu,defaultWidth:"wide",formattingValues:vu,defaultFormattingWidth:"wide"})};function ft(t){return function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=s.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(n);if(!i)return null;var o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(l)?Nu(l,function(f){return f.test(o)}):ju(l,function(f){return f.test(o)}),c;c=t.valueCallback?t.valueCallback(d):d,c=s.valueCallback?s.valueCallback(c):c;var u=e.slice(o.length);return{value:c,rest:u}}}function ju(t,e){for(var s in t)if(t.hasOwnProperty(s)&&e(t[s]))return s}function Nu(t,e){for(var s=0;s<t.length;s++)if(e(t[s]))return s}function so(t){return function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var n=r[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;var l=e.slice(n.length);return{value:o,rest:l}}}var _u=/^(\d+)(th|st|nd|rd)?/i,ku=/\d+/i,Su={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cu={any:[/^b/i,/^(a|c)/i]},Eu={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ou={any:[/1/i,/2/i,/3/i,/4/i]},Tu={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Au={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ru={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pu={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mu={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lu={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fu={ordinalNumber:so({matchPattern:_u,parsePattern:ku,valueCallback:function(e){return parseInt(e,10)}}),era:ft({matchPatterns:Su,defaultMatchWidth:"wide",parsePatterns:Cu,defaultParseWidth:"any"}),quarter:ft({matchPatterns:Eu,defaultMatchWidth:"wide",parsePatterns:Ou,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ft({matchPatterns:Tu,defaultMatchWidth:"wide",parsePatterns:Au,defaultParseWidth:"any"}),day:ft({matchPatterns:Ru,defaultMatchWidth:"wide",parsePatterns:Pu,defaultParseWidth:"any"}),dayPeriod:ft({matchPatterns:Mu,defaultMatchWidth:"any",parsePatterns:Lu,defaultParseWidth:"any"})},Du={code:"en-US",formatDistance:ou,formatLong:uu,formatRelative:hu,localize:wu,match:Fu,options:{weekStartsOn:0,firstWeekContainsDate:1}},$u=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Iu=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uu=/^'([^]*?)'?$/,Vu=/''/g,zu=/[a-zA-Z]/;function qu(t,e,s){var r,n,i,o,l,d,c,u,f,h,m,g,y,p,j,b,P,T;Ve(2,arguments);var C=String(e),K=Rr(),F=(r=(n=s==null?void 0:s.locale)!==null&&n!==void 0?n:K.locale)!==null&&r!==void 0?r:Du,I=Mt((i=(o=(l=(d=s==null?void 0:s.firstWeekContainsDate)!==null&&d!==void 0?d:s==null||(c=s.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:K.firstWeekContainsDate)!==null&&o!==void 0?o:(f=K.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Q=Mt((m=(g=(y=(p=s==null?void 0:s.weekStartsOn)!==null&&p!==void 0?p:s==null||(j=s.locale)===null||j===void 0||(b=j.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&y!==void 0?y:K.weekStartsOn)!==null&&g!==void 0?g:(P=K.locale)===null||P===void 0||(T=P.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&m!==void 0?m:0);if(!(Q>=0&&Q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!F.localize)throw new RangeError("locale must contain localize property");if(!F.formatLong)throw new RangeError("locale must contain formatLong property");var X=pt(t);if(!Gi(X))throw new RangeError("Invalid time value");var ne=zd(X),_=Bd(X,ne),z={firstWeekContainsDate:I,weekStartsOn:Q,locale:F,_originalDate:X},k=C.match(Iu).map(function(M){var Y=M[0];if(Y==="p"||Y==="P"){var me=tu[Y];return me(M,F.formatLong)}return M}).join("").match($u).map(function(M){if(M==="''")return"'";var Y=M[0];if(Y==="'")return Bu(M);var me=Xd[Y];if(me)return!(s!=null&&s.useAdditionalWeekYearTokens)&&au(M)&&ua(M,e,String(t)),!(s!=null&&s.useAdditionalDayOfYearTokens)&&nu(M)&&ua(M,e,String(t)),me(_,M,F.localize,z);if(Y.match(zu))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return M}).join("");return k}function Bu(t){var e=t.match(Uu);return e?e[1].replace(Vu,"'"):t}function Wu(t,e){var s;Ve(1,arguments);var r=Mt((s=void 0)!==null&&s!==void 0?s:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var n=Yu(t),i;if(n.date){var o=Ju(n.date,r);i=Qu(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),d=0,c;if(n.time&&(d=Gu(n.time),isNaN(d)))return new Date(NaN);if(n.timezone){if(c=Xu(n.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(l+d),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(l+d+c)}var er={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Hu=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Zu=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ku=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Yu(t){var e={},s=t.split(er.dateTimeDelimiter),r;if(s.length>2)return e;if(/:/.test(s[0])?r=s[0]:(e.date=s[0],r=s[1],er.timeZoneDelimiter.test(e.date)&&(e.date=t.split(er.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var n=er.timezone.exec(r);n?(e.time=r.replace(n[1],""),e.timezone=n[1]):e.time=r}return e}function Ju(t,e){var s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(s);if(!r)return{year:NaN,restDateString:""};var n=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?n:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function Qu(t,e){if(e===null)return new Date(NaN);var s=t.match(Hu);if(!s)return new Date(NaN);var r=!!s[4],n=Ns(s[1]),i=Ns(s[2])-1,o=Ns(s[3]),l=Ns(s[4]),d=Ns(s[5])-1;if(r)return nf(e,l,d)?ef(e,l,d):new Date(NaN);var c=new Date(0);return!sf(e,i,o)||!rf(e,n)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(n,o)),c)}function Ns(t){return t?parseInt(t):1}function Gu(t){var e=t.match(Zu);if(!e)return NaN;var s=Zr(e[1]),r=Zr(e[2]),n=Zr(e[3]);return af(s,r,n)?s*Qi+r*Ji+n*1e3:NaN}function Zr(t){return t&&parseFloat(t.replace(",","."))||0}function Xu(t){if(t==="Z")return 0;var e=t.match(Ku);if(!e)return 0;var s=e[1]==="+"?-1:1,r=parseInt(e[2]),n=e[3]&&parseInt(e[3])||0;return of(r,n)?s*(r*Qi+n*Ji):NaN}function ef(t,e,s){var r=new Date(0);r.setUTCFullYear(t,0,4);var n=r.getUTCDay()||7,i=(e-1)*7+s+1-n;return r.setUTCDate(r.getUTCDate()+i),r}var tf=[31,null,31,30,31,30,31,31,30,31,30,31];function ro(t){return t%400===0||t%4===0&&t%100!==0}function sf(t,e,s){return e>=0&&e<=11&&s>=1&&s<=(tf[e]||(ro(t)?29:28))}function rf(t,e){return e>=1&&e<=(ro(t)?366:365)}function nf(t,e,s){return e>=1&&e<=53&&s>=0&&s<=6}function af(t,e,s){return t===24?e===0&&s===0:s>=0&&s<60&&e>=0&&e<60&&t>=0&&t<25}function of(t,e){return e>=0&&e<=59}var lf={lessThanXSeconds:{one:"کمتر از یک ثانیه",other:"کمتر از {{count}} ثانیه"},xSeconds:{one:"1 ثانیه",other:"{{count}} ثانیه"},halfAMinute:"نیم دقیقه",lessThanXMinutes:{one:"کمتر از یک دقیقه",other:"کمتر از {{count}} دقیقه"},xMinutes:{one:"1 دقیقه",other:"{{count}} دقیقه"},aboutXHours:{one:"حدود 1 ساعت",other:"حدود {{count}} ساعت"},xHours:{one:"1 ساعت",other:"{{count}} ساعت"},xDays:{one:"1 روز",other:"{{count}} روز"},aboutXWeeks:{one:"حدود 1 هفته",other:"حدود {{count}} هفته"},xWeeks:{one:"1 هفته",other:"{{count}} هفته"},aboutXMonths:{one:"حدود 1 ماه",other:"حدود {{count}} ماه"},xMonths:{one:"1 ماه",other:"{{count}} ماه"},aboutXYears:{one:"حدود 1 سال",other:"حدود {{count}} سال"},xYears:{one:"1 سال",other:"{{count}} سال"},overXYears:{one:"بیشتر از 1 سال",other:"بیشتر از {{count}} سال"},almostXYears:{one:"نزدیک 1 سال",other:"نزدیک {{count}} سال"}},cf=function(e,s,r){var n,i=lf[e];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",String(s)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"در "+n:n+" قبل":n},df={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"yyyy/MM/dd"},uf={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ff={full:"{{date}} 'در' {{time}}",long:"{{date}} 'در' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hf={date:is({formats:df,defaultWidth:"full"}),time:is({formats:uf,defaultWidth:"full"}),dateTime:is({formats:ff,defaultWidth:"full"})},mf={lastWeek:"eeee 'گذشته در' p",yesterday:"'دیروز در' p",today:"'امروز در' p",tomorrow:"'فردا در' p",nextWeek:"eeee 'در' p",other:"P"},pf=function(e,s,r,n){return mf[e]},gf={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل از میلاد","بعد از میلاد"]},xf={narrow:["1","2","3","4"],abbreviated:["س‌م1","س‌م2","س‌م3","س‌م4"],wide:["سه‌ماهه 1","سه‌ماهه 2","سه‌ماهه 3","سه‌ماهه 4"]},yf={narrow:["ژ","ف","م","آ","م","ج","ج","آ","س","ا","ن","د"],abbreviated:["ژانـ","فور","مارس","آپر","می","جون","جولـ","آگو","سپتـ","اکتـ","نوامـ","دسامـ"],wide:["ژانویه","فوریه","مارس","آپریل","می","جون","جولای","آگوست","سپتامبر","اکتبر","نوامبر","دسامبر"]},vf={narrow:["ی","د","س","چ","پ","ج","ش"],short:["1ش","2ش","3ش","4ش","5ش","ج","ش"],abbreviated:["یکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],wide:["یکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"]},bf={narrow:{am:"ق",pm:"ب",midnight:"ن",noon:"ظ",morning:"ص",afternoon:"ب.ظ.",evening:"ع",night:"ش"},abbreviated:{am:"ق.ظ.",pm:"ب.ظ.",midnight:"نیمه‌شب",noon:"ظهر",morning:"صبح",afternoon:"بعدازظهر",evening:"عصر",night:"شب"},wide:{am:"قبل‌ازظهر",pm:"بعدازظهر",midnight:"نیمه‌شب",noon:"ظهر",morning:"صبح",afternoon:"بعدازظهر",evening:"عصر",night:"شب"}},wf={narrow:{am:"ق",pm:"ب",midnight:"ن",noon:"ظ",morning:"ص",afternoon:"ب.ظ.",evening:"ع",night:"ش"},abbreviated:{am:"ق.ظ.",pm:"ب.ظ.",midnight:"نیمه‌شب",noon:"ظهر",morning:"صبح",afternoon:"بعدازظهر",evening:"عصر",night:"شب"},wide:{am:"قبل‌ازظهر",pm:"بعدازظهر",midnight:"نیمه‌شب",noon:"ظهر",morning:"صبح",afternoon:"بعدازظهر",evening:"عصر",night:"شب"}},jf=function(e,s){return String(e)},Nf={ordinalNumber:jf,era:ut({values:gf,defaultWidth:"wide"}),quarter:ut({values:xf,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ut({values:yf,defaultWidth:"wide"}),day:ut({values:vf,defaultWidth:"wide"}),dayPeriod:ut({values:bf,defaultWidth:"wide",formattingValues:wf,defaultFormattingWidth:"wide"})},_f=/^(\d+)(th|st|nd|rd)?/i,kf=/\d+/i,Sf={narrow:/^(ق|ب)/i,abbreviated:/^(ق\.?\s?م\.?|ق\.?\s?د\.?\s?م\.?|م\.?\s?|د\.?\s?م\.?)/i,wide:/^(قبل از میلاد|قبل از دوران مشترک|میلادی|دوران مشترک|بعد از میلاد)/i},Cf={any:[/^قبل/i,/^بعد/i]},Ef={narrow:/^[1234]/i,abbreviated:/^س‌م[1234]/i,wide:/^سه‌ماهه [1234]/i},Of={any:[/1/i,/2/i,/3/i,/4/i]},Tf={narrow:/^[جژفمآاماسند]/i,abbreviated:/^(جنو|ژانـ|ژانویه|فوریه|فور|مارس|آوریل|آپر|مه|می|ژوئن|جون|جول|جولـ|ژوئیه|اوت|آگو|سپتمبر|سپتامبر|اکتبر|اکتوبر|نوامبر|نوامـ|دسامبر|دسامـ|دسم)/i,wide:/^(ژانویه|جنوری|فبروری|فوریه|مارچ|مارس|آپریل|اپریل|ایپریل|آوریل|مه|می|ژوئن|جون|جولای|ژوئیه|آگست|اگست|آگوست|اوت|سپتمبر|سپتامبر|اکتبر|اکتوبر|نوامبر|نومبر|دسامبر|دسمبر)/i},Af={narrow:[/^(ژ|ج)/i,/^ف/i,/^م/i,/^(آ|ا)/i,/^م/i,/^(ژ|ج)/i,/^(ج|ژ)/i,/^(آ|ا)/i,/^س/i,/^ا/i,/^ن/i,/^د/i],any:[/^ژا/i,/^ف/i,/^ما/i,/^آپ/i,/^(می|مه)/i,/^(ژوئن|جون)/i,/^(ژوئی|جول)/i,/^(اوت|آگ)/i,/^س/i,/^(اوک|اک)/i,/^ن/i,/^د/i]},Rf={narrow:/^[شیدسچپج]/i,short:/^(ش|ج|1ش|2ش|3ش|4ش|5ش)/i,abbreviated:/^(یکشنبه|دوشنبه|سه‌شنبه|چهارشنبه|پنج‌شنبه|جمعه|شنبه)/i,wide:/^(یکشنبه|دوشنبه|سه‌شنبه|چهارشنبه|پنج‌شنبه|جمعه|شنبه)/i},Pf={narrow:[/^ی/i,/^دو/i,/^س/i,/^چ/i,/^پ/i,/^ج/i,/^ش/i],any:[/^(ی|1ش|یکشنبه)/i,/^(د|2ش|دوشنبه)/i,/^(س|3ش|سه‌شنبه)/i,/^(چ|4ش|چهارشنبه)/i,/^(پ|5ش|پنجشنبه)/i,/^(ج|جمعه)/i,/^(ش|شنبه)/i]},Mf={narrow:/^(ب|ق|ن|ظ|ص|ب.ظ.|ع|ش)/i,abbreviated:/^(ق.ظ.|ب.ظ.|نیمه‌شب|ظهر|صبح|بعدازظهر|عصر|شب)/i,wide:/^(قبل‌ازظهر|نیمه‌شب|ظهر|صبح|بعدازظهر|عصر|شب)/i},Lf={any:{am:/^(ق|ق.ظ.|قبل‌ازظهر)/i,pm:/^(ب|ب.ظ.|بعدازظهر)/i,midnight:/^(‌نیمه‌شب|ن)/i,noon:/^(ظ|ظهر)/i,morning:/(ص|صبح)/i,afternoon:/(ب|ب.ظ.|بعدازظهر)/i,evening:/(ع|عصر)/i,night:/(ش|شب)/i}},Ff={ordinalNumber:so({matchPattern:_f,parsePattern:kf,valueCallback:function(e){return parseInt(e,10)}}),era:ft({matchPatterns:Sf,defaultMatchWidth:"wide",parsePatterns:Cf,defaultParseWidth:"any"}),quarter:ft({matchPatterns:Ef,defaultMatchWidth:"wide",parsePatterns:Of,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ft({matchPatterns:Tf,defaultMatchWidth:"wide",parsePatterns:Af,defaultParseWidth:"any"}),day:ft({matchPatterns:Rf,defaultMatchWidth:"wide",parsePatterns:Pf,defaultParseWidth:"any"}),dayPeriod:ft({matchPatterns:Mf,defaultMatchWidth:"wide",parsePatterns:Lf,defaultParseWidth:"any"})},Df={code:"fa-IR",formatDistance:cf,formatLong:hf,formatRelative:pf,localize:Nf,match:Ff,options:{weekStartsOn:6,firstWeekContainsDate:1}};function Oe(...t){return Id(Bi(t))}function no(t,e="yyyy/MM/dd"){try{const s=typeof t=="string"?Wu(t):t;return Gi(s)?qu(s,e,{locale:Df}):"تاریخ نامعتبر"}catch{return"تاریخ نامعتبر"}}function Lt(t){return no(t,"yyyy/MM/dd HH:mm")}function At(t){return{no_answer:"جواب نداد",canceled:"انصراف داد",upsell:"فروش افزایشی",normal:"عادی",upsell_pending:"در انتظار پرداخت",upsell_paid:"پرداخت شده"}[t]||t}function $f(t){return{no_answer:"status-no-answer",canceled:"status-canceled",upsell:"status-upsell",normal:"status-normal",upsell_pending:"status-upsell-pending",upsell_paid:"status-upsell-paid"}[t]||"bg-gray-100 text-gray-800"}function If(t){return{company_manager:"مدیر شرکت",supervisor:"سرپرست",agent:"کارشناس"}[t]||t}function oe(t){return new Intl.NumberFormat("fa-IR").format(t)}function fa(t,e){try{const s=localStorage.getItem(t);return s?JSON.parse(s):e}catch{return e}}function Gt(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch{console.warn("Failed to save to localStorage")}}function ha(t){try{localStorage.removeItem(t)}catch{console.warn("Failed to remove from localStorage")}}function ke(t){var e;return typeof t=="string"?t:t!=null&&t.message?t.message:(e=t==null?void 0:t.error)!=null&&e.message?t.error.message:"خطای نامشخص رخ داده است"}function Uf(t){const e=new Date,s=typeof t=="string"?new Date(t):t,r=Math.floor((e.getTime()-s.getTime())/1e3);return r<60?"همین الان":r<3600?`${Math.floor(r/60)} دقیقه پیش`:r<86400?`${Math.floor(r/3600)} ساعت پیش`:r<2592e3?`${Math.floor(r/86400)} روز پیش`:no(s,"yyyy/MM/dd")}function dn(t){return["یکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه"][t]||"نامشخص"}const ao=xi()(yi(t=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(e,s,r)=>{var n;t({isLoading:!0,error:null});try{const i=await aa.login({username:e,password:s,role:r});if(i.success){const{token:o,user:l}=i.data;Gt("token",o),Gt("user",l),t({user:l,token:o,isAuthenticated:!0,isLoading:!1,error:null})}else throw new Error("ورود ناموفق")}catch(i){const o=((n=i==null?void 0:i.error)==null?void 0:n.message)||(i==null?void 0:i.message)||"خطا در ورود";throw t({error:o,isLoading:!1,isAuthenticated:!1,user:null,token:null}),i}},register:async e=>{var s;t({isLoading:!0,error:null});try{const r=await aa.register(e);if(r.success){const{token:n,user:i}=r.data;Gt("token",n),Gt("user",i),t({user:i,token:n,isAuthenticated:!0,isLoading:!1,error:null})}else throw new Error("ثبت‌نام ناموفق")}catch(r){const n=((s=r==null?void 0:r.error)==null?void 0:s.message)||(r==null?void 0:r.message)||"خطا در ثبت‌نام";throw t({error:n,isLoading:!1,isAuthenticated:!1,user:null,token:null}),r}},logout:()=>{ha("token"),ha("user"),t({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})},setUser:e=>{t({user:e}),Gt("user",e)},setToken:e=>{t({token:e}),Gt("token",e)},setLoading:e=>{t({isLoading:e})},setError:e=>{t({error:e})},clearError:()=>{t({error:null})},checkAuth:()=>{const e=fa("token",null),s=fa("user",null);t(e&&s?{token:e,user:s,isAuthenticated:!0}:{token:null,user:null,isAuthenticated:!1})}}),{name:"auth-storage",partialize:t=>({user:t.user,token:t.token,isAuthenticated:t.isAuthenticated})})),Ge=()=>ao(t=>({user:t.user,token:t.token,isAuthenticated:t.isAuthenticated,isLoading:t.isLoading,error:t.error})),Pr=()=>ao(t=>({login:t.login,register:t.register,logout:t.logout,setUser:t.setUser,setToken:t.setToken,setLoading:t.setLoading,setError:t.setError,clearError:t.clearError,checkAuth:t.checkAuth})),zs=xi()(yi((t,e)=>({theme:"light",sidebarOpen:!0,mobileMenuOpen:!1,loading:!1,notifications:[],setTheme:s=>{t({theme:s}),document.documentElement.classList.toggle("dark",s==="dark")},toggleTheme:()=>{const{theme:s}=e(),r=s==="light"?"dark":"light";e().setTheme(r)},setSidebarOpen:s=>{t({sidebarOpen:s})},toggleSidebar:()=>{const{sidebarOpen:s}=e();t({sidebarOpen:!s})},setMobileMenuOpen:s=>{t({mobileMenuOpen:s})},toggleMobileMenu:()=>{const{mobileMenuOpen:s}=e();t({mobileMenuOpen:!s})},setLoading:s=>{t({loading:s})},addNotification:s=>{const r=Math.random().toString(36).substr(2,9),n=Date.now();t(o=>({notifications:[...o.notifications,{...s,id:r,timestamp:n}]}));const i=s.duration||5e3;setTimeout(()=>{e().removeNotification(r)},i)},removeNotification:s=>{t(r=>({notifications:r.notifications.filter(n=>n.id!==s)}))},clearNotifications:()=>{t({notifications:[]})}}),{name:"ui-storage",partialize:t=>({theme:t.theme,sidebarOpen:t.sidebarOpen})})),io=()=>zs(t=>t.theme),oo=()=>zs(t=>({sidebarOpen:t.sidebarOpen,setSidebarOpen:t.setSidebarOpen,toggleSidebar:t.toggleSidebar})),Vf=()=>zs(t=>({mobileMenuOpen:t.mobileMenuOpen,setMobileMenuOpen:t.setMobileMenuOpen,toggleMobileMenu:t.toggleMobileMenu})),lo=()=>zs(t=>({notifications:t.notifications,addNotification:t.addNotification,removeNotification:t.removeNotification,clearNotifications:t.clearNotifications})),$t=()=>{const{addNotification:t}=lo();return{success:(e,s,r)=>t({type:"success",title:e,message:s,duration:r}),error:(e,s,r)=>t({type:"error",title:e,message:s,duration:r}),warning:(e,s,r)=>t({type:"warning",title:e,message:s,duration:r}),info:(e,s,r)=>t({type:"info",title:e,message:s,duration:r})}};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const s=E.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:d,...c},u)=>E.createElement("svg",{ref:u,...zf,width:n,height:n,stroke:r,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${qf(t)}`,l].join(" "),...c},[...e.map(([f,h])=>E.createElement(f,h)),...Array.isArray(d)?d:[d]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ce("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=ce("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ce("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ce("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ce("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=ce("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=ce("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ce("PhoneMissed",[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ce("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=ce("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=ce("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=ce("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pa=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ga=Bi,yo=(t,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return ga(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:i}=e,o=Object.keys(n).map(c=>{const u=s==null?void 0:s[c],f=i==null?void 0:i[c];if(u===null)return null;const h=pa(u)||pa(f);return n[c][h]}),l=s&&Object.entries(s).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(g=>{let[y,p]=g;return Array.isArray(p)?p.includes({...i,...l}[y]):{...i,...l}[y]===p})?[...c,f,h]:c},[]);return ga(t,o,d,s==null?void 0:s.class,s==null?void 0:s.className)},oh=yo("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=E.forwardRef(({className:t,variant:e,size:s,asChild:r=!1,...n},i)=>{const o=r?Ko:"button";return a.jsx(o,{className:Oe(oh({variant:e,size:s,className:t})),ref:i,...n})});Z.displayName="Button";const lh=[{name:"داشبورد",href:"/dashboard",icon:Jf,roles:["company_manager","supervisor","agent"]},{name:"سرپرست‌ها",href:"/supervisors",icon:ds,roles:["company_manager"]},{name:"کارشناس‌ها",href:"/agents",icon:go,roles:["company_manager","supervisor"]},{name:"کارت‌های من",href:"/my-cards",icon:fr,roles:["supervisor"]},{name:"کارشناس‌های من",href:"/my-agents",icon:Ot,roles:["supervisor"]},{name:"مشتریان من",href:"/my-customers",icon:Ot,roles:["supervisor"]},{name:"مشتریان تخصیص‌یافته",href:"/assigned-customers",icon:Ot,roles:["agent"]},{name:"فرم‌ها",href:"/forms",icon:fr,roles:["company_manager","supervisor","agent"]},{name:"مشتریان",href:"/customers",icon:Ot,roles:["company_manager"]},{name:"زمان‌بندی",href:"/schedule",icon:cs,roles:["company_manager","supervisor"]},{name:"رزروها",href:"/reservations",icon:cs,roles:["company_manager","supervisor"]},{name:"پیامک‌ها",href:"/sms",icon:Rs,roles:["company_manager","supervisor","agent"]},{name:"تنظیمات",href:"/settings",icon:po,roles:["company_manager"]}];function ch(){const t=Wo(),{user:e}=Ge(),{logout:s}=Pr(),{sidebarOpen:r,toggleSidebar:n}=oo(),i=e==null?void 0:e.role,o=i?lh.filter(l=>i==="company_manager"?!0:l.roles.includes(i)):[];return a.jsxs(a.Fragment,{children:[r&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:n}),a.jsx("div",{className:Oe("fixed inset-y-0 right-0 z-50 w-64 bg-card border-l transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0",r?"translate-x-0":"translate-x-full"),children:a.jsxs("div",{className:"flex h-full flex-col",children:[a.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"پنل مدیریت"}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:n,className:"lg:hidden",children:a.jsx(On,{className:"h-5 w-5"})})]}),e&&a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-sm font-medium",children:e.display_name.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:e.display_name}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.email})]})]})}),i?a.jsx("nav",{className:"flex-1 space-y-1 p-4",children:o.map(l=>{const d=t.pathname===l.href,c=l.icon;return a.jsxs(_r,{to:l.href,className:Oe("flex items-center space-x-3 space-x-reverse rounded-md px-3 py-2 text-sm font-medium transition-colors",d?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground"),onClick:()=>{window.innerWidth<1024&&n()},children:[a.jsx(c,{className:"h-5 w-5"}),a.jsx("span",{children:l.name})]},l.name)})}):a.jsx("div",{className:"flex flex-1 items-center justify-center p-6 text-sm text-muted-foreground",children:"در حال بارگذاری اطلاعات کاربر..."}),a.jsx("div",{className:"p-4 border-t",children:a.jsxs(Z,{variant:"ghost",className:"w-full justify-start",onClick:()=>{s(),n(),window.location.href="/login"},children:[a.jsx(Qf,{className:"h-4 w-4 ml-2"}),"خروج"]})})]})})]})}function dh(){const{toggleSidebar:t}=oo(),{toggleMobileMenu:e}=Vf(),s=io(),r=zs(i=>i.toggleTheme),{user:n}=Ge();return a.jsx("header",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"flex h-full items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[a.jsx(Z,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden",children:a.jsx(ma,{className:"h-5 w-5"})}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:t,className:"hidden lg:flex",children:a.jsx(ma,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-lg font-semibold",children:uh()})]}),a.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[a.jsx(Z,{variant:"ghost",size:"icon",onClick:r,children:s==="light"?a.jsx(Gf,{className:"h-5 w-5"}):a.jsx(ah,{className:"h-5 w-5"})}),a.jsxs(Z,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(un,{className:"h-5 w-5"}),a.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:"3"})]}),n&&a.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium",children:n.display_name}),a.jsx("p",{className:"text-muted-foreground text-xs",children:fh(n.role)})]}),a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-sm font-medium",children:n.display_name.charAt(0)})]})]})]})})}function uh(){const t=window.location.pathname;return{"/dashboard":"داشبورد","/supervisors":"سرپرست‌ها","/agents":"کارشناس‌ها","/my-cards":"کارت‌های من","/my-agents":"کارشناس‌های من","/my-customers":"مشتریان من","/assigned-customers":"مشتریان تخصیص‌یافته","/customers":"مشتریان","/schedule":"زمان‌بندی","/reservations":"رزروها","/sms":"پیامک‌ها","/settings":"تنظیمات","/profile":"پروفایل"}[t]||"پنل مدیریت"}function fh(t){return{company_manager:"مدیر شرکت",supervisor:"سرپرست",agent:"کارشناس"}[t]||t}function hh(){const{notifications:t,removeNotification:e}=lo();return t.length===0?null:a.jsx("div",{className:"fixed top-4 left-4 z-50 space-y-2",children:t.map(s=>a.jsx(mh,{notification:s,onRemove:()=>e(s.id)},s.id))})}function mh({notification:t,onRemove:e}){const{type:s,title:r,message:n}=t,i={success:Sn,error:xo,warning:co,info:Zf},o={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},l=i[s];return a.jsxs("div",{className:Oe("max-w-sm w-full bg-white border rounded-lg shadow-lg p-4 flex items-start space-x-3 space-x-reverse",o[s]),children:[a.jsx(l,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-medium",children:r}),a.jsx("p",{className:"text-sm mt-1",children:n})]}),a.jsx("button",{onClick:e,className:"flex-shrink-0 text-gray-400 hover:text-gray-600",children:a.jsx(On,{className:"h-4 w-4"})})]})}var qs=t=>t.type==="checkbox",Wt=t=>t instanceof Date,He=t=>t==null;const vo=t=>typeof t=="object";var Fe=t=>!He(t)&&!Array.isArray(t)&&vo(t)&&!Wt(t),ph=t=>Fe(t)&&t.target?qs(t.target)?t.target.checked:t.target.value:t,gh=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,xh=(t,e)=>t.has(gh(e)),yh=t=>{const e=t.constructor&&t.constructor.prototype;return Fe(e)&&e.hasOwnProperty("isPrototypeOf")},Tn=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $e(t){let e;const s=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Tn&&(t instanceof Blob||r))&&(s||Fe(t)))if(e=s?[]:Object.create(Object.getPrototypeOf(t)),!s&&!yh(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=$e(t[n]));else return t;return e}var Mr=t=>/^\w*$/.test(t),Ae=t=>t===void 0,An=t=>Array.isArray(t)?t.filter(Boolean):[],Rn=t=>An(t.replace(/["|']|\]/g,"").split(/\.|\[/)),q=(t,e,s)=>{if(!e||!Fe(t))return s;const r=(Mr(e)?[e]:Rn(e)).reduce((n,i)=>He(n)?n:n[i],t);return Ae(r)||r===t?Ae(t[e])?s:t[e]:r},dt=t=>typeof t=="boolean",Ne=(t,e,s)=>{let r=-1;const n=Mr(e)?[e]:Rn(e),i=n.length,o=i-1;for(;++r<i;){const l=n[r];let d=s;if(r!==o){const c=t[l];d=Fe(c)||Array.isArray(c)?c:isNaN(+n[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=d,t=t[l]}};const xa={BLUR:"blur",FOCUS_OUT:"focusout"},rt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vh=qe.createContext(null);vh.displayName="HookFormContext";var bh=(t,e,s,r=!0)=>{const n={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const o=i;return e._proxyFormState[o]!==rt.all&&(e._proxyFormState[o]=!r||rt.all),t[o]}});return n};const wh=typeof window<"u"?qe.useLayoutEffect:qe.useEffect;var Je=t=>typeof t=="string",jh=(t,e,s,r,n)=>Je(t)?(r&&e.watch.add(t),q(s,t,n)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),q(s,i))):(r&&(e.watchAll=!0),s),mn=t=>He(t)||!vo(t);function Et(t,e,s=new WeakSet){if(mn(t)||mn(e))return t===e;if(Wt(t)&&Wt(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;if(s.has(t)||s.has(e))return!0;s.add(t),s.add(e);for(const i of r){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Wt(o)&&Wt(l)||Fe(o)&&Fe(l)||Array.isArray(o)&&Array.isArray(l)?!Et(o,l,s):o!==l)return!1}}return!0}var bo=(t,e,s,r,n)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:n||!0}}:{},Cs=t=>Array.isArray(t)?t:[t],ya=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}};function wo(t,e){const s={};for(const r in t)if(t.hasOwnProperty(r)){const n=t[r],i=e[r];if(n&&Fe(n)&&i){const o=wo(n,i);Fe(o)&&(s[r]=o)}else t[r]&&(s[r]=i)}return s}var We=t=>Fe(t)&&!Object.keys(t).length,Pn=t=>t.type==="file",nt=t=>typeof t=="function",hr=t=>{if(!Tn)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},jo=t=>t.type==="select-multiple",Mn=t=>t.type==="radio",Nh=t=>Mn(t)||qs(t),Kr=t=>hr(t)&&t.isConnected;function _h(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=Ae(t)?r++:t[e[r++]];return t}function kh(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ae(t[e]))return!1;return!0}function Pe(t,e){const s=Array.isArray(e)?e:Mr(e)?[e]:Rn(e),r=s.length===1?t:_h(t,s),n=s.length-1,i=s[n];return r&&delete r[i],n!==0&&(Fe(r)&&We(r)||Array.isArray(r)&&kh(r))&&Pe(t,s.slice(0,-1)),t}var Sh=t=>{for(const e in t)if(nt(t[e]))return!0;return!1};function No(t){return Array.isArray(t)||Fe(t)&&!Sh(t)}function pn(t,e={}){for(const s in t)No(t[s])?(e[s]=Array.isArray(t[s])?[]:{},pn(t[s],e[s])):Ae(t[s])||(e[s]=!0);return e}function rs(t,e,s){s||(s=pn(e));for(const r in t)No(t[r])?Ae(e)||mn(s[r])?s[r]=pn(t[r],Array.isArray(t[r])?[]:{}):rs(t[r],He(e)?{}:e[r],s[r]):s[r]=!Et(t[r],e[r]);return s}const va={value:!1,isValid:!1},ba={value:!0,isValid:!0};var _o=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ae(t[0].attributes.value)?Ae(t[0].value)||t[0].value===""?ba:{value:t[0].value,isValid:!0}:ba:va}return va},ko=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>Ae(t)?t:e?t===""?NaN:t&&+t:s&&Je(t)?new Date(t):r?r(t):t;const wa={isValid:!1,value:null};var So=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,wa):wa;function ja(t){const e=t.ref;return Pn(e)?e.files:Mn(e)?So(t.refs).value:jo(e)?[...e.selectedOptions].map(({value:s})=>s):qs(e)?_o(t.refs).value:ko(Ae(e.value)?t.ref.value:e.value,t)}var Ch=(t,e,s,r)=>{const n={};for(const i of t){const o=q(e,i);o&&Ne(n,i,o._f)}return{criteriaMode:s,names:[...t],fields:n,shouldUseNativeValidation:r}},mr=t=>t instanceof RegExp,_s=t=>Ae(t)?t:mr(t)?t.source:Fe(t)?mr(t.value)?t.value.source:t.value:t,Na=t=>({isOnSubmit:!t||t===rt.onSubmit,isOnBlur:t===rt.onBlur,isOnChange:t===rt.onChange,isOnAll:t===rt.all,isOnTouch:t===rt.onTouched});const _a="AsyncFunction";var Eh=t=>!!t&&!!t.validate&&!!(nt(t.validate)&&t.validate.constructor.name===_a||Fe(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===_a)),Oh=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),ka=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Es=(t,e,s,r)=>{for(const n of s||Object.keys(t)){const i=q(t,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Es(l,e))break}else if(Fe(l)&&Es(l,e))break}}};function Sa(t,e,s){const r=q(t,s);if(r||Mr(s))return{error:r,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),o=q(e,i),l=q(t,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:s}}var Th=(t,e,s,r)=>{s(t);const{name:n,...i}=t;return We(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||rt.all))},Ah=(t,e,s)=>!t||!e||t===e||Cs(t).some(r=>r&&(s?r===e:r.startsWith(e)||e.startsWith(r))),Rh=(t,e,s,r,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(e||t):(s?r.isOnBlur:n.isOnBlur)?!t:(s?r.isOnChange:n.isOnChange)?t:!0,Ph=(t,e)=>!An(q(t,e)).length&&Pe(t,e),Mh=(t,e,s)=>{const r=Cs(q(t,s));return Ne(r,"root",e[s]),Ne(t,s,r),t};function Ca(t,e,s="validate"){if(Je(t)||Array.isArray(t)&&t.every(Je)||dt(t)&&!t)return{type:s,message:Je(t)?t:"",ref:e}}var Xt=t=>Fe(t)&&!mr(t)?t:{value:t,message:""},Ea=async(t,e,s,r,n,i)=>{const{ref:o,refs:l,required:d,maxLength:c,minLength:u,min:f,max:h,pattern:m,validate:g,name:y,valueAsNumber:p,mount:j}=t._f,b=q(s,y);if(!j||e.has(y))return{};const P=l?l[0]:o,T=_=>{n&&P.reportValidity&&(P.setCustomValidity(dt(_)?"":_||""),P.reportValidity())},C={},K=Mn(o),F=qs(o),I=K||F,Q=(p||Pn(o))&&Ae(o.value)&&Ae(b)||hr(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,X=bo.bind(null,y,r,C),ne=(_,z,k,M=xt.maxLength,Y=xt.minLength)=>{const me=_?z:k;C[y]={type:_?M:Y,message:me,ref:o,...X(_?M:Y,me)}};if(i?!Array.isArray(b)||!b.length:d&&(!I&&(Q||He(b))||dt(b)&&!b||F&&!_o(l).isValid||K&&!So(l).isValid)){const{value:_,message:z}=Je(d)?{value:!!d,message:d}:Xt(d);if(_&&(C[y]={type:xt.required,message:z,ref:P,...X(xt.required,z)},!r))return T(z),C}if(!Q&&(!He(f)||!He(h))){let _,z;const k=Xt(h),M=Xt(f);if(!He(b)&&!isNaN(b)){const Y=o.valueAsNumber||b&&+b;He(k.value)||(_=Y>k.value),He(M.value)||(z=Y<M.value)}else{const Y=o.valueAsDate||new Date(b),me=A=>new Date(new Date().toDateString()+" "+A),se=o.type=="time",ye=o.type=="week";Je(k.value)&&b&&(_=se?me(b)>me(k.value):ye?b>k.value:Y>new Date(k.value)),Je(M.value)&&b&&(z=se?me(b)<me(M.value):ye?b<M.value:Y<new Date(M.value))}if((_||z)&&(ne(!!_,k.message,M.message,xt.max,xt.min),!r))return T(C[y].message),C}if((c||u)&&!Q&&(Je(b)||i&&Array.isArray(b))){const _=Xt(c),z=Xt(u),k=!He(_.value)&&b.length>+_.value,M=!He(z.value)&&b.length<+z.value;if((k||M)&&(ne(k,_.message,z.message),!r))return T(C[y].message),C}if(m&&!Q&&Je(b)){const{value:_,message:z}=Xt(m);if(mr(_)&&!b.match(_)&&(C[y]={type:xt.pattern,message:z,ref:o,...X(xt.pattern,z)},!r))return T(z),C}if(g){if(nt(g)){const _=await g(b,s),z=Ca(_,P);if(z&&(C[y]={...z,...X(xt.validate,z.message)},!r))return T(z.message),C}else if(Fe(g)){let _={};for(const z in g){if(!We(_)&&!r)break;const k=Ca(await g[z](b,s),P,z);k&&(_={...k,...X(z,k.message)},T(k.message),r&&(C[y]=_))}if(!We(_)&&(C[y]={ref:P,..._},!r))return C}}return T(!0),C};const Lh={mode:rt.onSubmit,reValidateMode:rt.onChange,shouldFocusError:!0};function Fh(t={}){let e={...Lh,...t},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:nt(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},n=Fe(e.defaultValues)||Fe(e.values)?$e(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:$e(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:ya(),state:ya()},m=e.criteriaMode===rt.all,g=x=>v=>{clearTimeout(c),c=setTimeout(x,v)},y=async x=>{if(!e.disabled&&(u.isValid||f.isValid||x)){const v=e.resolver?We((await F()).errors):await Q(r,!0);v!==s.isValid&&h.state.next({isValid:v})}},p=(x,v)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((x||Array.from(l.mount)).forEach(N=>{N&&(v?Ne(s.validatingFields,N,v):Pe(s.validatingFields,N))}),h.state.next({validatingFields:s.validatingFields,isValidating:!We(s.validatingFields)}))},j=(x,v=[],N,$,L=!0,R=!0)=>{if($&&N&&!e.disabled){if(o.action=!0,R&&Array.isArray(q(r,x))){const J=N(q(r,x),$.argA,$.argB);L&&Ne(r,x,J)}if(R&&Array.isArray(q(s.errors,x))){const J=N(q(s.errors,x),$.argA,$.argB);L&&Ne(s.errors,x,J),Ph(s.errors,x)}if((u.touchedFields||f.touchedFields)&&R&&Array.isArray(q(s.touchedFields,x))){const J=N(q(s.touchedFields,x),$.argA,$.argB);L&&Ne(s.touchedFields,x,J)}(u.dirtyFields||f.dirtyFields)&&(s.dirtyFields=rs(n,i)),h.state.next({name:x,isDirty:ne(x,v),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Ne(i,x,v)},b=(x,v)=>{Ne(s.errors,x,v),h.state.next({errors:s.errors})},P=x=>{s.errors=x,h.state.next({errors:s.errors,isValid:!1})},T=(x,v,N,$)=>{const L=q(r,x);if(L){const R=q(i,x,Ae(N)?q(n,x):N);Ae(R)||$&&$.defaultChecked||v?Ne(i,x,v?R:ja(L._f)):k(x,R),o.mount&&y()}},C=(x,v,N,$,L)=>{let R=!1,J=!1;const be={name:x};if(!e.disabled){if(!N||$){(u.isDirty||f.isDirty)&&(J=s.isDirty,s.isDirty=be.isDirty=ne(),R=J!==be.isDirty);const _e=Et(q(n,x),v);J=!!q(s.dirtyFields,x),_e?Pe(s.dirtyFields,x):Ne(s.dirtyFields,x,!0),be.dirtyFields=s.dirtyFields,R=R||(u.dirtyFields||f.dirtyFields)&&J!==!_e}if(N){const _e=q(s.touchedFields,x);_e||(Ne(s.touchedFields,x,N),be.touchedFields=s.touchedFields,R=R||(u.touchedFields||f.touchedFields)&&_e!==N)}R&&L&&h.state.next(be)}return R?be:{}},K=(x,v,N,$)=>{const L=q(s.errors,x),R=(u.isValid||f.isValid)&&dt(v)&&s.isValid!==v;if(e.delayError&&N?(d=g(()=>b(x,N)),d(e.delayError)):(clearTimeout(c),d=null,N?Ne(s.errors,x,N):Pe(s.errors,x)),(N?!Et(L,N):L)||!We($)||R){const J={...$,...R&&dt(v)?{isValid:v}:{},errors:s.errors,name:x};s={...s,...J},h.state.next(J)}},F=async x=>{p(x,!0);const v=await e.resolver(i,e.context,Ch(x||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return p(x),v},I=async x=>{const{errors:v}=await F(x);if(x)for(const N of x){const $=q(v,N);$?Ne(s.errors,N,$):Pe(s.errors,N)}else s.errors=v;return v},Q=async(x,v,N={valid:!0})=>{for(const $ in x){const L=x[$];if(L){const{_f:R,...J}=L;if(R){const be=l.array.has(R.name),_e=L._f&&Eh(L._f);_e&&u.validatingFields&&p([R.name],!0);const Xe=await Ea(L,l.disabled,i,m,e.shouldUseNativeValidation&&!v,be);if(_e&&u.validatingFields&&p([R.name]),Xe[R.name]&&(N.valid=!1,v))break;!v&&(q(Xe,R.name)?be?Mh(s.errors,Xe,R.name):Ne(s.errors,R.name,Xe[R.name]):Pe(s.errors,R.name))}!We(J)&&await Q(J,v,N)}}return N.valid},X=()=>{for(const x of l.unMount){const v=q(r,x);v&&(v._f.refs?v._f.refs.every(N=>!Kr(N)):!Kr(v._f.ref))&&Ut(x)}l.unMount=new Set},ne=(x,v)=>!e.disabled&&(x&&v&&Ne(i,x,v),!Et(A(),n)),_=(x,v,N)=>jh(x,l,{...o.mount?i:Ae(v)?n:Je(x)?{[x]:v}:v},N,v),z=x=>An(q(o.mount?i:n,x,e.shouldUnregister?q(n,x,[]):[])),k=(x,v,N={})=>{const $=q(r,x);let L=v;if($){const R=$._f;R&&(!R.disabled&&Ne(i,x,ko(v,R)),L=hr(R.ref)&&He(v)?"":v,jo(R.ref)?[...R.ref.options].forEach(J=>J.selected=L.includes(J.value)):R.refs?qs(R.ref)?R.refs.forEach(J=>{(!J.defaultChecked||!J.disabled)&&(Array.isArray(L)?J.checked=!!L.find(be=>be===J.value):J.checked=L===J.value||!!L)}):R.refs.forEach(J=>J.checked=J.value===L):Pn(R.ref)?R.ref.value="":(R.ref.value=L,R.ref.type||h.state.next({name:x,values:$e(i)})))}(N.shouldDirty||N.shouldTouch)&&C(x,L,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&ye(x)},M=(x,v,N)=>{for(const $ in v){if(!v.hasOwnProperty($))return;const L=v[$],R=x+"."+$,J=q(r,R);(l.array.has(x)||Fe(L)||J&&!J._f)&&!Wt(L)?M(R,L,N):k(R,L,N)}},Y=(x,v,N={})=>{const $=q(r,x),L=l.array.has(x),R=$e(v);Ne(i,x,R),L?(h.array.next({name:x,values:$e(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&N.shouldDirty&&h.state.next({name:x,dirtyFields:rs(n,i),isDirty:ne(x,R)})):$&&!$._f&&!He(R)?M(x,R,N):k(x,R,N),ka(x,l)&&h.state.next({...s,name:x}),h.state.next({name:o.mount?x:void 0,values:$e(i)})},me=async x=>{o.mount=!0;const v=x.target;let N=v.name,$=!0;const L=q(r,N),R=_e=>{$=Number.isNaN(_e)||Wt(_e)&&isNaN(_e.getTime())||Et(_e,q(i,N,_e))},J=Na(e.mode),be=Na(e.reValidateMode);if(L){let _e,Xe;const Qs=v.type?ja(L._f):ph(x),jt=x.type===xa.BLUR||x.type===xa.FOCUS_OUT,$o=!Oh(L._f)&&!e.resolver&&!q(s.errors,N)&&!L._f.deps||Rh(jt,q(s.touchedFields,N),s.isSubmitted,be,J),Ir=ka(N,l,jt);Ne(i,N,Qs),jt?(!v||!v.readOnly)&&(L._f.onBlur&&L._f.onBlur(x),d&&d(0)):L._f.onChange&&L._f.onChange(x);const Ur=C(N,Qs,jt),Io=!We(Ur)||Ir;if(!jt&&h.state.next({name:N,type:x.type,values:$e(i)}),$o)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?jt&&y():jt||y()),Io&&h.state.next({name:N,...Ir?{}:Ur});if(!jt&&Ir&&h.state.next({...s}),e.resolver){const{errors:$n}=await F([N]);if(R(Qs),$){const Uo=Sa(s.errors,r,N),In=Sa($n,r,Uo.name||N);_e=In.error,N=In.name,Xe=We($n)}}else p([N],!0),_e=(await Ea(L,l.disabled,i,m,e.shouldUseNativeValidation))[N],p([N]),R(Qs),$&&(_e?Xe=!1:(u.isValid||f.isValid)&&(Xe=await Q(r,!0)));$&&(L._f.deps&&(!Array.isArray(L._f.deps)||L._f.deps.length>0)&&ye(L._f.deps),K(N,Xe,_e,Ur))}},se=(x,v)=>{if(q(s.errors,v)&&x.focus)return x.focus(),1},ye=async(x,v={})=>{let N,$;const L=Cs(x);if(e.resolver){const R=await I(Ae(x)?x:L);N=We(R),$=x?!L.some(J=>q(R,J)):N}else x?($=(await Promise.all(L.map(async R=>{const J=q(r,R);return await Q(J&&J._f?{[R]:J}:J)}))).every(Boolean),!(!$&&!s.isValid)&&y()):$=N=await Q(r);return h.state.next({...!Je(x)||(u.isValid||f.isValid)&&N!==s.isValid?{}:{name:x},...e.resolver||!x?{isValid:N}:{},errors:s.errors}),v.shouldFocus&&!$&&Es(r,se,x?L:l.mount),$},A=(x,v)=>{let N={...o.mount?i:n};return v&&(N=wo(v.dirtyFields?s.dirtyFields:s.touchedFields,N)),Ae(x)?N:Je(x)?q(N,x):x.map($=>q(N,$))},V=(x,v)=>({invalid:!!q((v||s).errors,x),isDirty:!!q((v||s).dirtyFields,x),error:q((v||s).errors,x),isValidating:!!q(s.validatingFields,x),isTouched:!!q((v||s).touchedFields,x)}),ve=x=>{x&&Cs(x).forEach(v=>Pe(s.errors,v)),h.state.next({errors:x?s.errors:{}})},Se=(x,v,N)=>{const $=(q(r,x,{_f:{}})._f||{}).ref,L=q(s.errors,x)||{},{ref:R,message:J,type:be,..._e}=L;Ne(s.errors,x,{..._e,...v,ref:$}),h.state.next({name:x,errors:s.errors,isValid:!1}),N&&N.shouldFocus&&$&&$.focus&&$.focus()},De=(x,v)=>nt(x)?h.state.subscribe({next:N=>"values"in N&&x(_(void 0,v),N)}):_(x,v,!0),tt=x=>h.state.subscribe({next:v=>{Ah(x.name,v.name,x.exact)&&Th(v,x.formState||u,Do,x.reRenderRoot)&&x.callback({values:{...i},...s,...v,defaultValues:n})}}).unsubscribe,vs=x=>(o.mount=!0,f={...f,...x.formState},tt({...x,formState:f})),Ut=(x,v={})=>{for(const N of x?Cs(x):l.mount)l.mount.delete(N),l.array.delete(N),v.keepValue||(Pe(r,N),Pe(i,N)),!v.keepError&&Pe(s.errors,N),!v.keepDirty&&Pe(s.dirtyFields,N),!v.keepTouched&&Pe(s.touchedFields,N),!v.keepIsValidating&&Pe(s.validatingFields,N),!e.shouldUnregister&&!v.keepDefaultValue&&Pe(n,N);h.state.next({values:$e(i)}),h.state.next({...s,...v.keepDirty?{isDirty:ne()}:{}}),!v.keepIsValid&&y()},Js=({disabled:x,name:v})=>{(dt(x)&&o.mount||x||l.disabled.has(v))&&(x?l.disabled.add(v):l.disabled.delete(v))},Yt=(x,v={})=>{let N=q(r,x);const $=dt(v.disabled)||dt(e.disabled);return Ne(r,x,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:x}},name:x,mount:!0,...v}}),l.mount.add(x),N?Js({disabled:dt(v.disabled)?v.disabled:e.disabled,name:x}):T(x,!0,v.value),{...$?{disabled:v.disabled||e.disabled}:{},...e.progressive?{required:!!v.required,min:_s(v.min),max:_s(v.max),minLength:_s(v.minLength),maxLength:_s(v.maxLength),pattern:_s(v.pattern)}:{},name:x,onChange:me,onBlur:me,ref:L=>{if(L){Yt(x,v),N=q(r,x);const R=Ae(L.value)&&L.querySelectorAll&&L.querySelectorAll("input,select,textarea")[0]||L,J=Nh(R),be=N._f.refs||[];if(J?be.find(_e=>_e===R):R===N._f.ref)return;Ne(r,x,{_f:{...N._f,...J?{refs:[...be.filter(Kr),R,...Array.isArray(q(n,x))?[{}]:[]],ref:{type:R.type,name:x}}:{ref:R}}}),T(x,!1,void 0,R)}else N=q(r,x,{}),N._f&&(N._f.mount=!1),(e.shouldUnregister||v.shouldUnregister)&&!(xh(l.array,x)&&o.action)&&l.unMount.add(x)}}},Jt=()=>e.shouldFocusError&&Es(r,se,l.mount),S=x=>{dt(x)&&(h.state.next({disabled:x}),Es(r,(v,N)=>{const $=q(r,N);$&&(v.disabled=$._f.disabled||x,Array.isArray($._f.refs)&&$._f.refs.forEach(L=>{L.disabled=$._f.disabled||x}))},0,!1))},fe=(x,v)=>async N=>{let $;N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let L=$e(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:R,values:J}=await F();s.errors=R,L=$e(J)}else await Q(r);if(l.disabled.size)for(const R of l.disabled)Pe(L,R);if(Pe(s.errors,"root"),We(s.errors)){h.state.next({errors:{}});try{await x(L,N)}catch(R){$=R}}else v&&await v({...s.errors},N),Jt(),setTimeout(Jt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:We(s.errors)&&!$,submitCount:s.submitCount+1,errors:s.errors}),$)throw $},Ce=(x,v={})=>{q(r,x)&&(Ae(v.defaultValue)?Y(x,$e(q(n,x))):(Y(x,v.defaultValue),Ne(n,x,$e(v.defaultValue))),v.keepTouched||Pe(s.touchedFields,x),v.keepDirty||(Pe(s.dirtyFields,x),s.isDirty=v.defaultValue?ne(x,$e(q(n,x))):ne()),v.keepError||(Pe(s.errors,x),u.isValid&&y()),h.state.next({...s}))},Te=(x,v={})=>{const N=x?$e(x):n,$=$e(N),L=We(x),R=L?n:$;if(v.keepDefaultValues||(n=N),!v.keepValues){if(v.keepDirtyValues){const J=new Set([...l.mount,...Object.keys(rs(n,i))]);for(const be of Array.from(J))q(s.dirtyFields,be)?Ne(R,be,q(i,be)):Y(be,q(R,be))}else{if(Tn&&Ae(x))for(const J of l.mount){const be=q(r,J);if(be&&be._f){const _e=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(hr(_e)){const Xe=_e.closest("form");if(Xe){Xe.reset();break}}}}if(v.keepFieldsRef)for(const J of l.mount)Y(J,q(R,J));else r={}}i=e.shouldUnregister?v.keepDefaultValues?$e(n):{}:$e(R),h.array.next({values:{...R}}),h.state.next({values:{...R}})}l={mount:v.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!v.keepIsValid||!!v.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:v.keepSubmitCount?s.submitCount:0,isDirty:L?!1:v.keepDirty?s.isDirty:!!(v.keepDefaultValues&&!Et(x,n)),isSubmitted:v.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:L?{}:v.keepDirtyValues?v.keepDefaultValues&&i?rs(n,i):s.dirtyFields:v.keepDefaultValues&&x?rs(n,x):v.keepDirty?s.dirtyFields:{},touchedFields:v.keepTouched?s.touchedFields:{},errors:v.keepErrors?s.errors:{},isSubmitSuccessful:v.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},wt=(x,v)=>Te(nt(x)?x(i):x,v),Fo=(x,v={})=>{const N=q(r,x),$=N&&N._f;if($){const L=$.refs?$.refs[0]:$.ref;L.focus&&(L.focus(),v.shouldSelect&&nt(L.select)&&L.select())}},Do=x=>{s={...s,...x}},Dn={control:{register:Yt,unregister:Ut,getFieldState:V,handleSubmit:fe,setError:Se,_subscribe:tt,_runSchema:F,_focusError:Jt,_getWatch:_,_getDirty:ne,_setValid:y,_setFieldArray:j,_setDisabledField:Js,_setErrors:P,_getFieldArray:z,_reset:Te,_resetDefaultValues:()=>nt(e.defaultValues)&&e.defaultValues().then(x=>{wt(x,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:X,_disableForm:S,_subjects:h,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(x){o=x},get _defaultValues(){return n},get _names(){return l},set _names(x){l=x},get _formState(){return s},get _options(){return e},set _options(x){e={...e,...x}}},subscribe:vs,trigger:ye,register:Yt,handleSubmit:fe,watch:De,setValue:Y,getValues:A,reset:wt,resetField:Ce,clearErrors:ve,unregister:Ut,setError:Se,setFocus:Fo,getFieldState:V};return{...Dn,formControl:Dn}}function Bs(t={}){const e=qe.useRef(void 0),s=qe.useRef(void 0),[r,n]=qe.useState({isDirty:!1,isValidating:!1,isLoading:nt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:nt(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!nt(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=Fh(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,wh(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),qe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),qe.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),qe.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),qe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),qe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),qe.useEffect(()=>{t.values&&!Et(t.values,s.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),s.current=t.values,n(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),qe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=bh(r,i),e.current}const Oa=(t,e,s)=>{if(t&&"reportValidity"in t){const r=q(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Co=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?Oa(r.ref,s,t):r.refs&&r.refs.forEach(n=>Oa(n,s,t))}},Dh=(t,e)=>{e.shouldUseNativeValidation&&Co(t,e);const s={};for(const r in t){const n=q(e.fields,r),i=Object.assign(t[r]||{},{ref:n&&n.ref});if($h(e.names||Object.keys(t),r)){const o=Object.assign({},q(s,r));Ne(o,"root",i),Ne(s,r,o)}else Ne(s,r,i)}return s},$h=(t,e)=>t.some(s=>s.startsWith(e+"."));var Ih=function(t,e){for(var s={};t.length;){var r=t[0],n=r.code,i=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return t.push(f)})}),e){var d=s[o].types,c=d&&d[r.code];s[o]=bo(o,e,s,n,c?[].concat(c,r.message):r.message)}t.shift()}return s},Ws=function(t,e,s){return s===void 0&&(s={}),function(r,n,i){try{return Promise.resolve(function(o,l){try{var d=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&Co({},i),{errors:{},values:s.raw?r:c}})}catch(c){return l(c)}return d&&d.then?d.then(void 0,l):d}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Dh(Ih(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},xe;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function s(n){throw new Error}t.assertNever=s,t.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},t.getValidEnumValues=n=>{const i=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(i){return n[i]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},t.find=(n,i)=>{for(const o of n)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function r(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(xe||(xe={}));var Ta;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(Ta||(Ta={}));const B=xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ct=t=>{switch(typeof t){case"undefined":return B.undefined;case"string":return B.string;case"number":return Number.isNaN(t)?B.nan:B.number;case"boolean":return B.boolean;case"function":return B.function;case"bigint":return B.bigint;case"symbol":return B.symbol;case"object":return Array.isArray(t)?B.array:t===null?B.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?B.promise:typeof Map<"u"&&t instanceof Map?B.map:typeof Set<"u"&&t instanceof Set?B.set:typeof Date<"u"&&t instanceof Date?B.date:B.object;default:return B.unknown}},O=xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(i){return i.message},r={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,d=0;for(;d<o.path.length;){const c=o.path[d];d===o.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(s(o))):l[c]=l[c]||{_errors:[]},l=l[c],d++}}};return n(this),r}static assert(e){if(!(e instanceof vt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];s[i]=s[i]||[],s[i].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}vt.create=t=>new vt(t);const gn=(t,e)=>{let s;switch(t.code){case O.invalid_type:t.received===B.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case O.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,xe.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:s=`Unrecognized key(s) in object: ${xe.joinValues(t.keys,", ")}`;break;case O.invalid_union:s="Invalid input";break;case O.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${xe.joinValues(t.options)}`;break;case O.invalid_enum_value:s=`Invalid enum value. Expected ${xe.joinValues(t.options)}, received '${t.received}'`;break;case O.invalid_arguments:s="Invalid function arguments";break;case O.invalid_return_type:s="Invalid function return type";break;case O.invalid_date:s="Invalid date";break;case O.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:xe.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case O.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case O.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case O.custom:s="Invalid input";break;case O.invalid_intersection_types:s="Intersection results could not be merged";break;case O.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case O.not_finite:s="Number must be finite";break;default:s=e.defaultError,xe.assertNever(t)}return{message:s}};let Uh=gn;function Vh(){return Uh}const zh=t=>{const{data:e,path:s,errorMaps:r,issueData:n}=t,i=[...s,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let l="";const d=r.filter(c=>!!c).slice().reverse();for(const c of d)l=c(o,{data:e,defaultError:l}).message;return{...n,path:i,message:l}};function D(t,e){const s=Vh(),r=zh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===gn?void 0:gn].filter(n=>!!n)});t.common.issues.push(r)}class Qe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const n of s){if(n.status==="aborted")return ee;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const n of s){const i=await n.key,o=await n.value;r.push({key:i,value:o})}return Qe.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const n of s){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return ee;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ee=Object.freeze({status:"aborted"}),Ss=t=>({status:"dirty",value:t}),et=t=>({status:"valid",value:t}),Aa=t=>t.status==="aborted",Ra=t=>t.status==="dirty",us=t=>t.status==="valid",pr=t=>typeof Promise<"u"&&t instanceof Promise;var W;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(W||(W={}));class Ft{constructor(e,s,r,n){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Pa=(t,e)=>{if(us(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new vt(t.common.issues);return this._error=s,this._error}}};function he(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:n}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:d??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:d??s??l.defaultError}},description:n}}class ge{get description(){return this._def.description}_getType(e){return Ct(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:Ct(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Qe,ctx:{common:e.parent.common,data:e.data,parsedType:Ct(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(pr(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ct(e)},n=this._parseSync({data:e,path:r.path,parent:r});return Pa(r,n)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ct(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return us(i)?{value:i.value}:{issues:s.common.issues}}catch(i){(n=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>us(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ct(e)},n=this._parse({data:e,path:r.path,parent:r}),i=await(pr(n)?n:Promise.resolve(n));return Pa(r,i)}refine(e,s){const r=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,i)=>{const o=e(n),l=()=>i.addIssue({code:O.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof s=="function"?s(r,n):s),!1))}_refinement(e){return new ms({schema:this,typeName:te.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Rt.create(this,this._def)}nullable(){return ps.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mt.create(this)}promise(){return vr.create(this,this._def)}or(e){return xr.create([this,e],this._def)}and(e){return yr.create(this,e,this._def)}transform(e){return new ms({...he(this._def),schema:this,typeName:te.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new yn({...he(this._def),innerType:this,defaultValue:s,typeName:te.ZodDefault})}brand(){return new um({typeName:te.ZodBranded,type:this,...he(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new vn({...he(this._def),innerType:this,catchValue:s,typeName:te.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return Ln.create(this,e)}readonly(){return bn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qh=/^c[^\s-]{8,}$/i,Bh=/^[0-9a-z]+$/,Wh=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Hh=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Zh=/^[a-z0-9_-]{21}$/i,Kh=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Yh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jh=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Qh="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Yr;const Gh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,em=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tm=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rm=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Eo="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nm=new RegExp(`^${Eo}$`);function Oo(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function am(t){return new RegExp(`^${Oo(t)}$`)}function im(t){let e=`${Eo}T${Oo(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function om(t,e){return!!((e==="v4"||!e)&&Gh.test(t)||(e==="v6"||!e)&&em.test(t))}function lm(t,e){if(!Kh.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function cm(t,e){return!!((e==="v4"||!e)&&Xh.test(t)||(e==="v6"||!e)&&tm.test(t))}class Tt extends ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==B.string){const i=this._getOrReturnCtx(e);return D(i,{code:O.invalid_type,expected:B.string,received:i.parsedType}),ee}const r=new Qe;let n;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?D(n,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&D(n,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Jh.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"email",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Yr||(Yr=new RegExp(Qh,"u")),Yr.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"emoji",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Hh.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"uuid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Zh.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"nanoid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")qh.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cuid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Bh.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cuid2",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Wh.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"ulid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),D(n,{validation:"url",code:O.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"regex",code:O.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),D(n,{code:O.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),D(n,{code:O.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),D(n,{code:O.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?im(i).test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:O.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?nm.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:O.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?am(i).test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:O.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Yh.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"duration",code:O.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?om(e.data,i.version)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"ip",code:O.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?lm(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"jwt",code:O.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?cm(e.data,i.version)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cidr",code:O.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?sm.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"base64",code:O.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?rm.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"base64url",code:O.invalid_string,message:i.message}),r.dirty()):xe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(n=>e.test(n),{validation:s,code:O.invalid_string,...W.errToObj(r)})}_addCheck(e){return new Tt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...W.errToObj(e)})}url(e){return this._addCheck({kind:"url",...W.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...W.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...W.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...W.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...W.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...W.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...W.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...W.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...W.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...W.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...W.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...W.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...W.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...W.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...W.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...W.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...W.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...W.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...W.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...W.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...W.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...W.errToObj(s)})}nonempty(e){return this.min(1,W.errToObj(e))}trim(){return new Tt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Tt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Tt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Tt.create=t=>new Tt({checks:[],typeName:te.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...he(t)});function dm(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=s>r?s:r,i=Number.parseInt(t.toFixed(n).replace(".","")),o=Number.parseInt(e.toFixed(n).replace(".",""));return i%o/10**n}class fs extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==B.number){const i=this._getOrReturnCtx(e);return D(i,{code:O.invalid_type,expected:B.number,received:i.parsedType}),ee}let r;const n=new Qe;for(const i of this._def.checks)i.kind==="int"?xe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),D(r,{code:O.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:O.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:O.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?dm(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),D(r,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),D(r,{code:O.not_finite,message:i.message}),n.dirty()):xe.assertNever(i);return{status:n.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,W.toString(s))}gt(e,s){return this.setLimit("min",e,!1,W.toString(s))}lte(e,s){return this.setLimit("max",e,!0,W.toString(s))}lt(e,s){return this.setLimit("max",e,!1,W.toString(s))}setLimit(e,s,r,n){return new fs({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:W.toString(n)}]})}_addCheck(e){return new fs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:W.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:W.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:W.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:W.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:W.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:W.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:W.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:W.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:W.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&xe.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}fs.create=t=>new fs({checks:[],typeName:te.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...he(t)});class Ps extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==B.bigint)return this._getInvalidInput(e);let r;const n=new Qe;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:O.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:O.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),D(r,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):xe.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return D(s,{code:O.invalid_type,expected:B.bigint,received:s.parsedType}),ee}gte(e,s){return this.setLimit("min",e,!0,W.toString(s))}gt(e,s){return this.setLimit("min",e,!1,W.toString(s))}lte(e,s){return this.setLimit("max",e,!0,W.toString(s))}lt(e,s){return this.setLimit("max",e,!1,W.toString(s))}setLimit(e,s,r,n){return new Ps({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:W.toString(n)}]})}_addCheck(e){return new Ps({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:W.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:W.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:W.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:W.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:W.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Ps.create=t=>new Ps({checks:[],typeName:te.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...he(t)});class Ma extends ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==B.boolean){const r=this._getOrReturnCtx(e);return D(r,{code:O.invalid_type,expected:B.boolean,received:r.parsedType}),ee}return et(e.data)}}Ma.create=t=>new Ma({typeName:te.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...he(t)});class gr extends ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==B.date){const i=this._getOrReturnCtx(e);return D(i,{code:O.invalid_type,expected:B.date,received:i.parsedType}),ee}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return D(i,{code:O.invalid_date}),ee}const r=new Qe;let n;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:O.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:O.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):xe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gr({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:W.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:W.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}gr.create=t=>new gr({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:te.ZodDate,...he(t)});class La extends ge{_parse(e){if(this._getType(e)!==B.symbol){const r=this._getOrReturnCtx(e);return D(r,{code:O.invalid_type,expected:B.symbol,received:r.parsedType}),ee}return et(e.data)}}La.create=t=>new La({typeName:te.ZodSymbol,...he(t)});class Fa extends ge{_parse(e){if(this._getType(e)!==B.undefined){const r=this._getOrReturnCtx(e);return D(r,{code:O.invalid_type,expected:B.undefined,received:r.parsedType}),ee}return et(e.data)}}Fa.create=t=>new Fa({typeName:te.ZodUndefined,...he(t)});class Da extends ge{_parse(e){if(this._getType(e)!==B.null){const r=this._getOrReturnCtx(e);return D(r,{code:O.invalid_type,expected:B.null,received:r.parsedType}),ee}return et(e.data)}}Da.create=t=>new Da({typeName:te.ZodNull,...he(t)});class $a extends ge{constructor(){super(...arguments),this._any=!0}_parse(e){return et(e.data)}}$a.create=t=>new $a({typeName:te.ZodAny,...he(t)});class Ia extends ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return et(e.data)}}Ia.create=t=>new Ia({typeName:te.ZodUnknown,...he(t)});class Dt extends ge{_parse(e){const s=this._getOrReturnCtx(e);return D(s,{code:O.invalid_type,expected:B.never,received:s.parsedType}),ee}}Dt.create=t=>new Dt({typeName:te.ZodNever,...he(t)});class Ua extends ge{_parse(e){if(this._getType(e)!==B.undefined){const r=this._getOrReturnCtx(e);return D(r,{code:O.invalid_type,expected:B.void,received:r.parsedType}),ee}return et(e.data)}}Ua.create=t=>new Ua({typeName:te.ZodVoid,...he(t)});class mt extends ge{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),n=this._def;if(s.parsedType!==B.array)return D(s,{code:O.invalid_type,expected:B.array,received:s.parsedType}),ee;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(o||l)&&(D(s,{code:o?O.too_big:O.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(D(s,{code:O.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(D(s,{code:O.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>n.type._parseAsync(new Ft(s,o,s.path,l)))).then(o=>Qe.mergeArray(r,o));const i=[...s.data].map((o,l)=>n.type._parseSync(new Ft(s,o,s.path,l)));return Qe.mergeArray(r,i)}get element(){return this._def.type}min(e,s){return new mt({...this._def,minLength:{value:e,message:W.toString(s)}})}max(e,s){return new mt({...this._def,maxLength:{value:e,message:W.toString(s)}})}length(e,s){return new mt({...this._def,exactLength:{value:e,message:W.toString(s)}})}nonempty(e){return this.min(1,e)}}mt.create=(t,e)=>new mt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:te.ZodArray,...he(e)});function ns(t){if(t instanceof Me){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=Rt.create(ns(r))}return new Me({...t._def,shape:()=>e})}else return t instanceof mt?new mt({...t._def,type:ns(t.element)}):t instanceof Rt?Rt.create(ns(t.unwrap())):t instanceof ps?ps.create(ns(t.unwrap())):t instanceof Kt?Kt.create(t.items.map(e=>ns(e))):t}class Me extends ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=xe.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==B.object){const c=this._getOrReturnCtx(e);return D(c,{code:O.invalid_type,expected:B.object,received:c.parsedType}),ee}const{status:r,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Dt&&this._def.unknownKeys==="strip"))for(const c in n.data)o.includes(c)||l.push(c);const d=[];for(const c of o){const u=i[c],f=n.data[c];d.push({key:{status:"valid",value:c},value:u._parse(new Ft(n,f,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof Dt){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of l)d.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(c==="strict")l.length>0&&(D(n,{code:O.unrecognized_keys,keys:l}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of l){const f=n.data[u];d.push({key:{status:"valid",value:u},value:c._parse(new Ft(n,f,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of d){const f=await u.key,h=await u.value;c.push({key:f,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Qe.mergeObjectSync(r,c)):Qe.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return W.errToObj,new Me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{var i,o;const n=((o=(i=this._def).errorMap)==null?void 0:o.call(i,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:W.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new Me({...this._def,unknownKeys:"strip"})}passthrough(){return new Me({...this._def,unknownKeys:"passthrough"})}extend(e){return new Me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:te.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new Me({...this._def,catchall:e})}pick(e){const s={};for(const r of xe.objectKeys(e))e[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new Me({...this._def,shape:()=>s})}omit(e){const s={};for(const r of xe.objectKeys(this.shape))e[r]||(s[r]=this.shape[r]);return new Me({...this._def,shape:()=>s})}deepPartial(){return ns(this)}partial(e){const s={};for(const r of xe.objectKeys(this.shape)){const n=this.shape[r];e&&!e[r]?s[r]=n:s[r]=n.optional()}return new Me({...this._def,shape:()=>s})}required(e){const s={};for(const r of xe.objectKeys(this.shape))if(e&&!e[r])s[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Rt;)i=i._def.innerType;s[r]=i}return new Me({...this._def,shape:()=>s})}keyof(){return To(xe.objectKeys(this.shape))}}Me.create=(t,e)=>new Me({shape:()=>t,unknownKeys:"strip",catchall:Dt.create(),typeName:te.ZodObject,...he(e)});Me.strictCreate=(t,e)=>new Me({shape:()=>t,unknownKeys:"strict",catchall:Dt.create(),typeName:te.ZodObject,...he(e)});Me.lazycreate=(t,e)=>new Me({shape:t,unknownKeys:"strip",catchall:Dt.create(),typeName:te.ZodObject,...he(e)});class xr extends ge{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new vt(l.ctx.common.issues));return D(s,{code:O.invalid_union,unionErrors:o}),ee}if(s.common.async)return Promise.all(r.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const d of r){const c={...s,common:{...s.common,issues:[]},parent:null},u=d._parseSync({data:s.data,path:s.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(d=>new vt(d));return D(s,{code:O.invalid_union,unionErrors:l}),ee}}get options(){return this._def.options}}xr.create=(t,e)=>new xr({options:t,typeName:te.ZodUnion,...he(e)});function xn(t,e){const s=Ct(t),r=Ct(e);if(t===e)return{valid:!0,data:t};if(s===B.object&&r===B.object){const n=xe.objectKeys(e),i=xe.objectKeys(t).filter(l=>n.indexOf(l)!==-1),o={...t,...e};for(const l of i){const d=xn(t[l],e[l]);if(!d.valid)return{valid:!1};o[l]=d.data}return{valid:!0,data:o}}else if(s===B.array&&r===B.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],d=xn(o,l);if(!d.valid)return{valid:!1};n.push(d.data)}return{valid:!0,data:n}}else return s===B.date&&r===B.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class yr extends ge{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=(i,o)=>{if(Aa(i)||Aa(o))return ee;const l=xn(i.value,o.value);return l.valid?((Ra(i)||Ra(o))&&s.dirty(),{status:s.value,value:l.data}):(D(r,{code:O.invalid_intersection_types}),ee)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}yr.create=(t,e,s)=>new yr({left:t,right:e,typeName:te.ZodIntersection,...he(s)});class Kt extends ge{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==B.array)return D(r,{code:O.invalid_type,expected:B.array,received:r.parsedType}),ee;if(r.data.length<this._def.items.length)return D(r,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ee;!this._def.rest&&r.data.length>this._def.items.length&&(D(r,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...r.data].map((o,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new Ft(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Qe.mergeArray(s,o)):Qe.mergeArray(s,i)}get items(){return this._def.items}rest(e){return new Kt({...this._def,rest:e})}}Kt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kt({items:t,typeName:te.ZodTuple,rest:null,...he(e)})};class Va extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==B.map)return D(r,{code:O.invalid_type,expected:B.map,received:r.parsedType}),ee;const n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,d],c)=>({key:n._parse(new Ft(r,l,r.path,[c,"key"])),value:i._parse(new Ft(r,d,r.path,[c,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of o){const c=await d.key,u=await d.value;if(c.status==="aborted"||u.status==="aborted")return ee;(c.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(c.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const d of o){const c=d.key,u=d.value;if(c.status==="aborted"||u.status==="aborted")return ee;(c.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(c.value,u.value)}return{status:s.value,value:l}}}}Va.create=(t,e,s)=>new Va({valueType:e,keyType:t,typeName:te.ZodMap,...he(s)});class Ms extends ge{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==B.set)return D(r,{code:O.invalid_type,expected:B.set,received:r.parsedType}),ee;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(D(r,{code:O.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(D(r,{code:O.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const i=this._def.valueType;function o(d){const c=new Set;for(const u of d){if(u.status==="aborted")return ee;u.status==="dirty"&&s.dirty(),c.add(u.value)}return{status:s.value,value:c}}const l=[...r.data.values()].map((d,c)=>i._parse(new Ft(r,d,r.path,c)));return r.common.async?Promise.all(l).then(d=>o(d)):o(l)}min(e,s){return new Ms({...this._def,minSize:{value:e,message:W.toString(s)}})}max(e,s){return new Ms({...this._def,maxSize:{value:e,message:W.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Ms.create=(t,e)=>new Ms({valueType:t,minSize:null,maxSize:null,typeName:te.ZodSet,...he(e)});class za extends ge{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}za.create=(t,e)=>new za({getter:t,typeName:te.ZodLazy,...he(e)});class qa extends ge{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return D(s,{received:s.data,code:O.invalid_literal,expected:this._def.value}),ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}qa.create=(t,e)=>new qa({value:t,typeName:te.ZodLiteral,...he(e)});function To(t,e){return new hs({values:t,typeName:te.ZodEnum,...he(e)})}class hs extends ge{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return D(s,{expected:xe.joinValues(r),received:s.parsedType,code:O.invalid_type}),ee}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return D(s,{received:s.data,code:O.invalid_enum_value,options:r}),ee}return et(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return hs.create(e,{...this._def,...s})}exclude(e,s=this._def){return hs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}hs.create=To;class Ba extends ge{_parse(e){const s=xe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==B.string&&r.parsedType!==B.number){const n=xe.objectValues(s);return D(r,{expected:xe.joinValues(n),received:r.parsedType,code:O.invalid_type}),ee}if(this._cache||(this._cache=new Set(xe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=xe.objectValues(s);return D(r,{received:r.data,code:O.invalid_enum_value,options:n}),ee}return et(e.data)}get enum(){return this._def.values}}Ba.create=(t,e)=>new Ba({values:t,typeName:te.ZodNativeEnum,...he(e)});class vr extends ge{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==B.promise&&s.common.async===!1)return D(s,{code:O.invalid_type,expected:B.promise,received:s.parsedType}),ee;const r=s.parsedType===B.promise?s.data:Promise.resolve(s.data);return et(r.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}vr.create=(t,e)=>new vr({type:t,typeName:te.ZodPromise,...he(e)});class ms extends ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:o=>{D(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return ee;const d=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return d.status==="aborted"?ee:d.status==="dirty"||s.value==="dirty"?Ss(d.value):d});{if(s.value==="aborted")return ee;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?ee:l.status==="dirty"||s.value==="dirty"?Ss(l.value):l}}if(n.type==="refinement"){const o=l=>{const d=n.refinement(l,i);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ee:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ee:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!us(o))return ee;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>us(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:s.value,value:l})):ee);xe.assertNever(n)}}ms.create=(t,e,s)=>new ms({schema:t,typeName:te.ZodEffects,effect:e,...he(s)});ms.createWithPreprocess=(t,e,s)=>new ms({schema:e,effect:{type:"preprocess",transform:t},typeName:te.ZodEffects,...he(s)});class Rt extends ge{_parse(e){return this._getType(e)===B.undefined?et(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Rt.create=(t,e)=>new Rt({innerType:t,typeName:te.ZodOptional,...he(e)});class ps extends ge{_parse(e){return this._getType(e)===B.null?et(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ps.create=(t,e)=>new ps({innerType:t,typeName:te.ZodNullable,...he(e)});class yn extends ge{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===B.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}yn.create=(t,e)=>new yn({innerType:t,typeName:te.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...he(e)});class vn extends ge{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return pr(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vt(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new vt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}vn.create=(t,e)=>new vn({innerType:t,typeName:te.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...he(e)});class Wa extends ge{_parse(e){if(this._getType(e)!==B.nan){const r=this._getOrReturnCtx(e);return D(r,{code:O.invalid_type,expected:B.nan,received:r.parsedType}),ee}return{status:"valid",value:e.data}}}Wa.create=t=>new Wa({typeName:te.ZodNaN,...he(t)});class um extends ge{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class Ln extends ge{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ee:i.status==="dirty"?(s.dirty(),Ss(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?ee:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,s){return new Ln({in:e,out:s,typeName:te.ZodPipeline})}}class bn extends ge{_parse(e){const s=this._def.innerType._parse(e),r=n=>(us(n)&&(n.value=Object.freeze(n.value)),n);return pr(s)?s.then(n=>r(n)):r(s)}unwrap(){return this._def.innerType}}bn.create=(t,e)=>new bn({innerType:t,typeName:te.ZodReadonly,...he(e)});var te;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(te||(te={}));const at=Tt.create,fm=fs.create;Dt.create;mt.create;const Hs=Me.create;xr.create;yr.create;Kt.create;const Ao=hs.create;vr.create;Rt.create;ps.create;const je=E.forwardRef(({className:t,type:e,...s},r)=>a.jsx("input",{type:e,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));je.displayName="Input";const U=E.forwardRef(({className:t,...e},s)=>a.jsx("div",{ref:s,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));U.displayName="Card";const ie=E.forwardRef(({className:t,...e},s)=>a.jsx("div",{ref:s,className:Oe("flex flex-col space-y-1.5 p-6",t),...e}));ie.displayName="CardHeader";const le=E.forwardRef(({className:t,...e},s)=>a.jsx("h3",{ref:s,className:Oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));le.displayName="CardTitle";const ue=E.forwardRef(({className:t,...e},s)=>a.jsx("p",{ref:s,className:Oe("text-sm text-muted-foreground",t),...e}));ue.displayName="CardDescription";const H=E.forwardRef(({className:t,...e},s)=>a.jsx("div",{ref:s,className:Oe("p-6 pt-0",t),...e}));H.displayName="CardContent";const hm=E.forwardRef(({className:t,...e},s)=>a.jsx("div",{ref:s,className:Oe("flex items-center p-6 pt-0",t),...e}));hm.displayName="CardFooter";const mm=Hs({username:at().min(1,"نام کاربری الزامی است"),password:at().min(1,"رمز عبور الزامی است"),role:Ao(["company_manager","supervisor","agent"]).optional()});function pm(){const t=kr(),{login:e}=Pr(),{error:s,success:r}=$t(),[n,i]=E.useState(!1),[o,l]=E.useState(!1),{register:d,handleSubmit:c,formState:{errors:u}}=Bs({resolver:Ws(mm)}),f=async h=>{l(!0);try{await e(h.username,h.password,h.role),r("ورود موفق","با موفقیت وارد شدید"),t("/dashboard")}catch(m){s("خطا در ورود",(m==null?void 0:m.message)||"خطای نامشخص")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"ورود به پنل مدیریت"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"لطفاً اطلاعات خود را وارد کنید"})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"ورود"}),a.jsx(ue,{children:"برای دسترسی به پنل مدیریت وارد شوید"})]}),a.jsxs(H,{children:[a.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"نام کاربری یا ایمیل"}),a.jsx(je,{id:"username",type:"text",...d("username"),className:u.username?"border-red-500":"",placeholder:"نام کاربری یا ایمیل خود را وارد کنید"}),u.username&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.username.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"رمز عبور"}),a.jsxs("div",{className:"relative",children:[a.jsx(je,{id:"password",type:n?"text":"password",...d("password"),className:u.password?"border-red-500 pr-10":"pr-10",placeholder:"رمز عبور خود را وارد کنید"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!n),children:n?a.jsx(fn,{className:"h-4 w-4 text-gray-400"}):a.jsx(hn,{className:"h-4 w-4 text-gray-400"})})]}),u.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"نقش (اختیاری)"}),a.jsxs("select",{id:"role",...d("role"),className:"w-full h-10 px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"",children:"انتخاب نقش"}),a.jsx("option",{value:"company_manager",children:"مدیر شرکت"}),a.jsx("option",{value:"supervisor",children:"سرپرست"}),a.jsx("option",{value:"agent",children:"کارشناس"})]})]}),a.jsx(Z,{type:"submit",className:"w-full",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"ml-2 h-4 w-4 animate-spin"}),"در حال ورود..."]}):"ورود"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["حساب کاربری ندارید؟"," ",a.jsx(_r,{to:"/register",className:"font-medium text-primary hover:text-primary/80",children:"ثبت‌نام کنید"})]})})]})]})]})})}const gm=Hs({username:at().min(3,"نام کاربری باید حداقل 3 کاراکتر باشد"),email:at().email("ایمیل معتبر نیست"),password:at().min(6,"رمز عبور باید حداقل 6 کاراکتر باشد"),confirmPassword:at(),display_name:at().min(2,"نام نمایشی الزامی است"),role:Ao(["company_manager","supervisor","agent"]),supervisor_id:fm().optional()}).refine(t=>t.password===t.confirmPassword,{message:"رمز عبور و تکرار آن مطابقت ندارند",path:["confirmPassword"]});function xm(){const t=kr(),{register:e}=Pr(),{error:s,success:r}=$t(),[n,i]=E.useState(!1),[o,l]=E.useState(!1),[d,c]=E.useState(!1),{register:u,handleSubmit:f,watch:h,formState:{errors:m}}=Bs({resolver:Ws(gm)}),g=h("role"),y=async p=>{c(!0);try{const{confirmPassword:j,...b}=p;await e(b),r("ثبت‌نام موفق","حساب کاربری شما با موفقیت ایجاد شد"),t("/dashboard")}catch(j){s("خطا در ثبت‌نام",(j==null?void 0:j.message)||"خطای نامشخص")}finally{c(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"ثبت‌نام در پنل مدیریت"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"حساب کاربری جدید ایجاد کنید"})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"ثبت‌نام"}),a.jsx(ue,{children:"اطلاعات خود را برای ایجاد حساب کاربری وارد کنید"})]}),a.jsxs(H,{children:[a.jsxs("form",{onSubmit:f(y),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"نام کاربری"}),a.jsx(je,{id:"username",type:"text",...u("username"),className:m.username?"border-red-500":"",placeholder:"نام کاربری خود را وارد کنید"}),m.username&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.username.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"ایمیل"}),a.jsx(je,{id:"email",type:"email",...u("email"),className:m.email?"border-red-500":"",placeholder:"ایمیل خود را وارد کنید"}),m.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"display_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"نام نمایشی"}),a.jsx(je,{id:"display_name",type:"text",...u("display_name"),className:m.display_name?"border-red-500":"",placeholder:"نام کامل خود را وارد کنید"}),m.display_name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.display_name.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"نقش"}),a.jsxs("select",{id:"role",...u("role"),className:"w-full h-10 px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"",children:"انتخاب نقش"}),a.jsx("option",{value:"company_manager",children:"مدیر شرکت"}),a.jsx("option",{value:"supervisor",children:"سرپرست"}),a.jsx("option",{value:"agent",children:"کارشناس"})]}),m.role&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.role.message})]}),g==="agent"&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"supervisor_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"سرپرست"}),a.jsx(je,{id:"supervisor_id",type:"number",...u("supervisor_id",{valueAsNumber:!0}),className:m.supervisor_id?"border-red-500":"",placeholder:"شناسه سرپرست را وارد کنید"}),m.supervisor_id&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.supervisor_id.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"رمز عبور"}),a.jsxs("div",{className:"relative",children:[a.jsx(je,{id:"password",type:n?"text":"password",...u("password"),className:m.password?"border-red-500 pr-10":"pr-10",placeholder:"رمز عبور خود را وارد کنید"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!n),children:n?a.jsx(fn,{className:"h-4 w-4 text-gray-400"}):a.jsx(hn,{className:"h-4 w-4 text-gray-400"})})]}),m.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"تکرار رمز عبور"}),a.jsxs("div",{className:"relative",children:[a.jsx(je,{id:"confirmPassword",type:o?"text":"password",...u("confirmPassword"),className:m.confirmPassword?"border-red-500 pr-10":"pr-10",placeholder:"رمز عبور را مجدداً وارد کنید"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:o?a.jsx(fn,{className:"h-4 w-4 text-gray-400"}):a.jsx(hn,{className:"h-4 w-4 text-gray-400"})})]}),m.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword.message})]}),a.jsx(Z,{type:"submit",className:"w-full",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"ml-2 h-4 w-4 animate-spin"}),"در حال ثبت‌نام..."]}):"ثبت‌نام"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["قبلاً حساب کاربری دارید؟"," ",a.jsx(_r,{to:"/login",className:"font-medium text-primary hover:text-primary/80",children:"وارد شوید"})]})})]})]})]})})}const ym=yo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",warning:"border-transparent bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",info:"border-transparent bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"}},defaultVariants:{variant:"default"}});function pe({className:t,variant:e,...s}){return a.jsx("div",{className:Oe(ym({variant:e}),t),...s})}const vm=[{key:"normal",icon:Sn,color:"bg-green-100 text-green-800"},{key:"upsell",icon:En,color:"bg-blue-100 text-blue-800"},{key:"upsell_pending",icon:uo,color:"bg-orange-100 text-orange-800"},{key:"upsell_paid",icon:rh,color:"bg-purple-100 text-purple-800"},{key:"no_answer",icon:th,color:"bg-yellow-100 text-yellow-800"},{key:"canceled",icon:co,color:"bg-red-100 text-red-800"}],bm=[{title:"مشاهده مشتریان",description:"لیست تمام مشتریان",href:"/customers",icon:Ot},{title:"زمان‌بندی",description:"مدیریت ظرفیت و رزروها",href:"/schedule",icon:cs},{title:"پیامک‌ها",description:"ارسال و مدیریت پیامک‌ها",href:"/sms",icon:Rs}];function wm(){const{user:t}=Ge(),e=Le({queryKey:["dashboard-summary"],queryFn:async()=>{var g;const m=await od.getSummary();if(!m.success)throw new Error(((g=m.error)==null?void 0:g.message)||"خطا در دریافت اطلاعات داشبورد");return m.data}}),{data:s,isLoading:r,isError:n,error:i}=e,o=s==null?void 0:s.counts,l=s==null?void 0:s.sms,d=s==null?void 0:s.upsell,c=s==null?void 0:s.logs,u=(s==null?void 0:s.recent_activity)??[],f=E.useMemo(()=>{const m=vm.map(g=>{var p;const y=((p=s==null?void 0:s.status_counts)==null?void 0:p[g.key])??0;return{key:g.key,title:At(g.key),value:y,icon:g.icon,color:g.color}});return s&&Object.keys(s.status_counts).forEach(g=>{m.some(y=>y.key===g)||m.push({key:g,title:At(g),value:s.status_counts[g],icon:En,color:"bg-slate-100 text-slate-800"})}),m},[s]);if(r)return a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((m,g)=>a.jsxs(U,{children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx("div",{className:"h-4 w-24 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-4 w-4 animate-pulse rounded bg-muted"})]}),a.jsxs(H,{children:[a.jsx("div",{className:"mb-2 h-8 w-16 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-32 animate-pulse rounded bg-muted"})]})]},g))})});if(n)return a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"خطا در بارگذاری داشبورد"}),a.jsx(ue,{children:ke(i)})]})});if(!s||!o)return null;const h=[{title:"سرپرست‌ها",value:o.supervisors,icon:ds,description:"تعداد سرپرست‌های فعال",color:"text-blue-600"},{title:"کارشناس‌ها",value:o.agents,icon:go,description:"تعداد کارشناس‌های فعال",color:"text-green-600"},{title:"مشتریان",value:o.customers,icon:Ot,description:"تعداد کل مشتریان",color:"text-purple-600"},{title:"رزرو امروز",value:o.reservations_today,icon:cs,description:"رزروهای امروز ثبت‌شده",color:"text-orange-600"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"داشبورد"}),a.jsxs("p",{className:"text-muted-foreground",children:["خوش آمدید ",t==null?void 0:t.display_name," (",t!=null&&t.role?If(t.role):"",")"]})]})}),a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:h.map(m=>{const g=m.icon;return a.jsxs(U,{children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(le,{className:"text-sm font-medium",children:m.title}),a.jsx(g,{className:Oe("h-4 w-4",m.color)})]}),a.jsxs(H,{children:[a.jsx("div",{className:"text-2xl font-bold text-foreground",children:oe(m.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:m.description})]})]},m.title)})}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"وضعیت مشتریان"}),a.jsx(ue,{children:"توزیع مشتریان بر اساس وضعیت فعلی"})]}),a.jsx(H,{children:a.jsx("div",{className:"space-y-4",children:f.map(m=>{const g=m.icon;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[a.jsx(g,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:m.title})]}),a.jsx(pe,{className:m.color,children:oe(m.value)})]},m.key)})})})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"فعالیت‌های اخیر"}),a.jsx(ue,{children:"آخرین رخدادهای ثبت‌شده در سامانه"})]}),a.jsx(H,{children:u.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"فعلاً فعالیتی ثبت نشده است."}):a.jsx("div",{className:"space-y-4",children:u.map(m=>a.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[a.jsx("div",{className:"mt-2 h-2 w-2 flex-shrink-0 rounded-full bg-blue-500"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm text-foreground",children:m.message}),a.jsxs("div",{className:"mt-1 flex items-center space-x-2 space-x-reverse text-xs text-muted-foreground",children:[m.user_id&&a.jsxs("span",{children:["کاربر #",m.user_id]}),a.jsx("span",{children:Uf(m.created_at)})]})]})]},m.id??m.created_at))})})]})]}),(t==null?void 0:t.role)==="company_manager"&&a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"آمار پیامک"}),a.jsx(ue,{children:"ارسال پیامک در بازه اخیر"})]}),a.jsx(H,{children:l?a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsx(yt,{label:"کل پیامک‌ها",value:l.total_sent}),a.jsx(yt,{label:"موفق",value:l.successful}),a.jsx(yt,{label:"ناموفق",value:l.failed}),a.jsx(yt,{label:"نرخ موفقیت",value:`${l.success_rate}%`})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"اطلاعاتی برای پیامک در دسترس نیست."})})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"آمار فروش افزایشی"}),a.jsx(ue,{children:"گزارش ثبت و پرداخت سفارش‌های افزایشی"})]}),a.jsx(H,{children:d?a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsx(yt,{label:"کل سفارش‌ها",value:d.total_orders}),a.jsx(yt,{label:"تکمیل‌شده",value:d.completed_orders}),a.jsx(yt,{label:"ناموفق",value:d.failed_orders}),a.jsx(yt,{label:"درآمد کل",value:d.total_revenue.toLocaleString("fa-IR")})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"اطلاعاتی برای فروش افزایشی در دسترس نیست."})})]})]}),(t==null?void 0:t.role)==="company_manager"&&c&&a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"گزارش لاگ‌ها"}),a.jsx(ue,{children:"خلاصه‌ای از وقایع ثبت‌شده در سیستم"})]}),a.jsx(H,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 text-sm",children:[a.jsx(yt,{label:"تعداد لاگ‌ها",value:c.total_logs}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"تغییر وضعیت مشتریان"}),a.jsx("div",{className:"space-y-1",children:Object.entries(c.status_changes).map(([m,g])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:At(m)}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:oe(g)})]},m))})]})]})})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"عملیات سریع"}),a.jsx(ue,{children:"دسترسی سریع به بخش‌های پرکاربرد"})]}),a.jsx(H,{children:a.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:bm.map(m=>a.jsx(jm,{title:m.title,description:m.description,href:m.href,icon:m.icon},m.href))})})]})]})}function yt({label:t,value:e}){return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:t}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:typeof e=="number"?oe(e):e})]})}function jm({title:t,description:e,href:s,icon:r}){return a.jsx(_r,{to:s,className:"block rounded-lg border p-4 transition-colors hover:bg-muted",children:a.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[a.jsx(r,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-foreground",children:t}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})]})})}function Ro({status:t,className:e}){const s=At(t),r=$f(t);return a.jsx(pe,{variant:"outline",className:`${r} ${e}`,children:s})}const Lr=Qo,Nm=Yo,Po=E.forwardRef(({className:t,...e},s)=>a.jsx(li,{ref:s,className:Oe("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=closed]:animate-out data-[state=open]:animate-in data-[state=open]:fade-in data-[state=closed]:fade-out",t),...e}));Po.displayName=li.displayName;const Zs=E.forwardRef(({className:t,children:e,...s},r)=>a.jsxs(Nm,{children:[a.jsx(Po,{}),a.jsxs(ci,{ref:r,className:Oe("fixed left-1/2 top-1/2 z-50 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-lg border bg-card p-6 shadow-lg outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-90 data-[state=closed]:fade-out-90",t),...s,children:[e,a.jsxs(Jo,{className:"absolute left-4 top-4 rounded-md p-1 text-muted-foreground transition hover:bg-muted hover:text-foreground",children:[a.jsx(On,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"بستن"})]})]})]}));Zs.displayName=ci.displayName;const Fr=({className:t,...e})=>a.jsx("div",{className:Oe("space-y-1 text-right",t),...e}),Dr=({className:t,...e})=>a.jsx("div",{className:Oe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e}),Ks=E.forwardRef(({className:t,...e},s)=>a.jsx(di,{ref:s,className:Oe("text-lg font-semibold leading-none tracking-tight",t),...e}));Ks.displayName=di.displayName;const Ys=E.forwardRef(({className:t,...e},s)=>a.jsx(ui,{ref:s,className:Oe("text-sm text-muted-foreground",t),...e}));Ys.displayName=ui.displayName;const Fn=E.forwardRef(({className:t,...e},s)=>a.jsx("textarea",{ref:s,className:Oe("flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-50",t),...e}));Fn.displayName="Textarea";const _m=Hs({note:at().trim().min(3,"حداقل ۳ کاراکتر وارد کنید").max(2e3,"حداکثر ۲۰۰۰ کاراکتر مجاز است")});function km({open:t,onOpenChange:e,onSubmit:s,isSubmitting:r=!1,customerName:n}){const i=Bs({resolver:Ws(_m),defaultValues:{note:""}});E.useEffect(()=>{t||i.reset({note:""})},[t,i]);const o=i.handleSubmit(async l=>{await s(l),e(!1),i.reset({note:""})});return a.jsx(Lr,{open:t,onOpenChange:e,children:a.jsxs(Zs,{children:[a.jsxs(Fr,{children:[a.jsxs(Ks,{children:["ثبت یادداشت برای ",n]}),a.jsx(Ys,{children:"توضیحات یا نکته‌ای که باید برای این مشتری ثبت شود را وارد کنید."})]}),a.jsxs("form",{onSubmit:o,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsx("label",{htmlFor:"note",className:"font-medium text-foreground",children:"متن یادداشت"}),a.jsx(Fn,{id:"note",placeholder:"متن یادداشت...",...i.register("note"),disabled:r}),i.formState.errors.note&&a.jsx("p",{className:"text-xs text-destructive",children:i.formState.errors.note.message})]}),a.jsxs(Dr,{children:[a.jsx(Z,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:r,children:"انصراف"}),a.jsx(Z,{type:"submit",disabled:r,children:r?"در حال ثبت...":"ثبت یادداشت"})]})]})]})})}const Sm=Hs({status:at().min(1,"یک وضعیت جدید انتخاب کنید"),reason:at().optional().transform(t=>(t==null?void 0:t.trim())??"").refine(t=>!t||t.length>=3,{message:"توضیح باید حداقل ۳ کاراکتر باشد"})});function Cm({open:t,onOpenChange:e,customerName:s,currentStatus:r,selectableStatuses:n,isSubmitting:i=!1,onSubmit:o}){const l=Bs({resolver:Ws(Sm),defaultValues:{status:n[0]??r,reason:""}});E.useEffect(()=>{t&&l.reset({status:n[0]??r,reason:""})},[t,r,n,l]);const d=l.handleSubmit(async c=>{if(!n.includes(c.status)){l.setError("status",{message:"وضعیت انتخاب‌شده معتبر نیست"});return}await o(c),e(!1)});return a.jsx(Lr,{open:t,onOpenChange:e,children:a.jsxs(Zs,{children:[a.jsxs(Fr,{children:[a.jsx(Ks,{children:"تغییر وضعیت مشتری"}),a.jsxs(Ys,{children:["وضعیت جدید برای ",s," را انتخاب کنید. وضعیت فعلی"," ",a.jsx(pe,{variant:"outline",children:At(r)})," است."]})]}),a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"انتخاب وضعیت جدید"}),a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:n.map(c=>{const u=l.watch("status")===c;return a.jsx("button",{type:"button",onClick:()=>l.setValue("status",c,{shouldValidate:!0}),className:`
                      rounded-lg border p-3 text-right transition
                      ${u?"border-primary bg-primary/10":"border-border hover:border-primary"}
                    `,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-foreground",children:At(c)}),a.jsx(Ro,{status:c})]})},c)})}),l.formState.errors.status&&a.jsx("p",{className:"text-xs text-destructive",children:l.formState.errors.status.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"reason",className:"text-sm font-medium text-foreground",children:"توضیح (اختیاری)"}),a.jsx(Fn,{id:"reason",placeholder:"در صورت نیاز توضیح کوتاهی وارد کنید...",rows:3,...l.register("reason"),disabled:i}),l.formState.errors.reason&&a.jsx("p",{className:"text-xs text-destructive",children:l.formState.errors.reason.message})]}),a.jsxs(Dr,{children:[a.jsx(Z,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:i,children:"انصراف"}),a.jsx(Z,{type:"submit",disabled:i,children:i?"در حال بروزرسانی…":"ذخیره وضعیت"})]})]})]})})}function bt(t,e=400){const[s,r]=E.useState(t);return E.useEffect(()=>{const n=setTimeout(()=>r(t),e);return()=>clearTimeout(n)},[t,e]),s}function Em({type:t,open:e,onOpenChange:s,customerName:r,isSubmitting:n=!1,onSubmit:i,supervisorFilter:o,allowUnassign:l=!1}){const[d,c]=E.useState(""),u=bt(d,400),[f,h]=E.useState(null),[m,g]=E.useState(null);E.useEffect(()=>{e||(c(""),h(null),g(null))},[e]);const y=E.useMemo(()=>t==="supervisor"?["assignment","supervisors",u]:["assignment","agents",u,o],[t,u,o]),p=Le({queryKey:y,enabled:e,queryFn:async()=>{var K,F,I,Q;if(t==="supervisor"){const X=await Pt.getSupervisors({per_page:100,search:u||void 0});if(!X.success)throw new Error(((K=X.error)==null?void 0:K.message)||"خطا در دریافت سرپرست‌ها");return((F=X.data)==null?void 0:F.items)??[]}const C=await Pt.getAgents({per_page:100,search:u||void 0,supervisor_id:o});if(!C.success)throw new Error(((I=C.error)==null?void 0:I.message)||"خطا در دریافت کارشناسان");return((Q=C.data)==null?void 0:Q.items)??[]}}),j=p.data??[],b=async C=>{if(C.preventDefault(),g(null),l&&f===0){await i(0),s(!1);return}if(f===null||f<=0){g("یکی از گزینه‌ها را انتخاب کنید");return}await i(f),s(!1)},P=t==="supervisor"?"انتخاب سرپرست":"انتخاب کارشناس",T=t==="supervisor"?"سرپرستی جدید برای مشتری انتخاب کنید.":"کارشناس مورد نظر خود را انتخاب کنید.";return a.jsx(Lr,{open:e,onOpenChange:s,children:a.jsxs(Zs,{children:[a.jsxs(Fr,{children:[a.jsx(Ks,{children:P}),a.jsxs(Ys,{children:[T," - مشتری: ",a.jsx("strong",{children:r})]})]}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsx(je,{placeholder:"جست‌وجو...",value:d,onChange:C=>c(C.target.value)}),p.isLoading?a.jsx("div",{className:"flex items-center justify-center py-6",children:a.jsx(it,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):p.isError?a.jsx("p",{className:"text-sm text-destructive",children:ke(p.error)}):j.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"گزینه‌ای با جست‌وجوی فعلی یافت نشد."}):a.jsxs("div",{className:"grid max-h-72 gap-2 overflow-y-auto rounded-md border p-2",children:[j.map(C=>{const K=f===C.id,F=t==="agent"?C.supervisor_name||"بدون سرپرست":`${C.agents_count??0} کارشناس`;return a.jsxs("button",{type:"button",onClick:()=>h(C.id),className:`
                      flex flex-col items-start rounded-md border p-3 text-right transition
                      ${K?"border-primary bg-primary/10":"border-border hover:border-primary"}
                    `,children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-foreground",children:C.display_name||C.username}),a.jsxs(pe,{variant:"outline",children:["شناسه: ",C.id]})]}),a.jsx("span",{className:"mt-1 text-xs text-muted-foreground",children:F})]},C.id)}),l&&a.jsxs("button",{type:"button",onClick:()=>h(0),className:`flex items-center justify-between rounded-md border border-dashed p-3 text-sm transition ${f===0?"border-destructive bg-destructive/10 text-destructive":"border-border text-muted-foreground hover:border-destructive"}`,children:[a.jsx("span",{children:"حذف تخصیص"}),a.jsx(ds,{className:"h-4 w-4"})]})]}),m&&a.jsx("p",{className:"text-xs text-destructive",children:m}),a.jsxs(Dr,{children:[a.jsx(Z,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:n,children:"انصراف"}),a.jsx(Z,{type:"submit",disabled:n||p.isLoading,children:n?"در حال ذخیره...":"تأیید"})]})]})]})})}const Om=Hs({field_key:at().min(1,"یکی از گزینه‌ها را انتخاب کنید")});function Tm({open:t,onOpenChange:e,customerName:s,cardId:r,isSubmitting:n=!1,onSubmit:i}){const o=Bs({resolver:Ws(Om),defaultValues:{field_key:""}});E.useEffect(()=>{t||o.reset({field_key:""})},[t,o]);const l=Le({queryKey:["card-fields",r],enabled:t&&!!r,queryFn:async()=>{var h,m;const f=await Vs.getCardFields(r);if(!f.success)throw new Error(((h=f.error)==null?void 0:h.message)||"خطا در دریافت فیلدها");return((m=f.data)==null?void 0:m.fields)??[]}}),d=o.handleSubmit(async f=>{await i(f),e(!1),o.reset({field_key:""})}),c=l.data??[],u=c.find(f=>f.key===o.watch("field_key"));return a.jsx(Lr,{open:t,onOpenChange:e,children:a.jsxs(Zs,{className:"right-0 top-0 h-full max-w-md translate-x-0 translate-y-0 rounded-none border-0 bg-card p-0 sm:rounded-l-xl",children:[a.jsxs(Fr,{className:"border-b p-6 text-right",children:[a.jsx(Ks,{children:"شروع فروش افزایشی"}),a.jsxs(Ys,{children:["یکی از گزینه‌های افزایشی کارت را برای ",s," انتخاب کنید."]})]}),a.jsxs("form",{onSubmit:d,className:"flex h-full flex-col",children:[a.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto p-6",children:[l.isLoading?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(it,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):l.isError?a.jsx("p",{className:"text-sm text-destructive",children:ke(l.error)}):c.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"فیلدی برای این کارت ثبت نشده است. ابتدا فیلدهای افزایشی کارت را تعریف کنید."}):a.jsx("div",{className:"space-y-3",children:c.map(f=>{const h=o.watch("field_key")===f.key;return a.jsx("button",{type:"button",onClick:()=>o.setValue("field_key",f.key,{shouldValidate:!0}),className:`
                        w-full rounded-lg border p-4 text-right transition
                        ${h?"border-primary bg-primary/10":"border-border hover:border-primary"}
                      `,children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-foreground",children:f.label}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["کلید: ",f.key]})]}),a.jsxs("span",{className:"text-base font-bold text-primary",children:[oe(f.amount)," تومان"]})]})},f.key)})}),o.formState.errors.field_key&&a.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.field_key.message}),u&&a.jsx("div",{className:"rounded-lg border border-dashed p-4 text-sm leading-6 text-muted-foreground",children:a.jsxs("p",{children:["پس از ثبت سفارش، لینک پرداخت مربوط به گزینه"," ",a.jsx("strong",{className:"text-foreground",children:u.label})," برای مشتری ایجاد و پیامک مرتبط ارسال خواهد شد."]})})]}),a.jsxs(Dr,{className:"border-t p-6",children:[a.jsx(Z,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:n,children:"انصراف"}),a.jsx(Z,{type:"submit",disabled:n||l.isLoading||!o.watch("field_key")||c.length===0,children:n?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4 animate-spin"}),"در حال ایجاد سفارش..."]}):a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Bf,{className:"h-4 w-4"}),"ایجاد لینک پرداخت"]})})]})]})]})})}const Am=12,Jr=["normal","upsell","upsell_pending","upsell_paid","no_answer","canceled"];function Rm(){var Yt,Jt;const{user:t}=Ge(),{success:e,error:s,info:r}=$t(),n=Fs(),[i,o]=E.useState(""),[l,d]=E.useState("all"),[c,u]=E.useState(1),[f,h]=E.useState(null),[m,g]=E.useState(null),[y,p]=E.useState(null),[j,b]=E.useState(null),P=bt(i,450);E.useEffect(()=>{u(1)},[l,P]);const T=E.useMemo(()=>{const S={page:c,per_page:Am};return l!=="all"&&(S.status=l),P&&(S.search=P),S},[c,l,P]),C=Le({queryKey:["customers",T],queryFn:async()=>{var fe;const S=await ct.getCustomers(T);if(!S.success)throw new Error(((fe=S.error)==null?void 0:fe.message)||"خطا در دریافت مشتریان");return S.data},placeholderData:S=>S}),K=Le({queryKey:["customers","tabs"],queryFn:async()=>{var fe;const S=await ct.getCustomerTabs();if(!S.success)throw new Error(((fe=S.error)==null?void 0:fe.message)||"خطا در دریافت تب‌ها");return S.data},staleTime:1e3*60}),F=((Yt=C.data)==null?void 0:Yt.items)??[],I=(Jt=C.data)==null?void 0:Jt.pagination,Q=(I==null?void 0:I.total_pages)??1,X=(I==null?void 0:I.total)??0,ne=E.useMemo(()=>{var fe,Ce,Te;const S=((fe=K.data)==null?void 0:fe.tabs)??{};return[{key:"all",label:"همه",count:X},{key:"upsell_pending",label:"در انتظار پرداخت",count:(Ce=S.upsell_pending)==null?void 0:Ce.total},{key:"upsell_paid",label:"پرداخت شده",count:(Te=S.upsell_paid)==null?void 0:Te.total},{key:"upsell",label:"فروش افزایشی"},{key:"normal",label:"عادی"},{key:"no_answer",label:"جواب نداد"},{key:"canceled",label:"انصراف داد"}]},[K.data,X]),_=st({mutationFn:async({customerId:S,status:fe,reason:Ce})=>{var wt;const Te=await ct.updateCustomerStatus(S,fe,Ce);if(!Te.success)throw new Error(((wt=Te.error)==null?void 0:wt.message)||"خطا در تغییر وضعیت");return Te.data},onSuccess:()=>{e("موفق","وضعیت مشتری بروزرسانی شد"),n.invalidateQueries({queryKey:["customers"]}),n.invalidateQueries({queryKey:["customers","tabs"]})},onError:S=>{s("خطا در تغییر وضعیت",ke(S))}}),z=st({mutationFn:async S=>{var Ce;const fe=await ct.sendNormalCode(S);if(!fe.success)throw new Error(((Ce=fe.error)==null?void 0:Ce.message)||"ارسال پیامک ناموفق بود");return fe.data},onSuccess:()=>{e("پیامک ارسال شد","کد عادی برای مشتری ارسال گردید")},onError:S=>{s("خطا در ارسال پیامک",ke(S))}}),k=st({mutationFn:async({customerId:S,note:fe})=>{var Te;const Ce=await ct.addCustomerNote(S,fe);if(!Ce.success)throw new Error(((Te=Ce.error)==null?void 0:Te.message)||"ثبت یادداشت ناموفق بود");return Ce.data},onSuccess:()=>{e("یادداشت ثبت شد","یادداشت شما ذخیره شد"),n.invalidateQueries({queryKey:["customers"]})},onError:S=>{s("خطا در ثبت یادداشت",ke(S))}}),M=st({mutationFn:async({customerId:S,supervisorId:fe})=>{var Te;const Ce=await ct.assignSupervisor(S,fe);if(!Ce.success)throw new Error(((Te=Ce.error)==null?void 0:Te.message)||"تخصیص سرپرست ناموفق بود");return Ce.data},onSuccess:()=>{e("سرپرست بروزرسانی شد","سرپرست مشتری تغییر یافت"),n.invalidateQueries({queryKey:["customers"]})},onError:S=>{s("خطا در تغییر سرپرست",ke(S))}}),Y=st({mutationFn:async({customerId:S,agentId:fe})=>{var Te;const Ce=await ct.assignAgent(S,fe);if(!Ce.success)throw new Error(((Te=Ce.error)==null?void 0:Te.message)||"تخصیص کارشناس ناموفق بود");return Ce.data},onSuccess:()=>{e("کارشناس بروزرسانی شد","کارشناس مشتری تغییر یافت"),n.invalidateQueries({queryKey:["customers"]})},onError:S=>{s("خطا در تغییر کارشناس",ke(S))}}),me=st({mutationFn:async({customerId:S,cardId:fe,fieldKey:Ce})=>{var wt;const Te=await ct.initUpsell(S,fe,Ce);if(!Te.success)throw new Error(((wt=Te.error)==null?void 0:wt.message)||"ایجاد فروش افزایشی ناموفق بود");return Te.data},onSuccess:S=>{e("سفارش ایجاد شد","لینک پرداخت ایجاد و پیامک ارسال شد"),S!=null&&S.pay_link&&r("لینک پرداخت",S.pay_link),n.invalidateQueries({queryKey:["customers"]}),n.invalidateQueries({queryKey:["customers","tabs"]})},onError:S=>{s("خطا در فروش افزایشی",ke(S))}}),se=S=>S.display_name||S.email||`مشتری #${S.id}`,ye=S=>{const fe=Jr.filter(Ce=>Ce!==S.status);h({customer:S,statuses:fe.length>0?fe:Jr})},A=async({status:S,reason:fe})=>{f!=null&&f.customer&&(await _.mutateAsync({customerId:f.customer.id,status:S,reason:fe||void 0}),h(null))},V=S=>{g(S)},ve=async({note:S})=>{m&&(await k.mutateAsync({customerId:m.id,note:S}),g(null))},Se=(S,fe)=>{p({type:S,customer:fe})},De=async S=>{y&&(y.type==="supervisor"?await M.mutateAsync({customerId:y.customer.id,supervisorId:S}):await Y.mutateAsync({customerId:y.customer.id,agentId:S}),p(null))},tt=S=>{if(!S.card_id){s("کارت نامشخص","برای این مشتری کارت تعریف نشده است");return}b(S)},vs=async({field_key:S})=>{j!=null&&j.card_id&&(await me.mutateAsync({customerId:j.id,cardId:j.card_id,fieldKey:S}),b(null))},Ut=S=>{z.mutate(S.id)},Js=_.isPending||z.isPending||me.isPending||Y.isPending||M.isPending||k.isPending;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"مدیریت مشتریان"}),a.jsx("p",{className:"text-muted-foreground",children:"مشاهده و مدیریت مشتریان بر اساس نقش و وضعیت"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[a.jsxs("div",{className:"relative sm:w-64",children:[a.jsx(It,{className:"absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(je,{placeholder:"جست‌وجو در مشتریان...",className:"pr-9",value:i,onChange:S=>o(S.target.value)})]}),a.jsxs(Z,{variant:"outline",className:"gap-2",disabled:!0,children:[a.jsx(Wf,{className:"h-4 w-4"}),"فیلتر پیشرفته (به‌زودی)"]})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:ne.map(S=>a.jsxs(Z,{variant:l===S.key?"default":"outline",onClick:()=>d(S.key),className:"gap-2",children:[a.jsx("span",{children:S.label}),typeof S.count=="number"&&a.jsx(pe,{variant:l===S.key?"secondary":"outline",children:oe(S.count)})]},S.key))}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"لیست مشتریان"}),a.jsxs(ue,{children:["مجموع ",oe(X)," مشتری"]})]}),a.jsxs(H,{children:[C.isLoading?a.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:Array.from({length:6}).map((S,fe)=>a.jsx(U,{className:"animate-pulse",children:a.jsxs(H,{className:"space-y-4 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-muted"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-3/4 rounded bg-muted"}),a.jsx("div",{className:"h-3 w-1/2 rounded bg-muted"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 w-full rounded bg-muted"}),a.jsx("div",{className:"h-3 w-5/6 rounded bg-muted"})]})]})},fe))}):C.isError?a.jsx("div",{className:"rounded-lg border border-dashed p-8 text-center text-sm text-destructive",children:ke(C.error)}):F.length===0?a.jsx("div",{className:"rounded-lg border border-dashed p-12 text-center text-muted-foreground",children:"مشتری مطابق با فیلترهای فعلی یافت نشد."}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:F.map(S=>a.jsx(Pm,{customer:S,disabled:Js,onOpenStatusDialog:ye,onSendNormalCode:Ut,onOpenNoteDialog:V,onOpenAssignSupervisor:fe=>Se("supervisor",fe),onOpenAssignAgent:fe=>Se("agent",fe),onOpenUpsell:tt},S.id))}),I&&F.length>0&&a.jsxs("div",{className:"mt-6 flex items-center justify-between border-t pt-6",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["صفحه ",oe(c)," از ",oe(Q)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>u(S=>Math.max(S-1,1)),disabled:c===1||C.isFetching,children:"قبلی"}),a.jsx(Z,{variant:"outline",onClick:()=>u(S=>Math.min(S+1,Q)),disabled:c===Q||C.isFetching,children:"بعدی"})]})]})]})]}),a.jsx(Cm,{open:!!f,onOpenChange:S=>{S||h(null)},customerName:f?se(f.customer):"",currentStatus:(f==null?void 0:f.customer.status)??"normal",selectableStatuses:(f==null?void 0:f.statuses)??Jr,isSubmitting:_.isPending,onSubmit:A}),a.jsx(km,{open:!!m,onOpenChange:S=>{S||g(null)},customerName:m?se(m):"",onSubmit:ve,isSubmitting:k.isPending}),a.jsx(Em,{open:!!y,onOpenChange:S=>{S||p(null)},type:(y==null?void 0:y.type)??"supervisor",customerName:y?se(y.customer):"",isSubmitting:(y==null?void 0:y.type)==="supervisor"?M.isPending:Y.isPending,onSubmit:De,supervisorFilter:(t==null?void 0:t.role)==="supervisor"?t.id:void 0}),a.jsx(Tm,{open:!!j,onOpenChange:S=>{S||b(null)},customerName:j?se(j):"",cardId:(j==null?void 0:j.card_id)??0,isSubmitting:me.isPending,onSubmit:vs})]})}function Pm({customer:t,disabled:e,onOpenStatusDialog:s,onSendNormalCode:r,onOpenNoteDialog:n,onOpenAssignSupervisor:i,onOpenAssignAgent:o,onOpenUpsell:l}){var u;const[d,c]=E.useState(!1);return a.jsx(U,{className:"relative overflow-hidden",children:a.jsxs(H,{className:"space-y-4 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-primary/10 text-lg font-semibold text-primary",children:((u=t.display_name)==null?void 0:u.charAt(0))??"?"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground",children:t.display_name||t.email}),a.jsx(Ro,{status:t.status})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.email}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[t.card_title&&a.jsxs(pe,{variant:"secondary",children:["کارت: ",t.card_title]}),t.assigned_supervisor_name&&a.jsxs(pe,{variant:"outline",children:["سرپرست: ",t.assigned_supervisor_name]}),t.assigned_agent_name&&a.jsxs(pe,{variant:"outline",children:["کارشناس: ",t.assigned_agent_name]})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c(f=>!f),disabled:e,children:a.jsx(Cn,{className:"h-4 w-4"})}),d&&a.jsxs("div",{className:"absolute left-0 top-full z-20 mt-2 w-56 rounded-md border bg-background p-1 shadow-lg",children:[a.jsx(es,{icon:En,label:"تغییر وضعیت",onClick:()=>{s(t),c(!1)}}),a.jsx(es,{icon:mo,label:"ارسال پیامک کد عادی",onClick:()=>{r(t),c(!1)}}),a.jsx(es,{icon:Rs,label:"افزودن یادداشت",onClick:()=>{n(t),c(!1)}}),a.jsx(es,{icon:eh,label:"خرید افزایشی",onClick:()=>{l(t),c(!1)}}),a.jsx(es,{icon:ds,label:"تخصیص سرپرست",onClick:()=>{i(t),c(!1)}}),a.jsx(es,{icon:ds,label:"تخصیص کارشناس",onClick:()=>{o(t),c(!1)}})]})]})]}),a.jsxs("div",{className:"grid gap-2 text-xs text-muted-foreground",children:[t.phone&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"تلفن:"}),a.jsx("span",{className:"font-medium text-foreground",children:t.phone})]}),t.registered_at&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"تاریخ ثبت‌نام:"}),a.jsx("span",{className:"font-medium text-foreground",children:Lt(t.registered_at)})]})]})]})})}function es({icon:t,label:e,onClick:s}){return a.jsxs("button",{type:"button",className:Oe("flex w-full items-center justify-between gap-3 rounded-md px-3 py-2 text-right text-sm transition","hover:bg-muted"),onClick:s,children:[a.jsx("span",{children:e}),a.jsx(t,{className:"h-4 w-4 text-muted-foreground"})]})}const Mm=12;function Lm(){var K,F;const[t,e]=E.useState(""),[s,r]=E.useState(1),n=bt(t,400),{user:i}=Ge(),o=Fs(),{success:l,error:d,warning:c}=$t(),u=kr();E.useEffect(()=>{r(1)},[n]);const f=E.useMemo(()=>{const I={page:s,per_page:Mm};return n&&(I.search=n),I},[s,n]),h=Le({queryKey:["supervisors",f],queryFn:async()=>{var Q;const I=await Pt.getSupervisors(f);if(!I.success)throw new Error(((Q=I.error)==null?void 0:Q.message)||"خطا در دریافت سرپرستان");return I.data},placeholderData:I=>I}),m=st({mutationFn:async({supervisorId:I,cardIds:Q,setDefault:X})=>{var _;const ne=await Pt.assignSupervisorCards(I,Q,X);if(!ne.success)throw new Error(((_=ne.error)==null?void 0:_.message)||"خطا در بروزرسانی کارت‌ها");return ne.data},onSuccess:()=>{l("کارت‌ها بروزرسانی شد","لیست کارت‌های سرپرست به‌روزرسانی شد"),o.invalidateQueries({queryKey:["supervisors"]})},onError:I=>{d("خطا در ذخیره کارت‌ها",ke(I))}}),g=((K=h.data)==null?void 0:K.items)??[],y=(F=h.data)==null?void 0:F.pagination,p=(y==null?void 0:y.total_pages)??1,j=(y==null?void 0:y.total)??0,b=async(I,Q)=>{var X,ne,_;Q();try{const z=await Vs.getCards({per_page:100});if(!z.success)throw new Error(((X=z.error)==null?void 0:X.message)||"خطا در دریافت کارت‌ها");const M=z.data.items??[];if(!M.length){c("کارت موجود نیست","ابتدا کارت‌هایی در سایت اصلی ایجاد کنید");return}const Y=M.map(V=>`${V.id}: ${V.title}`).join(`
`),me=(ne=I.assigned_cards)!=null&&ne.length?`
کارت‌های فعلی: ${I.assigned_cards.join(", ")}`:"",se=window.prompt(`شناسه کارت‌های دلخواه را با کاما جدا کنید:
${Y}${me}`,((_=I.assigned_cards)==null?void 0:_.join(","))??"");if(se===null)return;const ye=se.split(",").map(V=>parseInt(V.trim(),10)).filter(V=>!Number.isNaN(V)&&V>0);if(!ye.length){c("ورودی نامعتبر","حداقل یک شناسه کارت معتبر وارد کنید");return}const A=window.confirm("آیا این کارت‌ها به عنوان کارت‌های پیش‌فرض تنظیم شوند؟");m.mutate({supervisorId:I.id,cardIds:ye,setDefault:A})}catch(z){d("خطا",ke(z))}},P=(I,Q)=>{Q(),u(`/agents?supervisor_id=${I.id}`)},T=I=>{u(`/schedule?supervisor_id=${I.id}`)},C=m.isPending;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"سرپرستان"}),a.jsx("p",{className:"text-muted-foreground",children:"مدیریت سرپرست‌ها، کارت‌های تخصیص‌یافته و آمار مربوطه"})]}),a.jsxs(Z,{disabled:!0,className:"gap-2",children:[a.jsx(fo,{className:"h-4 w-4"}),"سرپرست جدید (به‌زودی)"]})]}),a.jsx(U,{children:a.jsx(H,{className:"p-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(je,{value:t,onChange:I=>e(I.target.value),placeholder:"جست‌وجو در نام کاربری، نام یا ایمیل سرپرست...",className:"pr-9"})]})})}),a.jsxs(U,{children:[a.jsxs(ie,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx(le,{children:"فهرست سرپرستان"}),a.jsx(ue,{children:h.isLoading?"در حال دریافت اطلاعات...":`مجموع ${oe(j)} سرپرست یافت شد`})]}),a.jsx(pe,{variant:"outline",children:i==null?void 0:i.display_name})]}),a.jsxs(H,{children:[h.isError&&a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:ke(h.error)}),h.isLoading?a.jsx("div",{className:"flex h-48 items-center justify-center",children:a.jsx(it,{className:"h-8 w-8 animate-spin text-primary"})}):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-20 text-center text-muted-foreground",children:[a.jsx(Yf,{className:"h-12 w-12"}),a.jsx("h3",{className:"text-lg font-medium text-foreground",children:"سرپرستی یافت نشد"}),a.jsx("p",{className:"max-w-md text-sm",children:"برای نقش فعلی شما سرپرستی ثبت نشده است. در صورت نیاز با مدیر سیستم هماهنگ کنید."})]}):a.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:g.map(I=>a.jsx(Fm,{supervisor:I,disabled:C,onManageCards:b,onViewAgents:P,onViewSchedule:T},I.id))}),y&&p>1&&a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["صفحه ",oe(s)," از ",oe(p)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>r(I=>Math.max(I-1,1)),disabled:s===1||h.isFetching,children:"قبلی"}),a.jsx(Z,{variant:"outline",onClick:()=>r(I=>Math.min(I+1,p)),disabled:s===p||h.isFetching,children:"بعدی"})]})]})]})]})]})}function Fm({supervisor:t,disabled:e,onManageCards:s,onViewAgents:r,onViewSchedule:n}){var l,d;const[i,o]=E.useState(!1);return a.jsx(U,{className:"relative overflow-hidden",children:a.jsx(H,{className:"space-y-4 p-6",children:a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-start gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-primary/10 text-lg font-semibold text-primary",children:((l=t.display_name)==null?void 0:l.charAt(0))??"?"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground",children:t.display_name}),a.jsxs(pe,{variant:"secondary",children:["شناسه: ",t.id]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.email}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["نام کاربری: ",t.username]}),a.jsxs("span",{children:[oe(t.agents_count)," کارشناس"]}),a.jsxs("span",{children:[oe(t.customers_count)," مشتری"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"کارت‌های تخصیص‌یافته"}),(d=t.assigned_card_titles)!=null&&d.length?a.jsx("div",{className:"flex flex-wrap gap-2",children:t.assigned_card_titles.map((c,u)=>a.jsx(pe,{variant:"outline",children:c},`${t.id}-card-${u}`))}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"هیچ کارتی تخصیص داده نشده است."})]})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsxs(Z,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>n(t),children:[a.jsx(cs,{className:"h-4 w-4"}),"زمان‌بندی"]}),a.jsxs("div",{className:"relative",children:[a.jsx(Z,{variant:"ghost",size:"icon",disabled:e,onClick:()=>o(c=>!c),children:a.jsx(Cn,{className:"h-4 w-4"})}),i&&a.jsxs("div",{className:"absolute left-0 top-full z-20 mt-2 w-48 rounded-md border bg-background p-1 shadow-lg",children:[a.jsx(Qr,{label:"مدیریت کارت‌ها",onClick:()=>s(t,()=>o(!1))}),a.jsx(Qr,{label:"مشاهده کارشناسان",onClick:()=>r(t,()=>o(!1))}),a.jsx(Qr,{label:"بستن",onClick:()=>o(!1)})]})]})]})]})})})}function Qr({label:t,onClick:e}){return a.jsx("button",{type:"button",className:Oe("flex w-full items-center justify-between rounded-md px-3 py-2 text-right text-sm transition","hover:bg-muted"),onClick:()=>e(),children:a.jsx("span",{children:t})})}const Dm=12;function $m(){var X,ne;const[t]=oi(),e=kr(),s=Fs(),{user:r}=Ge(),{success:n,error:i,info:o,warning:l}=$t(),d=t.get("supervisor_id"),c=d?parseInt(d,10):void 0,[u,f]=E.useState(""),[h,m]=E.useState(1),g=bt(u,400);E.useEffect(()=>{m(1)},[g,c]);const y=E.useMemo(()=>{const _={page:h,per_page:Dm};return g&&(_.search=g),c&&!Number.isNaN(c)&&(_.supervisor_id=c),_},[h,g,c]),p=Le({queryKey:["agents",y],queryFn:async()=>{var z;const _=await Pt.getAgents(y);if(!_.success)throw new Error(((z=_.error)==null?void 0:z.message)||"خطا در دریافت اطلاعات کارشناسان");return _.data},placeholderData:_=>_}),j=st({mutationFn:async({agentId:_,supervisorId:z})=>{var M;const k=await Pt.updateAgentSupervisor(_,z);if(!k.success)throw new Error(((M=k.error)==null?void 0:M.message)||"خطا در بروزرسانی سرپرست");return k.data},onSuccess:()=>{n("سرپرست بروزرسانی شد","تخصیص سرپرست با موفقیت انجام شد"),s.invalidateQueries({queryKey:["agents"]}),s.invalidateQueries({queryKey:["supervisors"]})},onError:_=>{i("خطا در بروزرسانی",ke(_))}}),b=((X=p.data)==null?void 0:X.items)??[],P=(ne=p.data)==null?void 0:ne.pagination,T=(P==null?void 0:P.total_pages)??1,C=(P==null?void 0:P.total)??0,K=j.isPending,F=(_,z)=>{z();const k=window.prompt("شناسه سرپرست جدید را وارد کنید (برای حذف تخصیص، مقدار 0 وارد کنید):",_.supervisor_id?String(_.supervisor_id):"");if(k===null)return;const M=Number(k.trim());if(Number.isNaN(M)||M<0){i("ورودی نامعتبر","شناسه سرپرست باید یک عدد معتبر باشد");return}if(M===(_.supervisor_id??0)){o("بدون تغییر","شناسه وارد شده با مقدار فعلی برابر است");return}j.mutate({agentId:_.id,supervisorId:M})},I=(_,z)=>{z(),e(`/customers?agent_id=${_.id}`)},Q=_=>{if(_.customers_count===0){l("مشتری ثبت نشده است","برای این کارشناس مشتری فعالی وجود ندارد");return}e(`/customers?agent_id=${_.id}`)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"کارشناسان"}),a.jsx("p",{className:"text-muted-foreground",children:"لیست کارشناسان فعال سامانه و وضعیت تخصیص سرپرست و مشتریان آن‌ها"})]}),a.jsxs(Z,{disabled:!0,className:"gap-2",children:[a.jsx(fo,{className:"h-4 w-4"}),"کارشناس جدید (به‌زودی)"]})]}),a.jsx(U,{children:a.jsx(H,{className:"p-6",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-[minmax(0,1fr)_auto] md:items-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(je,{value:u,onChange:_=>f(_.target.value),placeholder:"جست‌وجو در نام، نام کاربری یا ایمیل کارشناس...",className:"pr-9"})]}),c&&a.jsxs(pe,{variant:"outline",children:["فیلتر سرپرست: ",oe(c)]})]})})}),a.jsxs(U,{children:[a.jsxs(ie,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx(le,{children:"فهرست کارشناسان"}),a.jsx(ue,{children:p.isLoading?"در حال دریافت اطلاعات...":`مجموع ${oe(C)} کارشناس یافت شد`})]}),r&&a.jsx(pe,{variant:"outline",children:r.display_name})]}),a.jsxs(H,{children:[p.isError&&a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:ke(p.error)}),p.isLoading?a.jsx("div",{className:"flex h-48 items-center justify-center",children:a.jsx(it,{className:"h-8 w-8 animate-spin text-primary"})}):b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-20 text-center text-muted-foreground",children:[a.jsx(Ot,{className:"h-12 w-12"}),a.jsx("h3",{className:"text-lg font-medium text-foreground",children:"کارشناس یافت نشد"}),a.jsx("p",{className:"max-w-md text-sm",children:"فیلترهای جست‌وجو نتیجه‌ای نداشت. می‌توانید شرط‌ها را تغییر دهید یا از مدیریت برای افزودن کارشناس کمک بگیرید."})]}):a.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:b.map(_=>a.jsx(Im,{agent:_,disabled:K,onChangeSupervisor:F,onViewCustomers:I,onOpenCustomers:Q},_.id))}),P&&T>1&&a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["صفحه ",oe(h)," از ",oe(T)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>m(_=>Math.max(_-1,1)),disabled:h===1||p.isFetching,children:"قبلی"}),a.jsx(Z,{variant:"outline",onClick:()=>m(_=>Math.min(_+1,T)),disabled:h===T||p.isFetching,children:"بعدی"})]})]})]})]})]})}function Im({agent:t,disabled:e,onChangeSupervisor:s,onViewCustomers:r,onOpenCustomers:n}){var u,f;const[i,o]=E.useState(!1),l=t.supervisor_name??"نامشخص",d=t.status==="inactive"?"غیرفعال":"فعال",c=t.status==="inactive"?"secondary":"default";return a.jsx(U,{className:"relative overflow-hidden",children:a.jsx(H,{className:"space-y-4 p-6",children:a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-start gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-primary/10 text-lg font-semibold text-primary",children:((u=t.display_name)==null?void 0:u.charAt(0))??((f=t.username)==null?void 0:f.charAt(0))??"?"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground",children:t.display_name||t.username}),a.jsxs(pe,{variant:"secondary",children:["شناسه: ",t.id]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.email}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["نام کاربری: ",t.username]}),a.jsxs("span",{children:[oe(t.customers_count)," مشتری"]}),a.jsxs("span",{children:["سرپرست: ",l]})]}),a.jsx(pe,{variant:c,children:d})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsxs(Z,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>n(t),children:[a.jsx(Ot,{className:"h-4 w-4"}),"مشتریان"]}),a.jsxs("div",{className:"relative",children:[a.jsx(Z,{variant:"ghost",size:"icon",disabled:e,onClick:()=>o(h=>!h),children:a.jsx(Cn,{className:"h-4 w-4"})}),i&&a.jsxs("div",{className:"absolute left-0 top-full z-20 mt-2 w-48 rounded-md border bg-background p-1 shadow-lg",children:[a.jsx(Gr,{label:"تغییر سرپرست",onClick:()=>s(t,()=>o(!1))}),a.jsx(Gr,{label:"مشاهده مشتریان",onClick:()=>r(t,()=>o(!1))}),a.jsx(Gr,{label:"بستن",onClick:()=>o(!1)})]})]})]})]})})})}function Gr({label:t,onClick:e}){return a.jsxs("button",{type:"button",className:Oe("flex w-full items-center justify-between rounded-md px-3 py-2 text-right text-sm transition","hover:bg-muted"),onClick:e,children:[a.jsx("span",{children:t}),a.jsx(ds,{className:"h-4 w-4 text-muted-foreground"})]})}function Um(){var r;const{user:t}=Ge();E.useEffect(()=>{document.title="کارت‌های من"},[]);const e=Le({queryKey:["my-cards",t==null?void 0:t.id],enabled:!!(t&&t.role==="supervisor"),queryFn:async()=>{var i;if(!(t!=null&&t.id))throw new Error("کاربر نامعتبر است");const n=await Vs.getSupervisorCards(t.id);if(!n.success)throw new Error(((i=n.error)==null?void 0:i.message)||"خطا در دریافت کارت‌ها");return n.data}});if((t==null?void 0:t.role)!=="supervisor")return a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"دسترسی محدود"}),a.jsx(ue,{children:"این بخش فقط برای سرپرستان در دسترس است."})]})});if(e.isLoading)return a.jsx(zm,{});if(e.isError)return a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"خطا در بارگذاری کارت‌ها"}),a.jsx(ue,{children:ke(e.error)})]})});const s=((r=e.data)==null?void 0:r.items)??[];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"کارت‌های من"}),a.jsx("p",{className:"text-muted-foreground",children:"کارت‌هایی که به عنوان سرپرست مدیریت می‌کنید"})]}),a.jsxs(pe,{variant:"outline",children:[oe(s.length)," کارت"]})]}),s.length===0?a.jsx(U,{children:a.jsx(H,{className:"p-12 text-center text-muted-foreground",children:a.jsx("p",{children:"هنوز کارتی به شما تخصیص داده نشده است."})})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.map(n=>a.jsx(Vm,{card:n},n.id))})]})}function Vm({card:t}){var e;return a.jsxs(U,{children:[a.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(le,{className:"text-base font-semibold text-foreground",children:t.title}),a.jsxs(pe,{variant:"secondary",children:["#",t.id]})]}),a.jsxs(H,{className:"space-y-3",children:[a.jsx(ue,{className:"text-sm text-muted-foreground",children:t.excerpt||"بدون توضیح"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsxs("p",{children:["ایجاد شده در: ",Lt(t.created_at)]}),a.jsxs("p",{children:["آخرین بروزرسانی: ",Lt(t.modified_at)]})]}),(e=t.pricings)!=null&&e.length?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-medium text-foreground",children:"تعرفه‌ها"}),a.jsx("div",{className:"space-y-1",children:t.pricings.map((s,r)=>a.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:s.label||`گزینه ${r+1}`}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:s.amount?s.amount.toLocaleString("fa-IR"):"0"})]},r))})]}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"تعرفه‌ای تعریف نشده است."})]})]})}function zm(){return a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[...Array(4)].map((t,e)=>a.jsx(U,{children:a.jsxs(H,{className:"space-y-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"h-4 w-1/3 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-4 w-10 animate-pulse rounded bg-muted"})]}),a.jsx("div",{className:"h-3 w-full animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-2/3 animate-pulse rounded bg-muted"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 w-full animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-3/4 animate-pulse rounded bg-muted"})]})]})},e))})}const qm=20;function Bm(){var c,u;const{user:t}=Ge(),[e,s]=E.useState({search:"",page:1}),r=bt(e.search,400);E.useEffect(()=>{s(f=>({...f,page:1}))},[r]);const n=Le({queryKey:["my-agents",t==null?void 0:t.id,{page:e.page,search:r}],enabled:!!(t!=null&&t.id&&t.role==="supervisor"),queryFn:async()=>{var m;if(!(t!=null&&t.id))throw new Error("کاربر نامعتبر است");if(t.role!=="supervisor")throw new Error("دسترسی ندارید");const f={page:e.page,per_page:qm,supervisor_id:t.id,search:r||void 0},h=await Pt.getAgents(f);if(!h.success)throw new Error(((m=h.error)==null?void 0:m.message)||"خطا در دریافت کارشناسان");return h.data},placeholderData:f=>f});if((t==null?void 0:t.role)!=="supervisor")return a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"دسترسی محدود"}),a.jsx(ue,{children:"این بخش فقط برای سرپرستان در دسترس است."})]})});if(n.isLoading)return a.jsx(Hm,{});if(n.isError)return a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"خطا در بارگذاری کارشناسان"}),a.jsx(ue,{children:ke(n.error)})]})});const i=((c=n.data)==null?void 0:c.items)??[],o=(u=n.data)==null?void 0:u.pagination,l=(o==null?void 0:o.total_pages)??1,d=(o==null?void 0:o.total)??0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"کارشناس‌های من"}),a.jsx("p",{className:"text-muted-foreground",children:"کارشناسانی که زیرمجموعه شما هستند"})]}),a.jsxs(pe,{variant:"outline",children:[oe(d)," کارشناس"]})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"جست‌وجو"}),a.jsx(ue,{children:"نام، نام کاربری یا ایمیل کارشناس را جست‌وجو کنید"})]}),a.jsx(H,{children:a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(je,{value:e.search,onChange:f=>s(h=>({...h,search:f.target.value})),placeholder:"جست‌وجو در کارشناسان",className:"pr-10"})]})})]}),i.length===0?a.jsx(U,{children:a.jsx(H,{className:"p-12 text-center text-muted-foreground",children:a.jsx("p",{children:"هنوز کارشناس فعالی برای شما ثبت نشده است."})})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(f=>a.jsx(Wm,{agent:f},f.id))}),o&&i.length>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["صفحه ",oe(e.page)," از ",oe(l)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>s(f=>({...f,page:Math.max(f.page-1,1)})),disabled:e.page===1||n.isFetching,children:"قبلی"}),a.jsx(Z,{variant:"outline",onClick:()=>s(f=>({...f,page:Math.min(f.page+1,l)})),disabled:e.page===l||n.isFetching,children:"بعدی"})]})]})]})}function Wm({agent:t}){return a.jsx(U,{children:a.jsxs(H,{className:"space-y-3 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-foreground",children:t.display_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.email})]}),a.jsx(pe,{variant:t.status==="inactive"?"secondary":"success",children:t.status==="inactive"?"غیرفعال":"فعال"})]}),a.jsxs("div",{className:"grid gap-2 text-xs text-muted-foreground sm:grid-cols-2",children:[a.jsxs("span",{children:["شناسه کارشناس: #",t.id]}),a.jsxs("span",{children:["نام کاربری: ",t.username]}),a.jsxs("span",{children:["مشتریان فعال: ",oe(t.customers_count)]}),a.jsxs("span",{children:["سرپرست: ",t.supervisor_name||"-"]})]})]})})}function Hm(){return a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[...Array(4)].map((t,e)=>a.jsx(U,{children:a.jsxs(H,{className:"space-y-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"h-4 w-1/3 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-4 w-10 animate-pulse rounded bg-muted"})]}),a.jsx("div",{className:"h-3 w-full animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-2/3 animate-pulse rounded bg-muted"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 w-full animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-3/4 animate-pulse rounded bg-muted"})]})]})},e))})}const Zm=20;function Km(){var c,u;const{user:t}=Ge(),[e,s]=E.useState({search:"",page:1}),r=bt(e.search,400);E.useEffect(()=>{s(f=>({...f,page:1}))},[r]);const n=Le({queryKey:["my-customers",t==null?void 0:t.id,{page:e.page,search:r}],enabled:!!(t!=null&&t.id),queryFn:async()=>{var h;if(!(t!=null&&t.id))throw new Error("کاربر نامعتبر است");const f=await ct.getCustomers({page:e.page,per_page:Zm,supervisor_id:t.id,search:r||void 0});if(!f.success)throw new Error(((h=f.error)==null?void 0:h.message)||"خطا در دریافت مشتریان");return f.data},placeholderData:f=>f}),i=((c=n.data)==null?void 0:c.items)??[],o=(u=n.data)==null?void 0:u.pagination,l=(o==null?void 0:o.total_pages)??1,d=(o==null?void 0:o.total)??0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"مشتریان من"}),a.jsx("p",{className:"text-muted-foreground",children:"مشتریانی که به شما تخصیص داده شده‌اند"})]}),a.jsxs(pe,{variant:"outline",children:[oe(d)," مشتری"]})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"جست‌وجو"}),a.jsx(ue,{children:"نام یا ایمیل مشتری را جست‌وجو کنید"})]}),a.jsx(H,{children:a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(je,{value:e.search,onChange:f=>s(h=>({...h,search:f.target.value})),placeholder:"جست‌وجو در مشتریان",className:"pr-10"})]})})]}),n.isLoading?a.jsx(Jm,{}):n.isError?a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"خطا در بارگذاری"}),a.jsx(ue,{children:ke(n.error)})]})}):i.length===0?a.jsx(U,{children:a.jsx(H,{className:"p-12 text-center text-muted-foreground",children:a.jsx("p",{children:"هیچ مشتری برای شما ثبت نشده است."})})}):a.jsx("div",{className:"grid gap-4",children:i.map(f=>a.jsx(Ym,{customer:f},f.id))}),o&&i.length>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["صفحه ",oe(e.page)," از ",oe(l)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>s(f=>({...f,page:Math.max(f.page-1,1)})),disabled:e.page===1||n.isFetching,children:"قبلی"}),a.jsx(Z,{variant:"outline",onClick:()=>s(f=>({...f,page:Math.min(f.page+1,l)})),disabled:e.page===l||n.isFetching,children:"بعدی"})]})]})]})}function Ym({customer:t}){return a.jsx(U,{children:a.jsxs(H,{className:"space-y-3 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-foreground",children:t.display_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.email})]}),a.jsx(pe,{children:At(t.status)})]}),a.jsxs("div",{className:"grid gap-2 text-xs text-muted-foreground sm:grid-cols-2",children:[a.jsxs("span",{children:["شناسه مشتری: #",t.id]}),a.jsxs("span",{children:["کارت: ",t.card_title||"-"]}),a.jsxs("span",{children:["کارشناس: ",t.assigned_agent_name||"-"]}),a.jsxs("span",{children:["ثبت‌نام: ",Lt(t.registered_at??"")]})]})]})})}function Jm(){return a.jsx("div",{className:"space-y-4",children:[...Array(4)].map((t,e)=>a.jsx(U,{children:a.jsx(H,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 animate-pulse rounded-full bg-muted"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-1/3 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded bg-muted"})]})]})})},e))})}const Qm=20;function Gm(){var c,u;const{user:t}=Ge(),[e,s]=E.useState({search:"",page:1}),r=bt(e.search,400);E.useEffect(()=>{s(f=>({...f,page:1}))},[r]);const n=Le({queryKey:["assigned-customers",t==null?void 0:t.id,{page:e.page,search:r}],enabled:!!(t!=null&&t.id&&t.role==="agent"),queryFn:async()=>{var h;if(!(t!=null&&t.id))throw new Error("کاربر نامعتبر است");const f=await ct.getCustomers({page:e.page,per_page:Qm,agent_id:t.id,search:r||void 0});if(!f.success)throw new Error(((h=f.error)==null?void 0:h.message)||"خطا در دریافت مشتریان");return f.data},placeholderData:f=>f}),i=((c=n.data)==null?void 0:c.items)??[],o=(u=n.data)==null?void 0:u.pagination,l=(o==null?void 0:o.total_pages)??1,d=(o==null?void 0:o.total)??0;return(t==null?void 0:t.role)!=="agent"?a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"دسترسی محدود"}),a.jsx(ue,{children:"این بخش فقط برای کارشناسان در دسترس است."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"مشتریان تخصیص‌یافته"}),a.jsx("p",{className:"text-muted-foreground",children:"مشتریانی که شما مسئول آن‌ها هستید"})]}),a.jsxs(pe,{variant:"outline",children:[oe(d)," مشتری"]})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"جست‌وجو"}),a.jsx(ue,{children:"نام یا ایمیل مشتری را جست‌وجو کنید"})]}),a.jsx(H,{children:a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(je,{value:e.search,onChange:f=>s(h=>({...h,search:f.target.value})),placeholder:"جست‌وجو در مشتریان",className:"pr-10"})]})})]}),n.isLoading?a.jsx(ep,{}):n.isError?a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"خطا در بارگذاری"}),a.jsx(ue,{children:ke(n.error)})]})}):i.length===0?a.jsx(U,{children:a.jsx(H,{className:"p-12 text-center text-muted-foreground",children:a.jsx("p",{children:"هنوز مشتری تخصیص‌یافته‌ای ندارید."})})}):a.jsx("div",{className:"grid gap-4",children:i.map(f=>a.jsx(Xm,{customer:f},f.id))}),o&&i.length>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["صفحه ",oe(e.page)," از ",oe(l)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>s(f=>({...f,page:Math.max(f.page-1,1)})),disabled:e.page===1||n.isFetching,children:"قبلی"}),a.jsx(Z,{variant:"outline",onClick:()=>s(f=>({...f,page:Math.min(f.page+1,l)})),disabled:e.page===l||n.isFetching,children:"بعدی"})]})]})]})}function Xm({customer:t}){return a.jsx(U,{children:a.jsxs(H,{className:"space-y-3 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-foreground",children:t.display_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.email})]}),a.jsx(pe,{children:At(t.status)})]}),a.jsxs("div",{className:"grid gap-2 text-xs text-muted-foreground sm:grid-cols-2",children:[a.jsxs("span",{children:["شناسه مشتری: #",t.id]}),a.jsxs("span",{children:["کارت: ",t.card_title||"-"]}),a.jsxs("span",{children:["سرپرست: ",t.assigned_supervisor_name||"-"]}),a.jsxs("span",{children:["ثبت‌نام: ",Lt(t.registered_at??"")]})]})]})})}function ep(){return a.jsx("div",{className:"space-y-4",children:[...Array(4)].map((t,e)=>a.jsx(U,{children:a.jsx(H,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 animate-pulse rounded-full bg-muted"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-1/3 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded bg-muted"})]})]})})},e))})}const Ha=20;function tp(){var m,g,y;const[t,e]=E.useState({search:"",page:1}),s=bt(t.search,400);E.useEffect(()=>{e(p=>({...p,page:1}))},[s,t.cardId]);const r=Le({queryKey:["cards",{per_page:100}],queryFn:async()=>{var j;const p=await Vs.getCards({per_page:100});if(!p.success)throw new Error(((j=p.error)==null?void 0:j.message)||"خطا در دریافت کارت‌ها");return p.data}}),n=Le({queryKey:["forms",{page:t.page,per_page:Ha,card_id:t.cardId}],queryFn:async()=>{var b;const p={page:t.page,per_page:Ha};t.cardId&&(p.card_id=t.cardId);const j=await ad.getForms(p);if(!j.success)throw new Error(((b=j.error)==null?void 0:b.message)||"خطا در دریافت فرم‌ها");return j.data},placeholderData:p=>p}),i=((m=r.data)==null?void 0:m.items)??[],o=((g=n.data)==null?void 0:g.items)??[],l=(y=n.data)==null?void 0:y.pagination,d=(l==null?void 0:l.total_pages)??1,c=(l==null?void 0:l.total)??0,u=E.useMemo(()=>{if(!s)return o;const p=s.toLowerCase();return o.filter(j=>{var b,P;return!!((b=j.title)!=null&&b.toLowerCase().includes(p)||(P=j.meta)!=null&&P.meta&&Object.values(j.meta.meta).some(C=>String(C).toLowerCase().includes(p)))})},[o,s]),f=n.isLoading,h=n.isError;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"فرم‌ها"}),a.jsx("p",{className:"text-muted-foreground",children:"لیست فرم‌های ارسال‌شده از مشتریان و جزئیات مربوط به کارت‌ها"})]}),a.jsxs(pe,{variant:"outline",children:[oe(c)," فرم ثبت شده"]})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"فیلترها"}),a.jsx(ue,{children:"بر اساس کارت یا متن فرم جست‌وجو کنید"})]}),a.jsxs(H,{className:"grid gap-4 md:grid-cols-2",children:[a.jsx("div",{className:"relative",children:a.jsx(je,{value:t.search,onChange:p=>e(j=>({...j,search:p.target.value})),placeholder:"جست‌وجو در عنوان یا محتوا"})}),a.jsx("div",{children:a.jsxs("select",{className:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-ring",value:t.cardId??"",onChange:p=>e(j=>({...j,cardId:p.target.value?Number(p.target.value):void 0})),children:[a.jsx("option",{value:"",children:"همه کارت‌ها"}),i.map(p=>a.jsx("option",{value:p.id,children:p.title},p.id))]})})]})]}),f?a.jsx("div",{className:"space-y-4",children:[...Array(4)].map((p,j)=>a.jsx(U,{children:a.jsx(H,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 animate-pulse rounded-full bg-muted"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-1/3 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded bg-muted"})]})]})})},j))}):h?a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"خطا در بارگذاری فرم‌ها"}),a.jsx(ue,{children:ke(n.error)})]})}):u.length===0?a.jsx(U,{children:a.jsxs(H,{className:"p-12 text-center text-muted-foreground",children:[a.jsx(fr,{className:"mx-auto mb-3 h-10 w-10"}),a.jsx("p",{children:"فرمی مطابق با فیلترهای فعلی یافت نشد."})]})}):a.jsx("div",{className:"grid gap-4",children:u.map(p=>a.jsx(sp,{form:p,cardMap:i},p.id))}),l&&u.length>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["صفحه ",oe(t.page)," از ",oe(d)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>e(p=>({...p,page:Math.max(p.page-1,1)})),disabled:t.page===1||n.isFetching,children:"قبلی"}),a.jsx(Z,{variant:"outline",onClick:()=>e(p=>({...p,page:Math.min(p.page+1,d)})),disabled:t.page===d||n.isFetching,children:"بعدی"})]})]})]})}function sp({form:t,cardMap:e}){const s=E.useMemo(()=>{const r=e.find(n=>n.id===t.meta.card_id);return r?r.title:`کارت #${t.meta.card_id}`},[e,t.meta.card_id]);return a.jsx(U,{children:a.jsxs(H,{className:"space-y-4 p-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:a.jsx(fr,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-foreground",children:t.title||`فرم #${t.id}`}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["کارت: ",s]})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsx("p",{children:"ارسال شده در:"}),a.jsx("p",{className:"font-medium text-foreground",children:Lt(t.created_at)})]})]}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsx(St,{label:"کد",value:t.meta.code||"-"}),a.jsx(St,{label:"تاریخ",value:t.meta.date||"-"}),a.jsx(St,{label:"زمان",value:t.meta.time||"-"}),a.jsx(St,{label:"شگفتانه",value:t.meta.surprise||"-"}),a.jsx(St,{label:"شناسه مشتری",value:t.meta.user_id?`#${t.meta.user_id}`:"-"}),a.jsx(St,{label:"شناسه سرپرست",value:t.meta.supervisor_id?`#${t.meta.supervisor_id}`:"-"}),a.jsx(St,{label:"شناسه کارشناس",value:t.meta.agent_id?`#${t.meta.agent_id}`:"-"})]}),t.meta.meta&&Object.keys(t.meta.meta).length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-foreground",children:"فیلدهای فرم"}),a.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:Object.entries(t.meta.meta).map(([r,n])=>a.jsx(St,{label:r,value:String(n)},r))})]})]})})}function St({label:t,value:e}){return a.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border px-3 py-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:t}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:e})]})}const tr=Array.from({length:11},(t,e)=>e+8),Xr=[0,1,2,3,4,5,6];function Vt(t,e){return`${t}-${e}`}function rp(){var se,ye;const[t]=oi(),e=Fs(),{user:s}=Ge(),{success:r,error:n}=$t(),[i,o]=E.useState(null),[l,d]=E.useState(null),[c,u]=E.useState({}),[f,h]=E.useState(!1),[m,g]=E.useState(null),[y,p]=E.useState(""),j=t.get("supervisor_id"),b=j?Number(j):void 0,P=Le({queryKey:["supervisors",{per_page:100}],queryFn:async()=>{var V;const A=await Pt.getSupervisors({per_page:100});if(!A.success)throw new Error(((V=A.error)==null?void 0:V.message)||"خطا در دریافت سرپرست‌ها");return A.data}}),T=((se=P.data)==null?void 0:se.items)??[];E.useEffect(()=>{if(!T.length){o(null);return}if(b&&T.some(A=>A.id===b)){o(b);return}(i===null||!T.some(A=>A.id===i))&&o(T[0].id)},[T,b,i]);const C=Le({queryKey:["supervisor-cards",i],enabled:!!i,queryFn:async()=>{var V;if(!i)return null;const A=await Vs.getSupervisorCards(i);if(!A.success)throw new Error(((V=A.error)==null?void 0:V.message)||"خطا در دریافت کارت‌های سرپرست");return A.data}}),K=((ye=C.data)==null?void 0:ye.items)??[];E.useEffect(()=>{if(!K.length){d(null),u({}),h(!1);return}(l===null||!K.some(A=>A.id===l))&&d(K[0].id)},[K,l]);const F=Le({queryKey:["schedule",i,l],enabled:!!(i&&l),queryFn:async()=>{var V;if(!i||!l)throw new Error("سرپرست یا کارت انتخاب نشده است");const A=await Wr.getSchedule(i,l);if(!A.success)throw new Error(((V=A.error)==null?void 0:V.message)||"خطا در دریافت جدول ظرفیت");return A.data}}),I=Le({queryKey:["availability",i,l],enabled:!!(i&&l),queryFn:async()=>{var V;if(!i||!l)throw new Error("سرپرست یا کارت انتخاب نشده است");const A=await Wr.getAvailability(l,i);if(!A.success)throw new Error(((V=A.error)==null?void 0:V.message)||"خطا در دریافت ظرفیت رزرو");return A.data}});E.useEffect(()=>{var V,ve;if(!i||!l)return;const A={};Xr.forEach(Se=>{tr.forEach(De=>{A[Vt(Se,De)]=0})}),(ve=(V=F.data)==null?void 0:V.matrix)!=null&&ve.length&&F.data.matrix.forEach(Se=>{const De=Vt(Se.weekday,Se.hour);A[De]=Se.capacity??0}),u(A),h(!1)},[i,l,F.data]);const Q=E.useMemo(()=>{var V,ve;const A=new Map;return(ve=(V=I.data)==null?void 0:V.slots)==null||ve.forEach(Se=>{A.set(Vt(Se.weekday,Se.hour),Se)}),A},[I.data]),X=!!i&&((s==null?void 0:s.role)==="company_manager"||(s==null?void 0:s.role)==="supervisor"&&(s==null?void 0:s.id)===i),ne=(A,V,ve)=>{const Se=Vt(A,V);u(De=>({...De,[Se]:ve})),h(!0)},_=st({mutationFn:async A=>{var ve;if(!i||!l)throw new Error("سرپرست یا کارت انتخاب نشده است");const V=await Wr.updateSchedule(i,l,A);if(!V.success)throw new Error(((ve=V.error)==null?void 0:ve.message)||"خطا در ذخیره ظرفیت");return V.data},onSuccess:()=>{r("ذخیره شد","ظرفیت‌ها با موفقیت بروزرسانی شد"),h(!1),i&&l&&(e.invalidateQueries({queryKey:["schedule",i,l]}),e.invalidateQueries({queryKey:["availability",i,l]}))},onError:A=>{n("خطا در ذخیره",ke(A))}}),z=()=>{if(!i||!l){n("انتخاب ناقص","لطفاً ابتدا سرپرست و کارت را انتخاب کنید");return}const A=Xr.flatMap(V=>tr.map(ve=>({weekday:V,hour:ve,capacity:c[Vt(V,ve)]??0})));_.mutate(A)},k=(A,V)=>{const ve=Vt(A,V);g({weekday:A,hour:V}),p(String(c[ve]??0))},M=()=>{if(!m)return;const A=Number(y);if(!Number.isFinite(A)||A<0){n("ورودی نامعتبر","ظرفیت باید یک عدد معتبر و بزرگ‌تر یا مساوی صفر باشد");return}ne(m.weekday,m.hour,Math.floor(A)),g(null),p("")},Y=()=>P.isLoading?a.jsx("div",{className:"h-10 w-full animate-pulse rounded-md bg-muted"}):T.length?a.jsx("select",{className:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-ring",value:i??"",onChange:A=>o(Number(A.target.value)),children:T.map(A=>a.jsx("option",{value:A.id,children:A.display_name},A.id))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"سرپرستی برای نمایش وجود ندارد. ابتدا سرپرست ایجاد کنید."}),me=()=>i?C.isLoading?a.jsx("div",{className:"h-10 w-full animate-pulse rounded-md bg-muted"}):K.length?a.jsx("select",{className:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-ring",value:l??"",onChange:A=>d(Number(A.target.value)),children:K.map(A=>a.jsx("option",{value:A.id,children:A.title},A.id))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"هیچ کارتی به این سرپرست اختصاص داده نشده است."}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"ابتدا سرپرست را انتخاب کنید."});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"زمان‌بندی"}),a.jsx("p",{className:"text-muted-foreground",children:"ظرفیت‌های هفتگی هر سرپرست و کارت را مدیریت کنید."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!X&&i&&a.jsx(pe,{variant:"secondary",children:"فقط مشاهده"}),a.jsx(Z,{onClick:z,disabled:!X||!i||!l||!f||_.isPending,className:"gap-2",children:_.isPending?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"h-4 w-4 animate-spin"}),"در حال ذخیره..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ho,{className:"h-4 w-4"}),"ذخیره تغییرات"]})})]})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"انتخاب سرپرست و کارت"}),a.jsx(ue,{children:"ابتدا سرپرست و کارت مرتبط را انتخاب کنید تا جدول ظرفیت نمایش داده شود."})]}),a.jsx(H,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"سرپرست"}),Y()]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"کارت"}),me()]})]})})]}),i&&l&&a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"جدول ظرفیت هفتگی"}),a.jsx(ue,{children:"ظرفیت هر اسلات زمانی از ساعت ۸ تا ۱۸ را مدیریت کنید."})]}),a.jsx(H,{children:F.isLoading?a.jsx("div",{className:"flex h-48 items-center justify-center",children:a.jsx(it,{className:"h-8 w-8 animate-spin text-primary"})}):F.isError?a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:ke(F.error)}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"border bg-muted p-2 text-right text-sm font-medium",children:"روز"}),tr.map(A=>a.jsxs("th",{className:"border bg-muted px-2 py-1 text-center text-xs font-medium",children:[A,":00"]},A))]})}),a.jsx("tbody",{children:Xr.map(A=>a.jsxs("tr",{children:[a.jsx("td",{className:"border bg-muted/50 p-2 text-sm font-medium",children:dn(A)}),tr.map(V=>{const ve=Vt(A,V),Se=c[ve]??0,De=Q.get(ve),tt=(De==null?void 0:De.reserved)??0,vs=Math.max(0,Se-tt),Ut=tt>Se;return a.jsx("td",{className:Oe("border p-2 text-center align-top",Ut&&"bg-red-50"),children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-semibold text-foreground",children:Se}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["رزرو: ",tt]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["خالی: ",vs]}),X&&a.jsx(Z,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>k(A,V),children:a.jsx(Xf,{className:"h-3.5 w-3.5"})})]})},ve)})]},A))})]})})})]}),m&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:a.jsxs(U,{className:"w-full max-w-md",children:[a.jsxs(ie,{children:[a.jsx(le,{children:"ویرایش ظرفیت اسلات"}),a.jsxs(ue,{children:["ظرفیت روز ",dn(m.weekday)," ساعت ",m.hour,":00"]})]}),a.jsx(H,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"ظرفیت جدید"}),a.jsx("input",{type:"number",min:0,className:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-ring",value:y,onChange:A=>p(A.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{className:"flex-1",onClick:M,children:"ذخیره"}),a.jsx(Z,{variant:"outline",className:"flex-1",onClick:()=>{g(null),p("")},children:"لغو"})]})]})})]})})]})}const Za=20;function np(){const[t,e]=E.useState(""),[s,r]=E.useState(1);E.useEffect(()=>{r(1)},[t]);const{data:n,isLoading:i,isError:o,error:l,isFetching:d}=Le({queryKey:["reservations",{page:s,per_page:Za}],queryFn:async()=>{var g;const m=await id.getReservations({page:s,per_page:Za});if(!m.success)throw new Error(((g=m.error)==null?void 0:g.message)||"خطا در دریافت رزروها");return m.data},placeholderData:m=>m}),c=(n==null?void 0:n.items)??[],u=n==null?void 0:n.pagination,f=(u==null?void 0:u.total_pages)??1,h=E.useMemo(()=>{if(!t)return c;const m=t.trim().toLowerCase();return c.filter(g=>{var y,p,j,b;return((y=g.customer_name)==null?void 0:y.toLowerCase().includes(m))||((p=g.customer_email)==null?void 0:p.toLowerCase().includes(m))||((j=g.card_title)==null?void 0:j.toLowerCase().includes(m))||((b=g.supervisor_name)==null?void 0:b.toLowerCase().includes(m))})},[c,t]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"رزروها"}),a.jsx("p",{className:"text-muted-foreground",children:"مدیریت و پیگیری رزروهای ثبت‌شده برای کارت‌ها و سرپرستان"})]}),u&&a.jsxs(pe,{variant:"outline",children:[oe(u.total)," رزرو ثبت شده"]})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"فیلترها"}),a.jsx(ue,{children:"نام مشتری، ایمیل، کارت یا سرپرست را جست‌وجو کنید"})]}),a.jsx(H,{children:a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(je,{value:t,onChange:m=>e(m.target.value),placeholder:"جست‌وجو...",className:"pr-10"})]})})]}),i?a.jsx("div",{className:"space-y-4",children:[...Array(4)].map((m,g)=>a.jsx(U,{children:a.jsx(H,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 animate-pulse rounded-full bg-muted"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-1/4 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded bg-muted"})]})]})})},g))}):o?a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"خطا در بارگذاری رزروها"}),a.jsx(ue,{children:ke(l)})]})}):h.length===0?a.jsx(U,{children:a.jsxs(H,{className:"p-12 text-center text-muted-foreground",children:[a.jsx(cs,{className:"mx-auto mb-3 h-10 w-10"}),a.jsx("p",{children:"رزروی مطابق با فیلترهای فعلی یافت نشد."})]})}):a.jsx("div",{className:"grid gap-4",children:h.map(m=>a.jsx(ap,{reservation:m},m.id))}),u&&h.length>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["صفحه ",oe(s)," از ",oe(f)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>r(m=>Math.max(m-1,1)),disabled:s===1||d,children:"قبلی"}),a.jsx(Z,{variant:"outline",onClick:()=>r(m=>Math.min(m+1,f)),disabled:s===f||d,children:"بعدی"})]})]})]})}function ap({reservation:t}){var e;return a.jsx(U,{children:a.jsx(H,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-start gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-lg font-semibold text-primary",children:((e=t.customer_name)==null?void 0:e.charAt(0))??"?"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground",children:t.customer_name}),a.jsxs(pe,{variant:"secondary",children:["شناسه: ",t.id]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.customer_email}),a.jsxs("div",{className:"grid gap-2 text-xs text-muted-foreground sm:grid-cols-2",children:[a.jsx(sr,{label:"کارت",value:t.card_title??"-"}),a.jsx(sr,{label:"سرپرست",value:t.supervisor_name??"-"}),a.jsx(sr,{label:"روز",value:dn(t.weekday)}),a.jsx(sr,{label:"ساعت",value:`${t.hour.toString().padStart(2,"0")}:00`})]})]})]}),a.jsxs("div",{className:"w-full text-sm text-muted-foreground md:w-40 md:text-right",children:[a.jsx("p",{children:"ثبت شده در:"}),a.jsx("p",{className:"font-medium text-foreground",children:Lt(t.created_at)})]})]})})})}function sr({label:t,value:e}){return a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{children:t}),a.jsx("span",{className:"font-medium text-foreground",children:e})]})}const ip=20,op=[{key:"all",label:"همه"},{key:"sent",label:"ارسال شده"},{key:"failed",label:"ناموفق"}];function lp(){var _,z;const t=Fs(),{success:e,error:s}=$t(),[r,n]=E.useState(1),[i,o]=E.useState(""),[l,d]=E.useState("all"),[c,u]=E.useState({to:"",bodyId:"",message:""}),f=bt(i,400);E.useEffect(()=>{n(1)},[f,l]);const h=E.useMemo(()=>({page:r,per_page:ip,search:f||void 0,status:l==="all"?void 0:l}),[r,f,l]),m=Le({queryKey:["sms-logs",h],queryFn:async()=>{var M;const k=await Xs.getSMSLogs(h);if(!k.success)throw new Error(((M=k.error)==null?void 0:M.message)||"خطا در دریافت پیامک‌ها");return k.data},placeholderData:k=>k}),g=Le({queryKey:["sms-statistics"],queryFn:async()=>{var M;const k=await Xs.getSMSStatistics({days:30});if(!k.success)throw new Error(((M=k.error)==null?void 0:M.message)||"خطا در دریافت آمار پیامک");return k.data}}),y=st({mutationFn:async()=>{var Y;const k={to:c.to.trim(),bodyId:c.bodyId.trim(),text:c.message.split(`
`).map(me=>me.trim()).filter(Boolean)};if(!k.to||!k.bodyId)throw new Error("شماره گیرنده و شناسه بدنه پیامک الزامی است");const M=await Xs.sendSMS(k);if(!M.success)throw new Error(((Y=M.error)==null?void 0:Y.message)||"ارسال پیامک ناموفق بود");return M.data},onSuccess:()=>{e("پیامک ارسال شد","پیامک با موفقیت ارسال گردید"),u({to:"",bodyId:"",message:""}),t.invalidateQueries({queryKey:["sms-logs"]})},onError:k=>{s("خطا در ارسال پیامک",ke(k))}}),p=st({mutationFn:async()=>{var M;const k=await Xs.testSMS();if(!k.success)throw new Error(((M=k.error)==null?void 0:M.message)||"آزمایش اتصال پیامک ناموفق بود");return k.data},onSuccess:k=>{e("آزمایش موفق",(k==null?void 0:k.message)||"اتصال به سرویس پیامک برقرار است")},onError:k=>{s("خطا در آزمایش پیامک",ke(k))}}),j=((_=m.data)==null?void 0:_.items)??[],b=(z=m.data)==null?void 0:z.pagination,P=(b==null?void 0:b.total_pages)??1,T=(b==null?void 0:b.total)??0,C=E.useMemo(()=>j.reduce((k,M)=>(M.status==="sent"?k.sent+=1:M.status==="failed"&&(k.failed+=1),k),{sent:0,failed:0}),[j]),K=op.map(k=>({...k,count:k.key==="all"?T:k.key==="sent"?C.sent:C.failed})),F=g.data,I=m.isLoading,Q=m.isError,X=m.error,ne=()=>{y.mutate()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"پیامک‌ها"}),a.jsx("p",{className:"text-muted-foreground",children:"ارسال و مشاهده پیامک‌های ارسال‌شده از سیستم"})]}),F&&a.jsxs(pe,{variant:"outline",children:["کل پیامک‌ها: ",oe(F.total_sent)]})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"ارسال پیامک"}),a.jsx(ue,{children:"پیامی را برای مشتریان ارسال کنید"})]}),a.jsxs(H,{className:"space-y-3",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[a.jsx(je,{placeholder:"شماره گیرنده",value:c.to,onChange:k=>u(M=>({...M,to:k.target.value}))}),a.jsx(je,{placeholder:"شناسه بدنه",value:c.bodyId,onChange:k=>u(M=>({...M,bodyId:k.target.value}))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{className:"flex-1",onClick:ne,disabled:y.isPending,children:y.isPending?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4 animate-spin"})," در حال ارسال..."]}):a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(mo,{className:"h-4 w-4"})," ارسال"]})}),a.jsx(Z,{type:"button",variant:"outline",onClick:()=>p.mutate(),disabled:p.isPending,children:p.isPending?a.jsx(it,{className:"h-4 w-4 animate-spin"}):"آزمایش سرویس"})]})]}),a.jsx("textarea",{className:"h-24 w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"متن پیامک",value:c.message,onChange:k=>u(M=>({...M,message:k.target.value}))})]})]}),a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:F&&a.jsxs(a.Fragment,{children:[a.jsx(rr,{title:"کل ارسال",value:F.total_sent,icon:Rs}),a.jsx(rr,{title:"موفق",value:F.successful,icon:Sn}),a.jsx(rr,{title:"ناموفق",value:F.failed,icon:xo}),a.jsx(rr,{title:"نرخ موفقیت",value:`${F.success_rate}%`,icon:uo})]})}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsx(le,{children:"فیلترها"}),a.jsx(ue,{children:"بر اساس شماره، مشتری یا وضعیت جست‌وجو کنید"})]}),a.jsx(H,{children:a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(It,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(je,{value:i,onChange:k=>o(k.target.value),placeholder:"جست‌وجو در شماره یا نام مشتری",className:"pr-10"})]}),a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto",children:K.map(k=>a.jsxs(Z,{variant:l===k.key?"default":"outline",size:"sm",onClick:()=>d(k.key),className:"whitespace-nowrap",children:[k.label,k.count>0&&a.jsx(pe,{variant:"secondary",className:"mr-2",children:oe(k.count)})]},k.key))})]})})]}),I?a.jsx(dp,{}):Q?a.jsx(U,{children:a.jsxs(ie,{children:[a.jsx(le,{children:"خطا در بارگذاری پیامک‌ها"}),a.jsx(ue,{children:ke(X)})]})}):j.length===0?a.jsx(U,{children:a.jsxs(H,{className:"p-12 text-center text-muted-foreground",children:[a.jsx(Rs,{className:"mx-auto mb-3 h-10 w-10"}),a.jsx("p",{children:"پیامی مطابق با فیلترهای فعلی یافت نشد."})]})}):a.jsx("div",{className:"grid gap-4",children:j.map(k=>a.jsx(cp,{log:k},k.id))}),b&&T>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["صفحه ",oe(r)," از ",oe(P)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>n(k=>Math.max(k-1,1)),disabled:r===1||m.isFetching,children:"قبلی"}),a.jsx(Z,{variant:"outline",onClick:()=>n(k=>Math.min(k+1,P)),disabled:r===P||m.isFetching,children:"بعدی"})]})]})]})}function rr({title:t,value:e,icon:s}){return a.jsx(U,{children:a.jsxs(H,{className:"flex items-center justify-between p-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:t}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:typeof e=="number"?oe(e):e})]}),a.jsx("div",{className:"rounded-full bg-primary/10 p-3 text-primary",children:a.jsx(s,{className:"h-5 w-5"})})]})})}function cp({log:t}){const e=t.status==="failed"?"destructive":"success",s=t.status==="failed"?"ناموفق":"ارسال شده";return a.jsx(U,{children:a.jsx(H,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-start gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:a.jsx(sh,{className:"h-5 w-5"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground",children:t.customer_name||"کاربر ناشناس"}),a.jsx(pe,{variant:"outline",children:t.phone})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["شناسه بدنه: ",t.bodyId||"-"]}),a.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:t.message}),t.error_message&&a.jsxs("p",{className:"text-sm text-destructive",children:["خطا: ",t.error_message]}),t.sent_by_name&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["ارسال شده توسط: ",t.sent_by_name]})]})]}),a.jsxs("div",{className:"w-full text-sm text-muted-foreground md:w-40 md:text-right",children:[a.jsx(pe,{variant:e,children:s}),a.jsx("p",{className:"mt-2",children:"ارسال در:"}),a.jsx("p",{className:"font-medium text-foreground",children:Lt(t.created_at)})]})]})})})}function dp(){return a.jsx("div",{className:"space-y-4",children:[...Array(4)].map((t,e)=>a.jsx(U,{children:a.jsx(H,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 animate-pulse rounded-full bg-muted"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-1/4 animate-pulse rounded bg-muted"}),a.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded bg-muted"})]})]})})},e))})}function up(){const{success:t}=$t(),[e,s]=E.useState({sms_username:"",sms_password:"",sms_normal_body_id:"",sms_upsell_body_id:"",payment_token_expiry:24,log_retention_days:30,webhook_secret:"",cors_origins:[""],email_notifications:!0,sms_notifications:!0,push_notifications:!1}),r=()=>{console.log("Save settings:",e),t("موفق","تنظیمات با موفقیت ذخیره شد")},n=()=>{console.log("Test SMS configuration"),t("موفق","تست پیامک با موفقیت انجام شد")},i=()=>{s({...e,cors_origins:[...e.cors_origins,""]})},o=d=>{s({...e,cors_origins:e.cors_origins.filter((c,u)=>u!==d)})},l=(d,c)=>{const u=[...e.cors_origins];u[d]=c,s({...e,cors_origins:u})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"تنظیمات"}),a.jsx("p",{className:"text-muted-foreground",children:"پیکربندی سیستم و تنظیمات امنیتی"})]}),a.jsxs(Z,{onClick:r,children:[a.jsx(ho,{className:"ml-2 h-4 w-4"}),"ذخیره تغییرات"]})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsxs(le,{className:"flex items-center space-x-2 space-x-reverse",children:[a.jsx(un,{className:"h-5 w-5"}),a.jsx("span",{children:"تنظیمات پیامک"})]}),a.jsx(ue,{children:"پیکربندی سرویس پیامک Payamak Panel"})]}),a.jsxs(H,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"نام کاربری"}),a.jsx(je,{type:"text",value:e.sms_username,onChange:d=>s({...e,sms_username:d.target.value}),placeholder:"نام کاربری Payamak Panel"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"رمز عبور"}),a.jsx(je,{type:"password",value:e.sms_password,onChange:d=>s({...e,sms_password:d.target.value}),placeholder:"رمز عبور Payamak Panel"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Body ID کد عادی"}),a.jsx(je,{type:"text",value:e.sms_normal_body_id,onChange:d=>s({...e,sms_normal_body_id:d.target.value}),placeholder:"12345"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Body ID پرداخت"}),a.jsx(je,{type:"text",value:e.sms_upsell_body_id,onChange:d=>s({...e,sms_upsell_body_id:d.target.value}),placeholder:"67890"})]})]}),a.jsxs(Z,{variant:"outline",onClick:n,children:[a.jsx(ih,{className:"ml-2 h-4 w-4"}),"تست تنظیمات پیامک"]})]})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsxs(le,{className:"flex items-center space-x-2 space-x-reverse",children:[a.jsx(Hf,{className:"h-5 w-5"}),a.jsx("span",{children:"تنظیمات API"})]}),a.jsx(ue,{children:"پیکربندی API و تنظیمات عمومی"})]}),a.jsx(H,{className:"space-y-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"انقضای توکن پرداخت (ساعت)"}),a.jsx(je,{type:"number",value:e.payment_token_expiry,onChange:d=>s({...e,payment_token_expiry:parseInt(d.target.value)}),placeholder:"24"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"نگهداری لاگ‌ها (روز)"}),a.jsx(je,{type:"number",value:e.log_retention_days,onChange:d=>s({...e,log_retention_days:parseInt(d.target.value)}),placeholder:"30"})]})]})})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsxs(le,{className:"flex items-center space-x-2 space-x-reverse",children:[a.jsx(nh,{className:"h-5 w-5"}),a.jsx("span",{children:"تنظیمات امنیتی"})]}),a.jsx(ue,{children:"پیکربندی امنیت و دسترسی‌ها"})]}),a.jsxs(H,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"کلید مخفی Webhook"}),a.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[a.jsx(je,{type:"text",value:e.webhook_secret,onChange:d=>s({...e,webhook_secret:d.target.value}),placeholder:"کلید مخفی برای تأیید webhook ها",className:"flex-1"}),a.jsx(Z,{variant:"outline",children:a.jsx(Kf,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"دامنه‌های مجاز CORS"}),a.jsxs("div",{className:"space-y-2",children:[e.cors_origins.map((d,c)=>a.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[a.jsx(je,{type:"url",value:d,onChange:u=>l(c,u.target.value),placeholder:"https://example.com",className:"flex-1"}),a.jsx(Z,{variant:"outline",size:"icon",onClick:()=>o(c),children:"×"})]},c)),a.jsx(Z,{variant:"outline",onClick:i,children:"افزودن دامنه"})]})]})]})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsxs(le,{className:"flex items-center space-x-2 space-x-reverse",children:[a.jsx(un,{className:"h-5 w-5"}),a.jsx("span",{children:"تنظیمات اعلان‌ها"})]}),a.jsx(ue,{children:"مدیریت اعلان‌ها و هشدارها"})]}),a.jsx(H,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"اعلان‌های ایمیل"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"دریافت اعلان‌ها از طریق ایمیل"})]}),a.jsx("input",{type:"checkbox",checked:e.email_notifications,onChange:d=>s({...e,email_notifications:d.target.checked}),className:"h-4 w-4"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"اعلان‌های پیامک"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"دریافت اعلان‌ها از طریق پیامک"})]}),a.jsx("input",{type:"checkbox",checked:e.sms_notifications,onChange:d=>s({...e,sms_notifications:d.target.checked}),className:"h-4 w-4"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"اعلان‌های Push"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"دریافت اعلان‌های فوری در مرورگر"})]}),a.jsx("input",{type:"checkbox",checked:e.push_notifications,onChange:d=>s({...e,push_notifications:d.target.checked}),className:"h-4 w-4"})]})]})})]}),a.jsxs(U,{children:[a.jsxs(ie,{children:[a.jsxs(le,{className:"flex items-center space-x-2 space-x-reverse",children:[a.jsx(po,{className:"h-5 w-5"}),a.jsx("span",{children:"اطلاعات سیستم"})]}),a.jsx(ue,{children:"وضعیت سیستم و نسخه نرم‌افزار"})]}),a.jsx(H,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"نسخه نرم‌افزار"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"1.0.0"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"وضعیت API"}),a.jsx(pe,{variant:"success",children:"فعال"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"وضعیت پایگاه داده"}),a.jsx(pe,{variant:"success",children:"متصل"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"وضعیت پیامک"}),a.jsx(pe,{variant:"success",children:"فعال"})]})]})})]})]})}function Be({children:t,allowedRoles:e}){const{isAuthenticated:s,isLoading:r,user:n}=Ge();return r?a.jsx("div",{className:"flex min-h-screen items-center justify-center",children:a.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-b-2 border-primary"})}):s?e&&n&&!(e.includes(n.role)||n.role==="company_manager")?a.jsx(Ts,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:t}):a.jsx(Ts,{to:"/login",replace:!0})}function Ka({children:t}){const{isAuthenticated:e,isLoading:s}=Ge();return s?a.jsx("div",{className:"flex min-h-screen items-center justify-center",children:a.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-b-2 border-primary"})}):e?a.jsx(Ts,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:t})}function Ye({children:t}){return a.jsxs("div",{className:"min-h-screen bg-background lg:flex lg:flex-row-reverse",children:[a.jsx(ch,{}),a.jsxs("div",{className:"flex-1 lg:pr-64",children:[a.jsx(dh,{}),a.jsx("main",{className:"p-6",children:t})]})]})}function fp(){const{checkAuth:t}=Pr(),e=io();return E.useEffect(()=>{t()},[t]),E.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark")},[e]),a.jsxs(a.Fragment,{children:[a.jsxs(Ho,{children:[a.jsx(Ie,{path:"/login",element:a.jsx(Ka,{children:a.jsx(pm,{})})}),a.jsx(Ie,{path:"/register",element:a.jsx(Ka,{children:a.jsx(xm,{})})}),a.jsx(Ie,{path:"/",element:a.jsx(Be,{children:a.jsx(Ts,{to:"/dashboard",replace:!0})})}),a.jsx(Ie,{path:"/dashboard",element:a.jsx(Be,{children:a.jsx(Ye,{children:a.jsx(wm,{})})})}),a.jsx(Ie,{path:"/customers",element:a.jsx(Be,{allowedRoles:["company_manager"],children:a.jsx(Ye,{children:a.jsx(Rm,{})})})}),a.jsx(Ie,{path:"/supervisors",element:a.jsx(Be,{allowedRoles:["company_manager"],children:a.jsx(Ye,{children:a.jsx(Lm,{})})})}),a.jsx(Ie,{path:"/agents",element:a.jsx(Be,{allowedRoles:["company_manager","supervisor"],children:a.jsx(Ye,{children:a.jsx($m,{})})})}),a.jsx(Ie,{path:"/my-cards",element:a.jsx(Be,{allowedRoles:["supervisor"],children:a.jsx(Ye,{children:a.jsx(Um,{})})})}),a.jsx(Ie,{path:"/my-agents",element:a.jsx(Be,{allowedRoles:["supervisor"],children:a.jsx(Ye,{children:a.jsx(Bm,{})})})}),a.jsx(Ie,{path:"/my-customers",element:a.jsx(Be,{allowedRoles:["supervisor"],children:a.jsx(Ye,{children:a.jsx(Km,{})})})}),a.jsx(Ie,{path:"/assigned-customers",element:a.jsx(Be,{allowedRoles:["agent"],children:a.jsx(Ye,{children:a.jsx(Gm,{})})})}),a.jsx(Ie,{path:"/forms",element:a.jsx(Be,{children:a.jsx(Ye,{children:a.jsx(tp,{})})})}),a.jsx(Ie,{path:"/schedule",element:a.jsx(Be,{allowedRoles:["company_manager","supervisor"],children:a.jsx(Ye,{children:a.jsx(rp,{})})})}),a.jsx(Ie,{path:"/reservations",element:a.jsx(Be,{allowedRoles:["company_manager","supervisor"],children:a.jsx(Ye,{children:a.jsx(np,{})})})}),a.jsx(Ie,{path:"/sms",element:a.jsx(Be,{children:a.jsx(Ye,{children:a.jsx(lp,{})})})}),a.jsx(Ie,{path:"/settings",element:a.jsx(Be,{allowedRoles:["company_manager"],children:a.jsx(Ye,{children:a.jsx(up,{})})})}),a.jsx(Ie,{path:"*",element:a.jsx(Ts,{to:"/dashboard",replace:!0})})]}),a.jsx(hh,{})]})}const G=t=>typeof t=="string",ks=()=>{let t,e;const s=new Promise((r,n)=>{t=r,e=n});return s.resolve=t,s.reject=e,s},Ya=t=>t==null?"":""+t,hp=(t,e,s)=>{t.forEach(r=>{e[r]&&(s[r]=e[r])})},mp=/###/g,Ja=t=>t&&t.indexOf("###")>-1?t.replace(mp,"."):t,Qa=t=>!t||G(t),Os=(t,e,s)=>{const r=G(e)?e.split("."):e;let n=0;for(;n<r.length-1;){if(Qa(t))return{};const i=Ja(r[n]);!t[i]&&s&&(t[i]=new s),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++n}return Qa(t)?{}:{obj:t,k:Ja(r[n])}},Ga=(t,e,s)=>{const{obj:r,k:n}=Os(t,e,Object);if(r!==void 0||e.length===1){r[n]=s;return}let i=e[e.length-1],o=e.slice(0,e.length-1),l=Os(t,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=Os(t,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=s},pp=(t,e,s,r)=>{const{obj:n,k:i}=Os(t,e,Object);n[i]=n[i]||[],n[i].push(s)},br=(t,e)=>{const{obj:s,k:r}=Os(t,e);if(s)return s[r]},gp=(t,e,s)=>{const r=br(t,s);return r!==void 0?r:br(e,s)},Mo=(t,e,s)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?G(t[r])||t[r]instanceof String||G(e[r])||e[r]instanceof String?s&&(t[r]=e[r]):Mo(t[r],e[r],s):t[r]=e[r]);return t},ts=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const yp=t=>G(t)?t.replace(/[&<>"'\/]/g,e=>xp[e]):t;class vp{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const bp=[" ",",","?","!",";"],wp=new vp(20),jp=(t,e,s)=>{e=e||"",s=s||"";const r=bp.filter(o=>e.indexOf(o)<0&&s.indexOf(o)<0);if(r.length===0)return!0;const n=wp.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!n.test(t);if(!i){const o=t.indexOf(s);o>0&&!n.test(t.substring(0,o))&&(i=!0)}return i},wn=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(s);let n=t;for(let i=0;i<r.length;){if(!n||typeof n!="object")return;let o,l="";for(let d=i;d<r.length;++d)if(d!==i&&(l+=s),l+=r[d],o=n[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&d<r.length-1)continue;i+=d-i+1;break}n=o}return n},wr=t=>t&&t.replace("_","-"),Np={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class jr{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||Np,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,r,n){return n&&!this.debug?null:(G(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new jr(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new jr(this.logger,e)}}var ht=new jr;class $r{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const n=this.observers[r].get(s)||0;this.observers[r].set(s,n+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,d]=o;for(let c=0;c<d;c++)l(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,d]=o;for(let c=0;c<d;c++)l.apply(l,[e,...r])})}}class Xa extends $r{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,s],r&&(Array.isArray(r)?l.push(...r):G(r)&&i?l.push(...r.split(i)):l.push(r)));const d=br(this.data,l);return!d&&!s&&!r&&e.indexOf(".")>-1&&(e=l[0],s=l[1],r=l.slice(2).join(".")),d||!o||!G(r)?d:wn(this.data&&this.data[e]&&this.data[e][s],r,i)}addResource(e,s,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,s];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),n=s,s=l[1]),this.addNamespaces(s),Ga(this.data,l,n),i.silent||this.emit("added",e,s,r,n)}addResources(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(G(r[i])||Array.isArray(r[i]))&&this.addResource(e,s,i,r[i],{silent:!0});n.silent||this.emit("added",e,s,r)}addResourceBundle(e,s,r,n,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,s];e.indexOf(".")>-1&&(l=e.split("."),n=r,r=s,s=l[1]),this.addNamespaces(s);let d=br(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?Mo(d,r,i):d={...d,...r},Ga(this.data,l,d),o.silent||this.emit("added",e,s,r)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(n=>s[n]&&Object.keys(s[n]).length>0)}toJSON(){return this.data}}var Lo={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,r,n){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,s,r,n))}),e}};const ei={};class Nr extends $r{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),hp(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ht.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,s);return r&&r.res!==void 0}extractFromKey(e,s){let r=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const n=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let i=s.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!jp(e,r,n);if(o&&!l){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:G(i)?[i]:i};const c=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(n)}return{key:e,namespaces:G(i)?[i]:i}}translate(e,s,r){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],s),d=l[l.length-1],c=s.lng||this.language,u=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const T=s.nsSeparator||this.options.nsSeparator;return n?{res:`${d}${T}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${T}${o}`}return n?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:o}const f=this.resolve(e,s);let h=f&&f.res;const m=f&&f.usedKey||o,g=f&&f.exactUsedKey||o,y=Object.prototype.toString.apply(h),p=["[object Number]","[object Function]","[object RegExp]"],j=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,P=!G(h)&&typeof h!="boolean"&&typeof h!="number";if(b&&h&&P&&p.indexOf(y)<0&&!(G(j)&&Array.isArray(h))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return n?(f.res=T,f.usedParams=this.getUsedParamsDetails(s),f):T}if(i){const T=Array.isArray(h),C=T?[]:{},K=T?g:m;for(const F in h)if(Object.prototype.hasOwnProperty.call(h,F)){const I=`${K}${i}${F}`;C[F]=this.translate(I,{...s,joinArrays:!1,ns:l}),C[F]===I&&(C[F]=h[F])}h=C}}else if(b&&G(j)&&Array.isArray(h))h=h.join(j),h&&(h=this.extendTranslation(h,e,s,r));else{let T=!1,C=!1;const K=s.count!==void 0&&!G(s.count),F=Nr.hasDefaultValue(s),I=K?this.pluralResolver.getSuffix(c,s.count,s):"",Q=s.ordinal&&K?this.pluralResolver.getSuffix(c,s.count,{ordinal:!1}):"",X=K&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),ne=X&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${I}`]||s[`defaultValue${Q}`]||s.defaultValue;!this.isValidLookup(h)&&F&&(T=!0,h=ne),this.isValidLookup(h)||(C=!0,h=o);const z=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:h,k=F&&ne!==h&&this.options.updateMissing;if(C||T||k){if(this.logger.log(k?"updateKey":"missingKey",c,d,o,k?ne:h),i){const se=this.resolve(o,{...s,keySeparator:!1});se&&se.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const Y=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Y&&Y[0])for(let se=0;se<Y.length;se++)M.push(Y[se]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(s.lng||this.language):M.push(s.lng||this.language);const me=(se,ye,A)=>{const V=F&&A!==h?A:z;this.options.missingKeyHandler?this.options.missingKeyHandler(se,d,ye,V,k,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(se,d,ye,V,k,s),this.emit("missingKey",se,d,ye,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?M.forEach(se=>{const ye=this.pluralResolver.getSuffixes(se,s);X&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ye.indexOf(`${this.options.pluralSeparator}zero`)<0&&ye.push(`${this.options.pluralSeparator}zero`),ye.forEach(A=>{me([se],o+A,s[`defaultValue${A}`]||ne)})}):me(M,o,ne))}h=this.extendTranslation(h,e,s,f,r),C&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${d}:${o}`),(C||T)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}:${o}`:o,T?h:void 0):h=this.options.parseMissingKeyHandler(h))}return n?(f.res=h,f.usedParams=this.getUsedParamsDetails(s),f):h}extendTranslation(e,s,r,n,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=G(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const h=e.match(this.interpolator.nestingRegexp);u=h&&h.length}let f=r.replace&&!G(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||n.usedLng,r),c){const h=e.match(this.interpolator.nestingRegexp),m=h&&h.length;u<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&n&&n.res&&(r.lng=this.language||n.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return i&&i[0]===m[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${s[0]}`),null):o.translate(...m,s)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,d=G(l)?[l]:l;return e!=null&&d&&d.length&&r.applyPostProcessor!==!1&&(e=Lo.handle(d,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,n,i,o,l;return G(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(d,s),u=c.key;n=u;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=s.count!==void 0&&!G(s.count),m=h&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),g=s.context!==void 0&&(G(s.context)||typeof s.context=="number")&&s.context!=="",y=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);f.forEach(p=>{this.isValidLookup(r)||(l=p,!ei[`${y[0]}-${p}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(ei[`${y[0]}-${p}`]=!0,this.logger.warn(`key "${n}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(j=>{if(this.isValidLookup(r))return;o=j;const b=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,u,j,p,s);else{let T;h&&(T=this.pluralResolver.getSuffix(j,s.count,s));const C=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(b.push(u+T),s.ordinal&&T.indexOf(K)===0&&b.push(u+T.replace(K,this.options.pluralSeparator)),m&&b.push(u+C)),g){const F=`${u}${this.options.contextSeparator}${s.context}`;b.push(F),h&&(b.push(F+T),s.ordinal&&T.indexOf(K)===0&&b.push(F+T.replace(K,this.options.pluralSeparator)),m&&b.push(F+C))}}let P;for(;P=b.pop();)this.isValidLookup(r)||(i=P,r=this.getResource(j,p,P,s))}))})}),{res:r,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,r,n):this.resourceStore.getResource(e,s,r,n)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!G(e.replace);let n=r?e.replace:e;if(r&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const i of s)delete n[i]}return n}static hasDefaultValue(e){const s="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&s===r.substring(0,s.length)&&e[r]!==void 0)return!0;return!1}}const en=t=>t.charAt(0).toUpperCase()+t.slice(1);class ti{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ht.create("languageUtils")}getScriptPartFromCode(e){if(e=wr(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=wr(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(G(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let n=Intl.getCanonicalLocales(e)[0];if(n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n)return n}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(n=>n.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),s.indexOf(r[1].toLowerCase())>-1&&(r[1]=en(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),s.indexOf(r[1].toLowerCase())>-1&&(r[1]=en(r[1].toLowerCase())),s.indexOf(r[2].toLowerCase())>-1&&(r[2]=en(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(r=>{if(s)return;const n=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(n))&&(s=n)}),!s&&this.options.supportedLngs&&e.forEach(r=>{if(s)return;const n=this.getLanguagePartFromCode(r);if(this.isSupportedCode(n))return s=n;s=this.options.supportedLngs.find(i=>{if(i===n)return i;if(!(i.indexOf("-")<0&&n.indexOf("-")<0)&&(i.indexOf("-")>0&&n.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===n||i.indexOf(n)===0&&n.length>1))return i})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),G(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let r=e[s];return r||(r=e[this.getScriptPartFromCode(s)]),r||(r=e[this.formatLanguageCode(s)]),r||(r=e[this.getLanguagePartFromCode(s)]),r||(r=e.default),r||[]}toResolveHierarchy(e,s){const r=this.getFallbackCodes(s||this.options.fallbackLng||[],e),n=[],i=o=>{o&&(this.isSupportedCode(o)?n.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return G(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):G(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{n.indexOf(o)<0&&i(this.formatLanguageCode(o))}),n}}let _p=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],kp={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Sp=["v1","v2","v3"],Cp=["v4"],si={zero:0,one:1,two:2,few:3,many:4,other:5},Ep=()=>{const t={};return _p.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:kp[e.fc]}})}),t};class Op{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=ht.create("pluralResolver"),(!this.options.compatibilityJSON||Cp.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Ep(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=wr(e==="dev"?"en":e),n=s.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:n})}catch{if(!e.match(/-|_/))return;const d=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(d,s)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,s);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(n=>`${s}${n}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,s);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((n,i)=>si[n]-si[i]).map(n=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n}`):r.numbers.map(n=>this.getSuffix(e,n,s)):[]}getSuffix(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(s)}`:this.getSuffixRetroCompatible(n,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const r=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let n=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(n===2?n="plural":n===1&&(n=""));const i=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return this.options.compatibilityJSON==="v1"?n===1?"":typeof n=="number"?`_plural_${n.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Sp.includes(this.options.compatibilityJSON)}}const ri=function(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=gp(t,e,s);return!i&&n&&G(s)&&(i=wn(t,s,r),i===void 0&&(i=wn(e,s,r))),i},tn=t=>t.replace(/\$/g,"$$$$");class Tp{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ht.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:d,formatSeparator:c,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:p,maxReplaces:j,alwaysFormat:b}=e.interpolation;this.escape=s!==void 0?s:yp,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?ts(i):o||"{{",this.suffix=l?ts(l):d||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?ts(h):m||ts("$t("),this.nestingSuffix=g?ts(g):y||ts(")"),this.nestingOptionsSeparator=p||",",this.maxReplaces=j||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,r)=>s&&s.source===r?(s.lastIndex=0,s):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,r,n){let i,o,l;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=m=>{if(m.indexOf(this.formatSeparator)<0){const j=ri(s,d,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,r,{...n,...s,interpolationkey:m}):j}const g=m.split(this.formatSeparator),y=g.shift().trim(),p=g.join(this.formatSeparator).trim();return this.format(ri(s,d,y,this.options.keySeparator,this.options.ignoreJSONStructure),p,r,{...n,...s,interpolationkey:y})};this.resetRegExp();const u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,f=n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>tn(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?tn(this.escape(m)):tn(m)}].forEach(m=>{for(l=0;i=m.regex.exec(e);){const g=i[1].trim();if(o=c(g),o===void 0)if(typeof u=="function"){const p=u(e,i,n);o=G(p)?p:""}else if(n&&Object.prototype.hasOwnProperty.call(n,g))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),o="";else!G(o)&&!this.useRawValueToEscape&&(o=Ya(o));const y=m.safeValue(o);if(e=e.replace(i[0],y),f?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,i,o;const l=(d,c)=>{const u=this.nestingOptionsSeparator;if(d.indexOf(u)<0)return d;const f=d.split(new RegExp(`${u}[ ]*{`));let h=`{${f[1]}`;d=f[0],h=this.interpolate(h,o);const m=h.match(/'/g),g=h.match(/"/g);(m&&m.length%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),c&&(o={...c,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,y),`${d}${u}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,d};for(;n=this.nestingRegexp.exec(e);){let d=[];o={...r},o=o.replace&&!G(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(n[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(n[1])){const u=n[1].split(this.formatSeparator).map(f=>f.trim());n[1]=u.shift(),d=u,c=!0}if(i=s(l.call(this,n[1].trim(),o),o),i&&n[0]===e&&!G(i))return i;G(i)||(i=Ya(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),c&&(i=d.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const Ap=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const n=r[1].substring(0,r[1].length-1);e==="currency"&&n.indexOf(":")<0?s.currency||(s.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?s.range||(s.range=n.trim()):n.split(";").forEach(o=>{if(o){const[l,...d]=o.split(":"),c=d.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();s[u]||(s[u]=c),c==="false"&&(s[u]=!1),c==="true"&&(s[u]=!0),isNaN(c)||(s[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:s}},ss=t=>{const e={};return(s,r,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const o=r+JSON.stringify(i);let l=e[o];return l||(l=t(wr(r),n),e[o]=l),l(s)}};class Rp{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ht.create("formatter"),this.options=e,this.formats={number:ss((s,r)=>{const n=new Intl.NumberFormat(s,{...r});return i=>n.format(i)}),currency:ss((s,r)=>{const n=new Intl.NumberFormat(s,{...r,style:"currency"});return i=>n.format(i)}),datetime:ss((s,r)=>{const n=new Intl.DateTimeFormat(s,{...r});return i=>n.format(i)}),relativetime:ss((s,r)=>{const n=new Intl.RelativeTimeFormat(s,{...r});return i=>n.format(i,r.range||"day")}),list:ss((s,r)=>{const n=new Intl.ListFormat(s,{...r});return i=>n.format(i)})},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=ss(s)}format(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(d=>d.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,d)=>{const{formatName:c,formatOptions:u}=Ap(d);if(this.formats[c]){let f=l;try{const h=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},m=h.locale||h.lng||n.locale||n.lng||r;f=this.formats[c](l,m,{...u,...n,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${c}`);return l},e)}}const Pp=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Mp extends $r{constructor(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=ht.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,n.backend,n)}queueLoad(e,s,r,n){const i={},o={},l={},d={};return e.forEach(c=>{let u=!0;s.forEach(f=>{const h=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,u=!1,o[h]===void 0&&(o[h]=!0),i[h]===void 0&&(i[h]=!0),d[f]===void 0&&(d[f]=!0)))}),u||(l[c]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(d)}}loaded(e,s,r){const n=e.split("|"),i=n[0],o=n[1];s&&this.emit("failedLoading",i,o,s),!s&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&r&&(this.state[e]=0);const l={};this.queue.forEach(d=>{pp(d.loaded,[i],o),Pp(d,e),s&&d.errors.push(s),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(c=>{l[c]||(l[c]={});const u=d.loaded[c];u.length&&u.forEach(f=>{l[c][f]===void 0&&(l[c][f]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(d=>!d.done)}read(e,s,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:r,tried:n,wait:i,callback:o});return}this.readingCalls++;const l=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,r,n+1,i*2,o)},i);return}o(c,u)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const c=d(e,s);c&&typeof c.then=="function"?c.then(u=>l(null,u)).catch(l):l(null,c)}catch(c){l(c)}return}return d(e,s,l)}prepareLoading(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();G(e)&&(e=this.languageUtils.toResolveHierarchy(e)),G(s)&&(s=[s]);const i=this.queueLoad(e,s,r,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,s,r){this.prepareLoading(e,s,{},r)}reload(e,s,r){this.prepareLoading(e,s,{reload:!0},r)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${s}loading namespace ${i} for language ${n} failed`,o),!o&&l&&this.logger.log(`${s}loaded namespace ${i} for language ${n}`,l),this.loaded(e,o,l)})}saveMissing(e,s,r,n,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${r}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const d={...o,isUpdate:i},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,s,r,n,d):u=c(e,s,r,n),u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}else c(e,s,r,n,l,d)}!e||!e[0]||this.store.addResource(e[0],s,r,n)}}}const ni=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),G(t[1])&&(e.defaultValue=t[1]),G(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(r=>{e[r]=s[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ai=t=>(G(t.ns)&&(t.ns=[t.ns]),G(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),G(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),nr=()=>{},Lp=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class Ls extends $r{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=ai(e),this.services={},this.logger=ht,this.modules={external:[]},Lp(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(r=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(G(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const n=ni();this.options={...n,...this.options,...ai(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?ht.init(i(this.modules.logger),this.options):ht.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Rp);const f=new ti(this.options);this.store=new Xa(this.options.resources,this.options);const h=this.services;h.logger=ht,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new Op(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=i(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Tp(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Mp(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var g=arguments.length,y=new Array(g>1?g-1:0),p=1;p<g;p++)y[p-1]=arguments[p];e.emit(m,...y)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Nr(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,y=new Array(g>1?g-1:0),p=1;p<g;p++)y[p-1]=arguments[p];e.emit(m,...y)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=nr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const d=ks(),c=()=>{const u=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(h),r(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),d}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nr;const n=G(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&n.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(c=>{c!=="cimode"&&i.indexOf(c)<0&&i.push(c)})};n?o(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>o(d)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,s,r){const n=ks();return typeof e=="function"&&(r=e,e=void 0),typeof s=="function"&&(r=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),r||(r=nr),this.services.backendConnector.reload(e,s,i=>{n.resolve(),r(i)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Lo.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const r=this.languages[s];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,s){var r=this;this.isLanguageChangingTo=e;const n=ks();this.emit("languageChanging",e);const i=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},o=(d,c)=>{c?(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve(function(){return r.t(...arguments)}),s&&s(d,function(){return r.t(...arguments)})},l=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const c=G(d)?d:this.services.languageUtils.getBestMatchFromCodes(d);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{o(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),n}getFixedT(e,s,r){var n=this;const i=function(o,l){let d;if(typeof l!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),f=2;f<c;f++)u[f-2]=arguments[f];d=n.options.overloadTranslationOptionHandler([o,l].concat(u))}else d={...l};d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);const h=n.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(o)?m=o.map(g=>`${d.keyPrefix}${h}${g}`):m=d.keyPrefix?`${d.keyPrefix}${h}${o}`:o,n.t(m,d)};return G(e)?i.lng=e:i.lngs=e,i.ns=s,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=s.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,d)=>{const c=this.services.backendConnector.state[`${l}|${d}`];return c===-1||c===0||c===2};if(s.precheck){const l=s.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!n||o(i,e)))}loadNamespaces(e,s){const r=ks();return this.options.ns?(G(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{r.resolve(),s&&s(n)}),r):(s&&s(),Promise.resolve())}loadLanguages(e,s){const r=ks();G(e)&&(e=[e]);const n=this.options.preload||[],i=e.filter(o=>n.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=n.concat(i),this.loadResources(o=>{r.resolve(),s&&s(o)}),r):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new ti(ni());return s.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new Ls(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nr;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},i=new Ls(n);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new Xa(this.store.data,n),i.services.resourceStore=i.store),i.translator=new Nr(i.services,n),i.translator.on("*",function(l){for(var d=arguments.length,c=new Array(d>1?d-1:0),u=1;u<d;u++)c[u-1]=arguments[u];i.emit(l,...c)}),i.init(n,s),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ze=Ls.createInstance();ze.createInstance=Ls.createInstance;ze.createInstance;ze.dir;ze.init;ze.loadResources;ze.reloadResources;ze.use;ze.changeLanguage;ze.getFixedT;ze.t;ze.exists;ze.setDefaultNamespace;ze.hasLoadedNamespace;ze.loadNamespaces;ze.loadLanguages;const Fp=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Dp={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},$p=t=>Dp[t],Ip=t=>t.replace(Fp,$p);let ii={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ip};function Up(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ii={...ii,...t}}const Vp={type:"3rdParty",init(t){Up(t.options.react)}},zp={title:"پنل مدیریت",logout:"خروج"},qp={dashboard:"داشبورد",supervisors:"سرپرست‌ها",agents:"کارشناس‌ها",myCards:"کارت‌های من",myAgents:"کارشناس‌های من",myCustomers:"مشتریان من",assignedCustomers:"مشتریان تخصیص‌یافته",forms:"فرم‌ها",customers:"مشتریان",schedule:"زمان‌بندی",reservations:"رزروها",sms:"پیامک‌ها",settings:"تنظیمات"},Bp={title:{default:"پنل مدیریت"},page:{dashboard:"داشبورد",supervisors:"سرپرست‌ها",agents:"کارشناس‌ها",myCards:"کارت‌های من",myAgents:"کارشناس‌های من",myCustomers:"مشتریان من",assignedCustomers:"مشتریان تخصیص‌یافته",forms:"فرم‌ها",customers:"مشتریان",schedule:"زمان‌بندی",reservations:"رزروها",sms:"پیامک‌ها",settings:"تنظیمات",profile:"پروفایل"},restricted:{supervisor:"این بخش فقط برای سرپرستان در دسترس است.",agent:"این بخش فقط برای کارشناسان در دسترس است."},notifications:{count:"{{count}}"}},Wp={company_manager:"مدیر شرکت",supervisor:"سرپرست",agent:"کارشناس"},Hp={previous:"قبلی",next:"بعدی",searchAgents:"جست‌وجو در کارشناسان",searchCustomers:"جست‌وجو در مشتریان",toggleLanguage:"EN",toggleLanguageFa:"FA"},Zp={myAgents:{title:"کارشناس‌های من",subtitle:"کارشناسانی که زیرمجموعه شما هستند",empty:"هنوز کارشناس فعالی برای شما ثبت نشده است.",total:"{{count}} کارشناس",error:"خطا در بارگذاری کارشناسان"},myCards:{title:"کارت‌های من",subtitle:"کارت‌هایی که به عنوان سرپرست مدیریت می‌کنید",empty:"هنوز کارتی به شما تخصیص داده نشده است.",total:"{{count}} کارت"},myCustomers:{title:"مشتریان من",subtitle:"مشتریانی که به شما تخصیص داده شده‌اند",empty:"هیچ مشتری برای شما ثبت نشده است.",total:"{{count}} مشتری"},assignedCustomers:{title:"مشتریان تخصیص‌یافته",subtitle:"مشتریانی که شما مسئول آن‌ها هستید",empty:"هنوز مشتری تخصیص‌یافته‌ای ندارید.",total:"{{count}} مشتری"}},Kp={sidebar:zp,nav:qp,header:Bp,roles:Wp,actions:Hp,pages:Zp},Yp={title:"Control Panel",logout:"Log out"},Jp={dashboard:"Dashboard",supervisors:"Supervisors",agents:"Agents",myCards:"My Cards",myAgents:"My Agents",myCustomers:"My Customers",assignedCustomers:"Assigned Customers",forms:"Forms",customers:"Customers",schedule:"Schedule",reservations:"Reservations",sms:"SMS",settings:"Settings"},Qp={title:{default:"Control Panel"},page:{dashboard:"Dashboard",supervisors:"Supervisors",agents:"Agents",myCards:"My Cards",myAgents:"My Agents",myCustomers:"My Customers",assignedCustomers:"Assigned Customers",forms:"Forms",customers:"Customers",schedule:"Schedule",reservations:"Reservations",sms:"SMS",settings:"Settings",profile:"Profile"},restricted:{supervisor:"This section is only available to supervisors.",agent:"This section is only available to agents."},notifications:{count:"{{count}}"}},Gp={company_manager:"Company Manager",supervisor:"Supervisor",agent:"Agent"},Xp={previous:"Previous",next:"Next",searchAgents:"Search agents",searchCustomers:"Search customers",toggleLanguage:"FA",toggleLanguageFa:"EN"},eg={myAgents:{title:"My Agents",subtitle:"Agents assigned to your team",empty:"You do not have any active agents yet.",total:"{{count}} agents",error:"Failed to load agents"},myCards:{title:"My Cards",subtitle:"Cards you manage as a supervisor",empty:"No cards have been assigned to you yet.",total:"{{count}} cards"},myCustomers:{title:"My Customers",subtitle:"Customers currently assigned to you",empty:"You have no assigned customers.",total:"{{count}} customers"},assignedCustomers:{title:"Assigned Customers",subtitle:"Customers you are responsible for",empty:"You do not have any assigned customers yet.",total:"{{count}} customers"}},tg={sidebar:Yp,nav:Jp,header:Qp,roles:Gp,actions:Xp,pages:eg},sg={fa:{translation:Kp},en:{translation:tg}};ze.use(Vp).init({resources:sg,lng:"fa",fallbackLng:"en",interpolation:{escapeValue:!1}}).catch(t=>{console.error("i18n initialization failed",t)});const rg=new Vo({defaultOptions:{queries:{staleTime:5*60*1e3,retry:(t,e)=>{var s,r;return((s=e==null?void 0:e.response)==null?void 0:s.status)===401||((r=e==null?void 0:e.response)==null?void 0:r.status)===403?!1:t<3}}}});sn.createRoot(document.getElementById("root")).render(a.jsx(qe.StrictMode,{children:a.jsx(zo,{client:rg,children:a.jsx(Zo,{children:a.jsx(fp,{})})})}));
